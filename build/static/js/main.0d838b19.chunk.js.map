{"version":3,"sources":["library/components/Chat/sub-components/InputArea/ImageUpload/imageIcon.png","library/TextTools.js","library/redux/selectors/config.js","library/icons/clock.svg","library/components/common/sub-components/Button/Button.jsx","library/redux/actionTypes.js","library/redux/reducers/root.js","library/redux/reducers/messages.js","library/redux/reducers/online.js","library/AccessCentral.js","library/redux/reducers/config.js","library/redux/reducers/windowOrder.js","library/redux/reducers/index.js","library/redux/reducers/users.js","library/redux/reducers/aliases.js","library/redux/reducers/rooms.js","library/redux/reducers/userId.js","library/redux/reducers/positions.js","library/redux/reducers/transactions.js","library/redux/reducers/wallets.js","library/redux/reducers/aliasId.js","library/redux/reducers/teams.js","library/redux/reducers/docFiles.js","library/redux/store.js","library/components/MenuBar/sub-components/Clock.jsx","library/components/common/lists/List/List.jsx","library/StorageManager.js","library/Converters.js","library/redux/actions/auth.js","library/redux/selectors/online.js","library/redux/actions/online.js","library/redux/selectors/aliasId.js","library/redux/selectors/userId.js","library/redux/actions/messages.js","library/socket/listeners/messages.js","library/redux/actions/wallets.js","library/redux/actions/forums.js","library/redux/actions/gameCodes.js","library/redux/actions/users.js","library/redux/actions/rooms.js","library/socket/listeners/rooms.js","library/socket/listeners/users.js","library/redux/actions/aliasId.js","library/redux/actions/aliases.js","library/socket/listeners/aliases.js","library/socket/listeners/wallets.js","library/redux/actions/transactions.js","library/socket/listeners/transactions.js","library/redux/actions/docFiles.js","library/socket/listeners/docFiles.js","library/socket/SocketManager.js","library/socket/actions/auth.js","library/redux/selectors/aliases.js","library/redux/selectors/users.js","library/redux/selectors/teams.js","library/components/common/lists/List/Item/ListItem.jsx","library/icons/menu.svg","library/redux/actions/windowOrder.js","library/components/MenuBar/lists/MainList.jsx","library/icons/chat.svg","library/icons/map.svg","library/icons/wallet.svg","library/icons/file.svg","library/icons/news.svg","library/components/MenuBar/lists/OpenApps.jsx","library/icons/user.svg","library/components/common/lists/IdentityPicker/IdentityPicker.jsx","library/components/MenuBar/MenuBar.jsx","library/components/DataHandler.jsx","library/icons/maximize.svg","library/icons/close.svg","library/components/common/Window/TopBar/TopBar.jsx","library/components/common/Window/Window.jsx","library/redux/selectors/transactions.js","library/components/Wallet/lists/Transaction/Item/TransactionItem.jsx","library/components/Wallet/lists/Transaction/TransactionList.jsx","library/redux/selectors/wallets.js","library/components/common/lists/IdentityList/Item/IdentityItem.jsx","library/components/common/lists/IdentityList/IdentityList.jsx","library/components/Wallet/lists/Wallet/Item/WalletItem.jsx","library/components/Wallet/lists/Wallet/WalletList.jsx","library/components/Wallet/lists/AdminWallet/AdminWalletList.jsx","library/components/Wallet/Wallet.jsx","library/components/WorldMap/views/MapView.jsx","library/redux/selectors/positions.js","library/components/WorldMap/lists/Position/PositionList.jsx","library/components/WorldMap/views/Positions.jsx","library/components/WorldMap/WorldMap.jsx","library/redux/selectors/rooms.js","library/icons/lock.svg","library/components/Chat/lists/Room/Item/RoomItem.jsx","library/components/Chat/lists/Room/RoomList.jsx","library/components/Chat/lists/Whisper/Item/WhisperItem.jsx","library/components/Chat/lists/Whisper/WhisperList.jsx","library/components/Chat/lists/Following/Item/FollowingItem.jsx","library/components/Chat/lists/Following/FollowingList.jsx","library/components/Chat/views/Rooms.jsx","library/components/common/sub-components/Image.jsx","library/components/Chat/sub-components/InputArea/ImageUpload/ImageUpload.jsx","library/socket/actions/messages.js","library/icons/pin.svg","library/icons/tag.svg","library/icons/file-plus.svg","library/components/Chat/sub-components/InputArea/InputArea.jsx","library/redux/selectors/messages.js","library/components/Chat/lists/Message/Item/MessageInfo/MessageInfo.jsx","library/components/Chat/lists/Message/Item/MessageItem.jsx","library/components/Chat/lists/Message/MessageList.jsx","library/components/Chat/views/Messages/Messages.jsx","library/components/common/lists/FileMenu.jsx","library/components/Chat/Chat.jsx","library/redux/selectors/windowOrder.js","library/components/common/dialogs/Dialog/Dialog.jsx","library/components/common/dialogs/IdentityDialog.jsx","library/components/common/sub-components/Input.jsx","library/socket/actions/rooms.js","library/components/Chat/dialogs/CreateRoomDialog.jsx","library/components/Chat/dialogs/RemoveRoomDialog.jsx","library/components/common/dialogs/LoginDialog.jsx","library/components/common/sub-components/Select.jsx","library/components/common/sub-components/Textarea.jsx","library/socket/actions/users.js","library/components/common/dialogs/RegisterDialog.jsx","library/socket/actions/aliases.js","library/components/common/dialogs/CreateAliasDialog.jsx","library/socket/actions/transactions.js","library/components/common/dialogs/CreateTransactionDialog.jsx","library/redux/selectors/docFiles.js","library/components/DocFile/lists/DocFile/Item/DocFileItem.jsx","library/components/DocFile/lists/DocFile/DocFileList.jsx","library/components/DocFile/Viewer/DocFileViewer.jsx","library/components/DocFile/DocFile.jsx","library/socket/actions/docFiles.js","library/components/DocFile/dialogs/CreateDocFile/CreateDocFileDialog.jsx","library/icons/arrow-right.svg","library/components/MainWindow/Dashboard/Item/NewsItem.jsx","library/components/MainWindow/Dashboard/Dashboard.jsx","library/icons/chevron-down.svg","library/icons/chevron-up.svg","library/components/News/lists/News/item/NewsItem.jsx","library/components/News/lists/News/NewsList.jsx","library/components/News/News.jsx","library/components/News/lists/News/dialogs/CreateNewsDialog.jsx","library/icons/unlock.svg","library/components/Chat/dialogs/JoinRoomDialog.jsx","library/components/MainWindow/MainWindow.jsx","App.jsx","index.jsx"],"names":["module","exports","beautifyNumber","number","getRequireOffName","state","config","get","getPublicRoomId","getAllowedImages","getGpsTracking","getPermissions","getNewsRoomId","getTimestamp","date","offset","lockDate","newDate","Date","timestamp","yearModification","dayModification","setHours","getHours","Number","isNaN","setFullYear","getFullYear","parseInt","setDate","getDate","mins","getMinutes","hours","seconds","getSeconds","month","getMonth","day","year","halfTime","fullTime","halfDate","fullDate","fullStamp","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","cx","cy","r","points","_ref","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","ref","ForwardRef","forwardRef","Button","React","onClick","children","disabled","stopPropagation","classNames","type","concat","join","event","memo","propTypes","func","isRequired","node","oneOf","bool","arrayOf","string","defaultProps","undefined","ALIASES","DEVICES","DOCFILES","FORUMS","FORUMPOSTS","FORUMTHREADS","GAMECODES","INVITATIONS","MESSAGES","ROOMS","SIMPLEMSGS","TEAMS","TRANSACTIONS","USERS","WALLETS","ChangeTypes","rootReducerSingle","action","newState","Map","payload","changeType","object","set","objectId","existing","updated","has","delete","rootReducerMultiple","reset","objects","forEach","MessageType","Status","AccessLevels","hasAccessTo","objectToAccess","toAuth","canSee","hasFullAccess","hasAccess","ownerId","ownerAliasId","teamId","isPublic","visibility","teamIds","userIds","userAdminIds","teamAdminIds","partOfTeams","accessLevel","authUserId","authTeamIds","aliases","foundOwnerAlias","includes","partOfTeam","userHasAccess","teamHasAccess","find","id","aliasHasAccess","aliasId","userHasAdminAccess","aliasHasAdminAccess","teamHasAdminAccess","adminId","isAdmin","defaultState","longitude","latitude","CHAT","PROFILE","DOCFILE","CreateAlias","name","CreateUser","followingRooms","isAnonymous","WindowTypes","combineReducers","users","messages","online","rooms","userId","positions","transactions","wallets","entries","keyValue","windowOrder","value","size","every","windowValue","sorted","sort","a","b","valueA","index","valueB","splice","findIndex","window","push","entryValue","newValue","console","log","windows","teams","docFiles","createStore","rootReducer","applyMiddleware","thunk","useState","showTime","setShowTime","store","getState","useEffect","updateTime","setTimeout","useCallback","List","scrollTo","alwaysExpanded","checkWidth","dropdown","listRef","useRef","windowRef","hidden","setHidden","listClasses","classes","current","offsetWidth","parentElement","contains","direction","lastElementChild","scrollIntoView","firstElementChild","document","removeEventListener","addEventListener","role","tabIndex","element","closest","StorageType","setLocalValue","localStorage","setItem","JSON","stringify","stringifyObject","getLocalValue","getItem","removeLocalValue","removeItem","removeAliasId","resetUser","getDeviceId","getToken","login","token","setUserId","logout","dispatch","batch","isOnline","getAliasId","getUserId","getCurrentIdentityId","createMessages","message","events","updateWallets","wallet","createWallets","createForums","forums","forum","createGameCodes","gameCodes","gameCode","updateUsers","user","createUsers","createNewUser","room","createRooms","updateRooms","removeRooms","followRoom","changeAliasId","createAliases","alias","createNewAlias","doTransaction","transaction","createTransactions","createDocFiles","docFile","socket","socketUri","ioUri","io","forceNew","SendEvents","GetEvents","ActionEvents","ListenerEvents","addSocketListener","callback","on","params","reconnect","disconnect","connect","emitSocketEvent","Promise","resolve","reject","paramsToSend","getStoredToken","emit","error","data","then","catch","logoutAction","loginAction","sentRoom","sentUser","sentAlias","updateAliases","sentWallet","sentTransaction","updateTransactions","sentDocFile","updateDocFiles","username","password","result","getAllAliases","getAlias","getAllUsers","getUser","getCurrentUser","getAnonymousUser","getCurrentAccessLevel","createSelector","getIdentities","createCachedSelector","values","getIdentitiesByIds","_","ids","map","getIdentitiesOrTeamsByIds","getIdentityById","getIdentityOrTeamById","team","getOthersIdentityIds","identities","filter","identity","getCurrentUserIdentities","ListItem","elementId","tagName","click","x1","y1","x2","y2","changeWindowOrder","removeWindow","useSelector","permissions","items","d","x","y","rx","ry","changeOrder","IdentityPicker","useIcon","identityId","currentIdentity","aliasName","content","DataHandler","useDispatch","getter","retrieveAll","onDoubleClick","done","Window","menu","defaultSize","setSize","coordinates","setCoordinates","windowClasses","style","zIndex","position","minWidth","minHeight","maxHeight","maxWidth","bounds","dragHandleClassName","enableResizing","top","topRight","topLeft","right","bottom","left","bottomRight","bottomLeft","resizeHandleStyles","onDragStart","onDragStop","newX","newY","innerWidth","onResizeStart","onResizeStop","offsetHeight","getTransactionIdsByWallets","walletIds","fromWalletId","toWalletId","reverse","transactionId","getTransactionById","from","to","customTimeCreated","timeCreated","teamName","amount","note","transactionIds","buffer","getAllWallets","getWalletById","getWalletIdsByCurrentUser","currentUser","identityIds","WalletItem","walletId","onChange","setWalletId","currentWalletIds","onDone","newWalletId","useMemo","MapView","setMap","mapRef","createMap","google","MarkerClusterer","MapLabel","worldMap","maps","disableDefaultUI","fullscreenControl","keyboardShortcuts","mapTypeControl","noClear","zoomControl","panControl","overviewMapControl","rotateControl","scaleControl","streetViewControl","center","lat","lng","zoom","styles","elementType","stylers","color","featureType","weight","getAllPositions","getPositionNamesByType","positionType","positionName","PositionList","positionsSelector","Positions","positionTypes","getAllRooms","getRoomById","getRooms","isWhisper","isUser","getWhisperRooms","participantIds","getUnfollowedRoomIds","roomName","roomA","roomB","toLowerCase","getFollowedRoomsIds","getWhisperRoom","currentIdentityId","identityRoom","getWhisperRoomName","currentIdentities","participant","secondParticipant","roomId","isLocked","roomIds","FollowingItem","Image","image","onRemove","altText","src","alt","useFormContext","setValue","register","watch","inputRef","previewRef","previewImage","setPreviewImage","watchImage","naturalWidth","naturalHeight","accept","file","files","reader","FileReader","imageName","readAsDataURL","imageIcon","sendMessage","text","split","messageType","switchRoom","sendNewsMessage","getMessagesByRoom","InputArea","onSend","minAccessLevel","formMethods","useForm","buttonRef","allowedImages","gpsTracking","resize","textarea","scrollHeight","toString","onSubmit","handleSubmit","maxLength","rows","onKeyDown","altKey","placeholder","getMessageById","getAllMessages","getNews","getNewsIdsPoints","getMessageIdsByRoom","MessageItem","previousMessageId","messageId","previousMessage","lastUpdated","getTime","line","thumbFileName","fileName","thumbWidth","thumbHeight","MessageList","messageIds","array","Messages","Chat","currentRoomId","setRoomId","newRoomId","onCreateRoom","isSystemRoom","isTeam","getOrder","Dialog","order","Input","shouldEqual","minLength","required","getValues","hasFocus","setHasFocus","isEmpty","setIsEmpty","validate","defaultValue","onFocus","onBlur","createRoom","roomToCreate","followRoomAction","removeRoom","methods","errors","repeatPassword","topic","newRoom","createError","setError","removeError","loginError","Select","multiple","checkEmpty","selectedOptions","Array","option","Textarea","trim","createUser","registerDevice","requireOffName","offName","pronouns","description","createAlias","createTransaction","transactionToCreate","toIdentity","walletOptions","getDocFileById","getDocFileIdsNames","docFileId","code","DocFile","currentDocFileId","setDocFileId","newDocFileId","onCreate","createDocFile","images","docFileToCreate","news","newsMapper","slice","NewsItem","expand","titleRef","showText","setShowText","NewsList","listItem","querySelector","newsMessage","News","newsRoom","onCreateNews","followError","newError","App","StrictMode","ElementQueries","require","render","getElementById","listen"],"mappings":"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","file":"static/js/main.0d838b19.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWAQMAAAAGz+OhAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAAA/+8G9rtUAAAAAXRSTlMAQObYZgAAAfNJREFUSMfl1jtOxDAQBuBYLlz6CDmKb4ZDxbWMKLhGEAVtJAoiEcX4PTP2LKSj2K12P+1m/9gzE0/T/b1mD6+1GCJ/ZJLYfDZNzA2Xqxc0xLZkltg+/G35Y0HtvGU0Xg7ImepsSXbAcohqG1ojk0y39ck36pI5ZPqiqWLL/5ldBpPtnsF0WxuwOS85MVNrApn19c/BWp2ACSi8X0222vnb9s4Ua9+MvTG2MuYu/vbzZpaHMbMIK9TfmwyfewuR6Fpt8d02rN8cLtqvvQk7SvbIxWY86V4uqRnJnvvceEtXGzGRwzW05yZbUa3Fd3FWbF1NxlmxdxZnxdFZnBVnZ6l7qYV4H94/EQvxXrx/JRbiPcavYgvxwiW/iMU6t6Vgq8XVM53ZcM9zZ3FLNDXh064Rk/GTpKbi8gtqOrUXtdyGlphJ7WqI2VRtM7HcNRqbyB2nsMn8QWJTvn4dTJfux1anhEVmyjQxyGxpkBlZbWoNJupAQHsu6zBBpnzb5WY1HrY2xJDVeGRODv0L8ZCJcV5BPGSKmYmamZ38jD2YGbtP44wd5jjEI7PETeNsGp4LEA8M4oFBPDCI18xBvLa/zxCv2TvEK7WhQn/C48zUaoR4kwfrnvFXzwdXzxvcWYU903BnH+6MxJ2luDMXdzZjz3D39PoBF4cEYKUUl6gAAAAASUVORK5CYII=\"","/**\n * Beautifies number by adding a 0 before the number if it is lower than 10\n * @param {Number} number Number to be beautified\n * @returns {string} String with number or with 0 + number\n */\n// TODO Use built-in padding\nexport const beautifyNumber = (number) => (number > 9\n  ? `${number}`\n  : `0${number}`\n);\n","import { beautifyNumber } from '../../TextTools';\n\nexport const getRequireOffName = (state) => state.config.get('requireOffName');\nexport const getPublicRoomId = (state) => state.config.get('publicRoomId');\nexport const getBroadcastId = (state) => state.config.get('broadcastId');\nexport const getAnonymousUser = (state) => state.config.get('anonymousUser');\nexport const getAllowedImages = (state) => state.config.get('allowedImages');\nexport const getGpsTracking = (state) => state.config.get('gpsTracking');\nexport const getPermissions = (state) => state.config.get('permissions');\nexport const getNewsRoomId = (state) => state.config.get('newsRoomId');\n\n/**\n * Takes date and returns shorter human-readable time.\n * @static\n * @param {Object} params Parameters.\n * @param {Date|number} params.date Date.\n * @param {Number} [params.offset] Should hours be modified from the final time?\n * @param {boolean} [params.lockDate] Should the year stay unmodified?\n * @returns {Object} Human-readable time and date.\n */\nexport const getTimestamp = (state, { date, offset, lockDate }) => {\n  const newDate = new Date(date);\n  const timestamp = {};\n  const { yearModification, dayModification } = state.config;\n\n  if (offset) {\n    newDate.setHours(newDate.getHours() + offset);\n  }\n\n  if (!lockDate && !Number.isNaN(yearModification)) {\n    if (yearModification && !Number.isNaN(yearModification)) {\n      newDate.setFullYear(newDate.getFullYear() + parseInt(yearModification, 10));\n    }\n\n    if (dayModification && !Number.isNaN(dayModification)) {\n      newDate.setDate(newDate.getDate() + parseInt(dayModification, 10));\n    }\n  }\n\n  timestamp.mins = beautifyNumber(newDate.getMinutes());\n  timestamp.hours = beautifyNumber(newDate.getHours());\n  timestamp.seconds = beautifyNumber(newDate.getSeconds());\n  timestamp.month = beautifyNumber(newDate.getMonth() + 1);\n  timestamp.day = beautifyNumber(newDate.getDate());\n  timestamp.year = newDate.getFullYear();\n  timestamp.halfTime = `${timestamp.hours}:${timestamp.mins}`;\n  timestamp.fullTime = `${timestamp.halfTime}:${timestamp.seconds}`;\n  timestamp.halfDate = `${timestamp.day}/${timestamp.month}`;\n  timestamp.fullDate = `${timestamp.halfDate}/${timestamp.year}`;\n  timestamp.fullStamp = `${timestamp.halfTime} ${timestamp.fullDate}`;\n\n  return timestamp;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 6 12 12 16 14\"\n});\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-clock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.8dde864e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {\n  arrayOf,\n  bool,\n  func,\n  node,\n  oneOf, string,\n} from 'prop-types';\n\nimport './Button.scss';\n\nconst Button = React.forwardRef(({\n  onClick,\n  children,\n  disabled,\n  stopPropagation,\n  classNames = [''],\n  type = 'button',\n}, ref) => (\n  <button\n    ref={ref}\n    className={`${['Button'].concat(classNames).join(' ')}`}\n    disabled={disabled}\n    type={type} /* eslint-disable-line react/button-has-type */\n    onClick={(event) => {\n      onClick(event);\n\n      if (stopPropagation) {\n        event.stopPropagation();\n      }\n    }}\n  >\n    {children}\n  </button>\n));\n\nexport default React.memo(Button);\n\nButton.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  type: oneOf(['button', 'submit']),\n  disabled: bool,\n  classNames: arrayOf(string),\n  stopPropagation: bool,\n};\n\nButton.defaultProps = {\n  type: 'button',\n  disabled: undefined,\n  classNames: [],\n  stopPropagation: undefined,\n};\n","export const ALIAS = 'alias';\nexport const DEVICE = 'device';\nexport const DOCFILE = 'docFile';\nexport const FORUM = 'forum';\nexport const FORUMPOST = 'forumPost';\nexport const FORUMTHREAD = 'forumThread';\nexport const GAMECODE = 'gameCode';\nexport const INVITATION = 'invitation';\nexport const MESSAGE = 'message';\nexport const POSITION = 'position';\nexport const ROOM = 'room';\nexport const SIMPLEMSG = 'simpleMsg';\nexport const TEAM = 'team';\nexport const TEAMSCORING = 'teamScoring';\nexport const TRANSACTION = 'transaction';\nexport const USER = 'user';\nexport const WALLET = 'wallet';\n\nexport const ALIASES = 'aliases';\nexport const DEVICES = 'devices';\nexport const DOCFILES = 'docFiles';\nexport const FORUMS = 'forums';\nexport const FORUMPOSTS = 'forumPosts';\nexport const FORUMTHREADS = 'forumThreads';\nexport const GAMECODES = 'gameCodes';\nexport const INVITATIONS = 'invitations';\nexport const MESSAGES = 'messages';\nexport const POSITIONS = 'positions';\nexport const ROOMS = 'rooms';\nexport const SIMPLEMSGS = 'simpleMsgs';\nexport const TEAMS = 'teams';\nexport const TEAMSCORINGS = 'teamScorings';\nexport const TRANSACTIONS = 'transactions';\nexport const USERS = 'users';\nexport const WALLETS = 'wallets';\n\nexport const USERID = 'userId';\nexport const ROOMID = 'roomId';\nexport const CONFIG = 'config';\nexport const ONLINE = 'online';\nexport const ALIASID = 'aliasId';\nexport const WINDOWORDER = 'windowOrder';\nexport const WINDOWORDERS = 'windowOrders';\n","export const ChangeTypes = {\n  UPDATE: 'update',\n  CREATE: 'create',\n  REMOVE: 'remove',\n  RESET: 'reset',\n};\n\nexport const rootReducerSingle = (state, action) => {\n  const newState = new Map([...state]);\n  const { type, payload } = action;\n  const { changeType } = payload;\n  const object = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      newState.set(object.objectId, object);\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      const existing = newState.get(object.objectId) || {};\n      const updated = { ...existing, ...object };\n\n      if (existing === updated) {\n        return state;\n      }\n\n      newState.set(object.objectId, updated);\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      if (!newState.has(object.objectId)) {\n        return state;\n      }\n\n      newState.delete(object.objectId);\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport const rootReducerMultiple = (state, action) => {\n  const { type, payload } = action;\n  const { reset, changeType } = payload;\n  const newState = reset\n    ? new Map()\n    : new Map([...state]);\n  const objects = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      objects.forEach((object) => newState.set(object.objectId, object));\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      objects\n        .forEach((object) => {\n          const existing = newState.get(object.objectId) || {};\n          const updated = { ...existing, ...object };\n\n          if (existing !== updated) {\n            newState.set(object.objectId, updated);\n          }\n        });\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      objects.forEach((object) => newState.delete(object.objectId));\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { MESSAGE, MESSAGES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport const MessageType = {\n  CHAT: 'chat',\n  WHISPER: 'whisper',\n  BROADCAST: 'broadcast',\n  MESSAGE: 'message',\n  NEWS: 'news',\n};\n\nexport default function messagesReducer(state = new Map(), action) {\n  if (action.type === MESSAGE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === MESSAGES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ONLINE } from '../actionTypes';\n\nexport const Status = {\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n  RECONNECTING: 'reconnecting',\n};\n\nexport default function onlineReducer(state = Status.OFFLINE, action) {\n  if (action.type === ONLINE) {\n    const { payload } = action;\n    const { online } = payload;\n\n    return online;\n  }\n\n  return state;\n}\n","export const AccessLevels = {\n  ANONYMOUS: 0,\n  STANDARD: 1,\n  PRIVILEGED: 2,\n  MODERATOR: 3,\n  ADMIN: 4,\n  SUPERUSER: 5,\n  GOD: 6,\n};\n\n/**\n * Checks if user has access, is admin or can see the object.\n * @param {Object} params Parameter.\n * @param {Object} params.objectToAccess Object to access.\n * @param {Object} params.toAuth Object to auth.\n * @returns {Object} Does the user have access to the object?\n */\nexport const hasAccessTo = ({\n  objectToAccess,\n  toAuth,\n}) => {\n  if (!objectToAccess || !toAuth) {\n    return {\n      canSee: false,\n      hasFullAccess: false,\n      hasAccess: false,\n    };\n  }\n\n  const {\n    ownerId,\n    ownerAliasId,\n    teamId,\n    isPublic,\n    visibility,\n    teamIds = [],\n    userIds = [],\n    userAdminIds = [],\n    teamAdminIds = [],\n  } = objectToAccess;\n  const {\n    hasFullAccess,\n    partOfTeams = [],\n    accessLevel = AccessLevels.ANONYMOUS,\n    objectId: authUserId,\n    teamIds: authTeamIds = [],\n    aliases = [],\n  } = toAuth;\n\n  const foundOwnerAlias = ownerAliasId && aliases.includes(ownerAliasId);\n  const partOfTeam = teamId && partOfTeams.includes(teamId);\n\n  const userHasAccess = userIds.concat([ownerId]).includes(authUserId);\n  const teamHasAccess = partOfTeam || teamIds.find((id) => authTeamIds.includes(id));\n  const aliasHasAccess = foundOwnerAlias || aliases.find((aliasId) => userIds.includes(aliasId));\n  const userHasAdminAccess = userAdminIds.includes(authUserId);\n  const aliasHasAdminAccess = foundOwnerAlias || aliases.find((aliasId) => userAdminIds.includes(aliasId));\n  const teamHasAdminAccess = partOfTeam || teamAdminIds.find((adminId) => authTeamIds.includes(adminId));\n  const isAdmin = ownerId === authUserId || hasFullAccess || accessLevel >= AccessLevels.ADMIN;\n\n  return {\n    canSee: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess || accessLevel >= visibility,\n    hasAccess: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess,\n    hasFullAccess: isAdmin || userHasAdminAccess || teamHasAdminAccess || aliasHasAdminAccess,\n  };\n};\n","import { CONFIG } from '../actionTypes';\nimport { AccessLevels } from '../../AccessCentral';\n\nconst defaultState = new Map();\n\ndefaultState.set('broadcastId', '111111111111111111111116');\ndefaultState.set('publicRoomId', '111111111111111111111110');\ndefaultState.set('newsRoomId', '111111111111111111111114');\ndefaultState.set('defaultForum', '111111111111111111111120');\ndefaultState.set('defaultLanguage', 'en');\ndefaultState.set('centerCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerOneCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerTwoCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('defaultZoomLevel', 15);\ndefaultState.set('yearModification', 0);\ndefaultState.set('dayModification', 0);\ndefaultState.set('requireOffName', false);\ndefaultState.set('activateTermination', false);\ndefaultState.set('allowedImages', { CHAT: false, PROFILE: false, DOCFILE: false });\ndefaultState.set('permissions', {\n  CreateAlias: {\n    name: 'CreateAlias',\n    accessLevel: AccessLevels.STANDARD,\n  },\n  CreateUser: {\n    name: 'CreateUser',\n    accessLevel: AccessLevels.ANONYMOUS,\n  },\n});\ndefaultState.set('anonymousUser', {\n  accessLevel: AccessLevels.ANONYMOUS,\n  followingRooms: [],\n  objectId: '-1',\n  isAnonymous: true,\n});\n// customUserFields\n// device id\n\nexport default function ConfigReducer(state = defaultState, action) {\n  if (action.type === CONFIG) {\n    const { payload } = action;\n    const { entries } = payload;\n    const newState = new Map([...state]);\n\n    entries.forEach((keyValue) => newState.set(keyValue[0], keyValue[1]));\n\n    return newState;\n  }\n\n  return state;\n}\n","import { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from './root';\n\nexport const WindowTypes = {\n  WALLET: 'wallet',\n  CHAT: 'chat',\n  WORLDMAP: 'worldMap',\n  DOCFILE: 'docFile',\n  NEWS: 'news',\n  DIALOGIDENTITY: 'dialogIdentity',\n  DIALOGCREATEROOM: 'dialogCreateRoom',\n  DIALOGREMOVEROOM: 'dialogRemoveRoom',\n  DIALOGREGISTER: 'dialogRegister',\n  DIALOGLOGIN: 'dialogLogin',\n  DIALOGCREATEALIAS: 'dialogCreateAlias',\n  DIALOGCREATETRANSACTION: 'dialogCreateTransaction',\n  DIALOGCREATEDOCFILE: 'dialogCreateDocFile',\n  DIALOGCREATENEWS: 'dialogCreateNews',\n  DIALOGJOINROOM: 'dialogJoinRoom',\n};\n\nconst defaultState = new Map();\n\nexport default function WindowOrderReducer(state = defaultState, action) {\n  if (action.type === WINDOWORDER) {\n    const { payload } = action;\n    const { id, value, changeType } = payload;\n    const newState = new Map([...state]);\n\n    if (changeType === ChangeTypes.UPDATE) {\n      if (newState.size > 0 && [...newState.keys()].indexOf(id) === newState.size - 1) {\n        const existing = newState.get(id);\n\n        if (Object.keys(value).length === Object.keys(existing).length && Object.keys(value).every((key) => existing[key] === value[key])) {\n          return state;\n        }\n      }\n\n      const windowValue = { ...value };\n\n      if (!newState.get(id)) {\n        windowValue.index = newState.size + 1;\n\n        newState.set(id, windowValue);\n      } else {\n        const sorted = [...newState.entries()]\n          .sort((a, b) => {\n            const valueA = a[1].index;\n            const valueB = b[1].index;\n\n            if (valueA > valueB) {\n              return 1;\n            }\n\n            if (valueA < valueB) {\n              return -1;\n            }\n\n            return 0;\n          });\n\n        const [window] = sorted.splice(sorted.findIndex(([key]) => key === id), 1);\n        window[1] = { ...windowValue };\n\n        sorted.push(window);\n\n        sorted.forEach(([key, entryValue], index) => {\n          const newValue = {\n            ...entryValue,\n            index: index + 1,\n          };\n\n          newState.set(key, newValue);\n        });\n      }\n\n      return newState;\n    }\n\n    if (changeType === ChangeTypes.REMOVE) {\n      console.log(id);\n\n      newState.delete(id);\n\n      return newState;\n    }\n\n    return state;\n  }\n\n  if (action.type === WINDOWORDERS) {\n    const { payload } = action;\n    const { windows } = payload;\n    const newState = new Map([...state]);\n\n    windows.forEach(({ id, value }) => newState.set(id, value));\n\n    return newState;\n  }\n\n  return state;\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport aliases from './aliases';\nimport messages from './messages';\nimport online from './online';\nimport rooms from './rooms';\nimport positions from './positions';\nimport transactions from './transactions';\nimport userId from './userId';\nimport wallets from './wallets';\nimport config from './config';\nimport aliasId from './aliasId';\nimport windowOrder from './windowOrder';\nimport teams from './teams';\nimport docFiles from './docFiles';\n\nexport default combineReducers({\n  users,\n  aliases,\n  messages,\n  online,\n  rooms,\n  userId,\n  positions,\n  transactions,\n  wallets,\n  config,\n  aliasId,\n  windowOrder,\n  teams,\n  docFiles,\n});\n","import { USER, USERS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function usersReducer(state = new Map(), action) {\n  if (action.type === USER) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === USERS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIAS, ALIASES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function aliasesReducer(state = new Map(), action) {\n  if (action.type === ALIAS) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ALIASES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ROOM, ROOMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function roomsReducer(state = new Map(), action) {\n  if (action.type === ROOM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ROOMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { USERID } from '../actionTypes';\n\nconst initialState = '-1';\n\nexport default function userIdReducer(state = initialState, action) {\n  if (action.type === USERID) {\n    const { payload } = action;\n    const { reset, userId } = payload;\n\n    return reset\n      ? initialState\n      : userId;\n  }\n\n  return state;\n}\n","import { POSITION, POSITIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function positionsReducer(state = new Map(), action) {\n  if (action.type === POSITION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === POSITIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === TRANSACTION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TRANSACTIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === WALLET) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === WALLETS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIASID } from '../actionTypes';\n\nconst initialState = null;\n\nexport default function aliasIdReducer(state = initialState, action) {\n  if (action.type === ALIASID) {\n    const { payload } = action;\n    const { reset, aliasId } = payload;\n\n    return reset\n      ? initialState\n      : aliasId;\n  }\n\n  return state;\n}\n","import { TEAM, TEAMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function teamsReducer(state = new Map(), action) {\n  if (action.type === TEAM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TEAMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function docFileReducer(state = new Map(), action) {\n  if (action.type === DOCFILE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === DOCFILES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nexport default createStore(rootReducer, applyMiddleware(thunk));\n","import React, { useCallback, useEffect, useState } from 'react';\n\nimport { getTimestamp } from '../../../redux/selectors/config';\nimport { ReactComponent as ClockSvg } from '../../../icons/clock.svg';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\n\nconst Clock = () => {\n  const [date, setDate] = useState(new Date());\n  const [showTime, setShowTime] = useState(false);\n  const timestamp = getTimestamp(store.getState(), { date });\n\n  const updateTime = () => {\n    setTimeout(() => {\n      setDate(new Date());\n      updateTime();\n    }, 1000);\n  };\n\n  useEffect(() => {\n    updateTime();\n  }, []);\n\n  const onClick = useCallback(() => setShowTime(!showTime), [showTime]);\n\n  return (\n    <div\n      key=\"clock\"\n      className=\"Clock\"\n    >\n      <Button onClick={onClick} classNames={[`${showTime ? 'hide' : ''}`]}><ClockSvg /></Button>\n      <Button onClick={onClick} classNames={[`${!showTime ? 'hide' : ''}`]}>{timestamp.halfTime}</Button>\n    </div>\n  );\n};\n\nexport default React.memo(Clock);\n","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  string,\n  arrayOf,\n  bool,\n  node,\n  shape,\n} from 'prop-types';\n\nimport './List.scss';\n\nconst List = React.forwardRef(({\n  children,\n  title,\n  scrollTo,\n  alwaysExpanded = false,\n  checkWidth = false,\n  dropdown = false,\n  classNames = [],\n}, ref) => {\n  const listRef = useRef(null);\n  const windowRef = useRef(null);\n  const [hidden, setHidden] = useState(!alwaysExpanded && typeof title !== 'undefined');\n  const listClasses = [];\n  const classes = ['List'].concat(classNames);\n\n  const onClick = (event) => {\n    if (dropdown && listRef.current && (!checkWidth || !windowRef.current || windowRef.current.offsetWidth < 600)) {\n      if (event.target === listRef.current || !listRef.current.parentElement.contains(event.target)) {\n        setHidden(true);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (scrollTo && listRef.current) {\n      if (scrollTo.direction === 'bottom' && listRef.current.lastElementChild) {\n        listRef.current.lastElementChild.scrollIntoView(false);\n      } else if (scrollTo.direction === 'top' && listRef.current.firstElementChild) {\n        listRef.current.firstElementChild.scrollIntoView(false);\n      }\n    }\n  });\n\n  useEffect(() => {\n    if (dropdown) {\n      if (!hidden) {\n        document.addEventListener('mousedown', onClick, false);\n      } else {\n        document.removeEventListener('mousedown', onClick, false);\n      }\n    }\n  }, [hidden]);\n\n  if (!hidden) {\n    classes.push('expanded');\n  } else {\n    listClasses.push('hide');\n  }\n\n  if (dropdown) {\n    listClasses.push('dropdown');\n  }\n\n  return (\n    <div\n      key=\"List\"\n      className={classes.join(' ')}\n    >\n      { title && (\n        <header\n          role=\"button\"\n          tabIndex={0}\n          key=\"listHeader\"\n          className={`toggle ${!alwaysExpanded ? 'clickable' : ''}`}\n          onClick={() => {\n            if (!alwaysExpanded) {\n              setHidden(!hidden);\n            }\n          }}\n        >\n          {title}\n        </header>\n      )}\n      <ul\n        ref={(element) => {\n          listRef.current = element;\n\n          if (ref) {\n            ref.current = element;\n          }\n\n          if (element) {\n            windowRef.current = element.closest('.Window');\n          }\n        }}\n        key=\"listElem\"\n        className={`${listClasses.join(' ')}`}\n        onClick={(event) => {\n          if (dropdown) {\n            onClick(event);\n\n            event.stopPropagation();\n          }\n        }}\n      >\n        {children}\n      </ul>\n    </div>\n  );\n});\n\nexport default React.memo(List);\n\nList.propTypes = {\n  children: node,\n  title: node,\n  classNames: arrayOf(string),\n  dropdown: bool,\n  scrollTo: shape({\n    direction: string,\n    buffer: bool,\n  }),\n  checkWidth: bool,\n  alwaysExpanded: bool,\n};\n\nList.defaultProps = {\n  classNames: [],\n  children: undefined,\n  title: undefined,\n  dropdown: false,\n  scrollTo: undefined,\n  checkWidth: false,\n  alwaysExpanded: false,\n};\n","import { stringifyObject } from './Converters';\n\nconst StorageType = {\n  DEVICEID: 'deviceId',\n  TOKEN: 'token',\n  USERID: 'userId',\n  ALIASID: 'aliasId',\n};\n\nconst setLocalValue = (name, value) => {\n  if (typeof value === 'string') {\n    localStorage.setItem(name, value);\n  } else {\n    localStorage.setItem(name, stringifyObject(value));\n  }\n};\n\nconst getLocalValue = (name) => localStorage.getItem(name);\n\nconst removeLocalValue = (name) => localStorage.removeItem(name);\n\nconst removeToken = () => removeLocalValue(StorageType.TOKEN);\n\nconst removeUserId = () => removeLocalValue(StorageType.USERID);\n\nexport const removeAliasId = () => removeLocalValue(StorageType.ALIASID);\n\nexport const resetUser = () => {\n  removeToken();\n  removeUserId();\n  removeAliasId();\n};\n\nexport const getDeviceId = () => getLocalValue(StorageType.DEVICEID);\n\nexport const setDeviceId = (value) => setLocalValue(StorageType.DEVICEID, value);\n\nexport const getToken = () => getLocalValue(StorageType.TOKEN);\n\nexport const setToken = (value) => setLocalValue(StorageType.TOKEN, value);\n\nexport const getUserId = () => getLocalValue(StorageType.USERID);\n\nexport const setUserId = (value) => setLocalValue(StorageType.USERID, value);\n\nexport const getAliasId = () => getLocalValue(StorageType.ALIASID);\n\nexport const setAliasId = (value) => setLocalValue(StorageType.ALIASID, value);\n","/**\n * Convert string representation to object\n * @param {string} value Value to be converted\n * @returns {Object|null} Converted object. null if the value was not set\n */\nexport const convertToObject = (value) => {\n  return value\n    ? JSON.parse(value)\n    : {};\n};\n\n/**\n * Convert string to boolean\n * @param {string} value Value to be converted\n * @returns {boolean|null} Converted boolean. null if the value was not a boolean\n */\nexport const convertToBoolean = (value) => {\n  if (value === 'true') {\n    return true;\n  }\n\n  if (value === 'false') {\n    return false;\n  }\n\n  return null;\n};\n\n/**\n * Convert string to int\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToInt = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseInt(value, 10);\n};\n\n/**\n * Convert string to float\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToFloat = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseFloat(value);\n};\n\n/**\n * Stringifies object for JSON storageManager\n * @param {Object} value Object to stringify\n * @returns {string} Stringified object\n */\nexport const stringifyObject = (value) => {\n  return JSON.stringify(value);\n};\n","import { batch } from 'react-redux';\n\nimport { ALIASID, USERID } from '../actionTypes';\nimport { resetUser, setToken, setUserId } from '../../StorageManager';\n\nexport const login = ({ userId, token }) => {\n  setToken(token);\n  setUserId(userId);\n\n  return {\n    type: USERID,\n    payload: { userId },\n  };\n};\n\nexport const logout = () => {\n  resetUser();\n\n  return (dispatch) => {\n    batch(() => {\n      dispatch({\n        type: USERID,\n        payload: { reset: true },\n      });\n\n      dispatch({\n        type: ALIASID,\n        payload: { reset: true },\n      });\n    });\n  };\n};\n","import { Status } from '../reducers/online';\n\nexport const isOnline = (state) => state.online === Status.ONLINE;\nexport const isReconnecting = (state) => state.online === Status.RECONNECTING;\n","import { batch } from 'react-redux';\n\nimport { CONFIG, ONLINE } from '../actionTypes';\nimport { Status } from '../reducers/online';\n\nexport const online = () => ({\n  type: ONLINE,\n  payload: { online: Status.ONLINE },\n});\n\nexport const offline = () => ({\n  type: ONLINE,\n  payload: { online: Status.OFFLINE },\n});\n\nexport const startup = (config) => (dispatch) => {\n  batch(() => {\n    dispatch({\n      type: CONFIG,\n      payload: {\n        entries: Object.entries(config),\n      },\n    });\n    dispatch(online());\n  });\n};\n","export const getAliasId = (state) => state.aliasId;\n","import { getAliasId } from './aliasId';\n\nexport const getUserId = (state) => state.userId;\n\nexport const getCurrentIdentityId = (state) => getAliasId(state) || getUserId(state);\n","import { MESSAGE, MESSAGES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const createMessages = ({ messages }) => {\n  if (messages.length === 1) {\n    return {\n      type: MESSAGE,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        message: messages[0],\n      },\n    };\n  }\n\n  return {\n    type: MESSAGES,\n    payload: {\n      messages,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import store from '../../redux/store';\nimport { createMessages } from '../../redux/actions/messages';\nimport { ChangeTypes } from '../../redux/reducers/root';\n\nconst events = {\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\nexport const chatMessage = () => ({\n  event: events.MSGCHAT,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGCHAT, error, data);\n  },\n});\n\nexport const whisperMessage = () => ({\n  event: events.MSGWHISPER,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGWHISPER, error, data);\n  },\n});\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { FORUM, FORUMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { GAMECODE, GAMECODES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { USER, USERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\nimport { createForums } from './forums';\nimport { createGameCodes } from './gameCodes';\nimport store from '../store';\n\nexport const updateUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewUser = ({\n  user,\n  wallet,\n  room,\n  forum,\n  gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createUsers({ users: [user] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    dispatch(createForums({ forums: [forum] }));\n    dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport { ROOM, ROOMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { updateUsers } from './users';\n\nexport const createRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const updateRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.UPDATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const removeRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.REMOVE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.REMOVE,\n    },\n  };\n};\n\nexport const followRoom = ({ room, user }) => (dispatch) => {\n  batch(() => {\n    dispatch(updateRooms({ rooms: [room] }));\n    dispatch(updateUsers({ users: [user] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport store from '../../redux/store';\nimport { createRooms, removeRooms, updateRooms } from '../../redux/actions/rooms';\nimport { ChangeTypes } from '../../redux/reducers/root';\nimport { updateUsers } from '../../redux/actions/users';\n\nconst events = {\n  ROOM: 'room',\n  FOLLOWER: 'follower',\n  FOLLOW: 'followRoom',\n};\n\nexport const room = () => ({\n  event: events.ROOM,\n  callback: ({ error, data }) => {\n    if (data && data.room) {\n      const { room: sentRoom, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.REMOVE) {\n        store.dispatch(removeRooms({ rooms: [sentRoom] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ROOM, error, data);\n  },\n});\n\nexport const follow = () => ({\n  event: events.FOLLOW,\n  callback: ({ error, data }) => {\n    if (data && data.room && data.user) {\n      store.dispatch(async (dispatch) => {\n        batch(() => {\n          dispatch(updateRooms({ rooms: [data.room] }));\n          dispatch(updateUsers({ users: [data.user] }));\n        });\n      });\n\n      return;\n    }\n\n    console.log(events.FOLLOW, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createUsers, updateUsers } from '../../redux/actions/users';\n\nconst events = {\n  USER: 'user',\n};\n\nexport const user = () => ({\n  event: events.USER,\n  callback: ({ error, data }) => {\n    if (data && data.user) {\n      const { user: sentUser, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createUsers({ users: [sentUser] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateUsers({ users: [sentUser] }));\n      }\n\n      return;\n    }\n\n    console.log(events.USER, error, data);\n  },\n});\n","import { ALIASID } from '../actionTypes';\nimport { removeAliasId, setAliasId } from '../../StorageManager';\n\nexport const changeAliasId = ({ aliasId }) => {\n  if (!aliasId) {\n    removeAliasId();\n\n    return {\n      type: ALIASID,\n      payload: { reset: true },\n    };\n  }\n\n  setAliasId(aliasId);\n\n  return {\n    type: ALIASID,\n    payload: {\n      aliasId,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { ALIAS, ALIASES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\n\nexport const updateAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewAlias = ({\n  alias,\n  wallet,\n  room,\n  // forum,\n  // gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createAliases({ aliases: [alias] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    // dispatch(createForums({ forums: [forum] }));\n    // dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createAliases, updateAliases } from '../../redux/actions/aliases';\n\nconst events = {\n  ALIAS: 'alias',\n};\n\nexport const alias = () => ({\n  event: events.ALIAS,\n  callback: ({ error, data }) => {\n    if (data && data.alias) {\n      const { alias: sentAlias, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createAliases({ aliases: [sentAlias] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateAliases({ aliases: [sentAlias] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ALIAS, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createWallets, updateWallets } from '../../redux/actions/wallets';\n\nconst events = {\n  WALLET: 'wallet',\n};\n\nexport const wallet = () => ({\n  event: events.WALLET,\n  callback: ({ error, data }) => {\n    if (data && data.wallet) {\n      const { wallet: sentWallet, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createWallets({ wallets: [sentWallet] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateWallets({ wallets: [sentWallet] }));\n      }\n\n      return;\n    }\n\n    console.log(events.WALLET, error, data);\n  },\n});\n","import { batch } from 'react-redux';\n\nimport { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { updateWallets } from './wallets';\n\nexport const updateTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const doTransaction = ({ transaction, wallet }) => (dispatch) => {\n  batch(() => {\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { doTransaction, updateTransactions } from '../../redux/actions/transactions';\n\nconst events = {\n  TRANSACTION: 'transaction',\n};\n\nexport const transaction = () => ({\n  event: events.TRANSACTION,\n  callback: ({ error, data }) => {\n    if (data && data.transaction && (data.changeType === ChangeTypes.UPDATE || data.wallet)) {\n      const { transaction: sentTransaction, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(doTransaction(data));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateTransactions({ transactions: [sentTransaction] }));\n      }\n\n      return;\n    }\n\n    console.log(events.TRANSACTION, error, data);\n  },\n});\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createDocFiles, updateDocFiles } from '../../redux/actions/docFiles';\n\nconst events = {\n  DOCFILE: 'docFile',\n};\n\nexport const docFile = () => ({\n  event: events.DOCFILE,\n  callback: ({ error, data }) => {\n    if (data && data.docFile) {\n      const { docFile: sentDocFile, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createDocFiles({ docFiles: [sentDocFile] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateDocFiles({ docFiles: [sentDocFile] }));\n      }\n\n      return;\n    }\n\n    console.log(events.DOCFILE, error, data);\n  },\n});\n","import store from '../redux/store';\nimport { isOnline, isReconnecting } from '../redux/selectors/online';\nimport {\n  offline,\n  online,\n  startup,\n} from '../redux/actions/online';\nimport {\n  getDeviceId,\n  setDeviceId,\n  getToken as getStoredToken,\n  getUserId as getStoredUserId,\n  getAliasId as getStoredAliasId,\n} from '../StorageManager';\nimport {\n  logout as logoutAction,\n  login as loginAction,\n} from '../redux/actions/auth';\nimport { getUserId } from '../redux/selectors/userId';\nimport { chatMessage, whisperMessage } from './listeners/messages';\nimport { follow, room } from './listeners/rooms';\nimport { user } from './listeners/users';\nimport { changeAliasId } from '../redux/actions/aliasId';\nimport { alias } from './listeners/aliases';\nimport { wallet } from './listeners/wallets';\nimport { transaction } from './listeners/transactions';\nimport { docFile } from './listeners/docFiles';\n\nconst socket = (() => {\n  let socketUri = typeof ioUri !== 'undefined' // eslint-disable-line no-undef\n    ? ioUri // eslint-disable-line no-undef\n    : '/';\n\n  if (process.env.NODE_ENV === 'development') {\n    socketUri = `${window.location.hostname}:8888`;\n  }\n\n  return window.io(socketUri, { forceNew: true });\n})();\n\nexport const SendEvents = {\n  ALIAS: 'createAlias',\n  USER: 'createUser',\n  MESSAGE: 'sendMessage',\n  ROOM: 'createRoom',\n  INVITATION: 'createInvitation',\n  DOCFILE: 'createDocFile',\n  FORUM: 'createForum',\n  FORUMPOST: 'createForumPost',\n  FORUMTHREAD: 'createForumThread',\n  GAMECODE: 'createGameCode',\n  SIMPLEMSG: 'sendSimpleMsg',\n  TEAM: 'createTeam',\n  TRANSACTION: 'createTransaction',\n  DEVICE: 'createDevice',\n  FOLLOW: 'followRoom',\n  GETMSGBYROOM: 'getMessagesByRoom',\n  REMOVEROOM: 'removeRoom',\n  UNLOCKDOCFILE: 'unlockDocFile',\n};\n\nexport const GetEvents = {\n  ALIASES: 'getAliases',\n  USERS: 'getUsers',\n  MESSAGES: 'getMessages',\n  ROOMS: 'getRooms',\n  INVITATIONS: 'getInvitations',\n  DOCFILES: 'getDocFiles',\n  FORUMS: 'getForums',\n  FORUMPOSTS: 'getForumPosts',\n  FORUMTHREADS: 'getForumThreads',\n  GAMECODES: 'getGameCodes',\n  SIMPLEMSGS: 'getSimpleMsgs',\n  TEAMS: 'getTeams',\n  TRANSACTIONS: 'getTransactions',\n  WALLETS: 'getWallets',\n  DEVICES: 'getDevices',\n};\n\nexport const ActionEvents = {\n  LOGIN: 'login',\n};\n\nexport const ListenerEvents = {\n  RECONNECT: 'reconnect',\n  STARTUP: 'startup',\n  DISCONNECT: 'disconnect',\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\n// export const EmitTypes = {\n//   FORUM: 'forum',\n//   FORUMTHREAD: 'forumThread',\n//   FORUMPOST: 'forumPost',\n\n//   DEVICE: 'device',\n//   DOCFILE: 'docFile',\n\n//   BROADCAST: 'broadcast',\n//   GAMECODE: 'gameCode',\n//   ALIAS: 'alias',\n//   CREATEPOSITION: 'createPosition',\n//   POSITION: 'position',\n\n//   TEAM: 'team',\n//   INVITATION: 'invitation',\n//   TEAMMEMBER: 'team member',\n//   LOGOUT: 'logout',\n//   BAN: 'ban',\n//   WALLET: 'wallet',\n//   TRANSACTION: 'transaction',\n//   TEAMSCORING: 'teamScoring',\n//   TERMINATE: 'terminate',\n//   SENDMSG: 'sendMessage',\n//   UPDATEPOSITION: 'updatePosition',\n//   UPDATEPOSITIONCOORDINATES: 'updatePositionCoordinates',\n//   ,\n//   BANUSER: 'banUser',\n//   UNBANUSER: 'unbanUser',\n//   VERIFYUSER: 'verifyUser',\n//   CHANGEPASSWORD: 'changePassword',\n//   UPDATEUSER: 'updateUser',\n//   UPDATEWALLET: 'updateWallet',\n//   UNFOLLOW: 'unfollowRoom',\n//   CREATETRANSACTION: 'createTransaction',\n//   INVITETEAM: 'inviteToTeam',\n//   LEAVETEAM: 'leaveTeam',\n//   SIMPLEMSG: 'simpleMsg',\n//   INVITEROOM: 'inviteToRoom',\n//   DECLINEINVITE: 'decline',\n//   ACCEPTTEAM: 'acceptTeamInvitation',\n//   ACCEPTROOM: 'acceptRoomInvitation',\n//   SENDROOMINVITE: 'sendInvitationToRoom',\n//   GETUSERBYCODE: 'getUserByCode',\n//   USEGAMECODE: 'useGameCode',\n//   CONNECTUSER: 'connectUser',\n// };\n\nexport const addSocketListener = async ({ event, callback }) => {\n  socket.on(event, (params) => { console.log(event, params); callback(params); });\n};\n\nexport const reconnect = () => {\n  if (!isReconnecting(store.getState())) {\n    socket.disconnect();\n    socket.connect();\n  }\n};\n\n/**\n * Emit event through socket.io.\n * @param {string} event Event to emit.\n * @param {Object} [params] Parameters to send in the emit.\n */\nexport const emitSocketEvent = async (event, params = {}) => new Promise((resolve, reject) => {\n  const paramsToSend = params;\n  paramsToSend.token = getStoredToken();\n\n  if (!isOnline(store.getState())) {\n    reconnect();\n  }\n\n  socket.emit(event, paramsToSend, ({ error, data }) => {\n    if (error) {\n      reject(error);\n    } else {\n      resolve(data);\n    }\n  });\n});\n\nif (process.env.NODE_ENV === 'development') {\n  setInterval(() => {\n    emitSocketEvent('ping').catch(() => {\n      console.log('ping failed');\n    });\n  }, 1000);\n}\n\naddSocketListener({\n  event: ListenerEvents.RECONNECT,\n  callback: () => {\n    if (getUserId(store.getState)) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          store.dispatch(online());\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction());\n        });\n    }\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.STARTUP,\n  callback: ({ data }) => {\n    const userId = getStoredUserId();\n    const token = getStoredToken();\n    const aliasId = getStoredAliasId();\n\n    if (userId && token) {\n      store.dispatch(loginAction({\n        userId,\n        token,\n      }));\n    }\n\n    if (aliasId) {\n      store.dispatch(changeAliasId({ aliasId }));\n    }\n\n    if (!getDeviceId()) {\n      setDeviceId('1234567890123456');\n    }\n\n    store.dispatch(startup(data));\n\n    if (userId || token) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          store.dispatch(online());\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction());\n        });\n    }\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.DISCONNECT,\n  callback: () => {\n    store.dispatch(offline());\n\n    reconnect();\n  },\n});\n\n// Messages\naddSocketListener(chatMessage());\naddSocketListener(whisperMessage());\n\n// Rooms\naddSocketListener(room());\naddSocketListener(follow());\n\n// User\naddSocketListener(user());\n\n// Aliases\naddSocketListener(alias());\n\n// Wallets\naddSocketListener(wallet());\n\n// Transactions\naddSocketListener(transaction());\n\n// DocFiles\naddSocketListener(docFile());\n","import store from '../../redux/store';\nimport { login as loginAction, logout as logoutAction } from '../../redux/actions/auth';\nimport { ActionEvents, emitSocketEvent } from '../SocketManager';\n\nexport const login = async (username, password) => {\n  const result = await emitSocketEvent(ActionEvents.LOGIN, { user: { username, password } });\n\n  const { user, token } = result;\n\n  store.dispatch(loginAction({ userId: user.objectId, token }));\n\n  return result;\n};\n\nexport const logout = async () => {\n  store.dispatch(logoutAction());\n};\n","export const getAllAliases = (state) => state.aliases;\n\nexport const getAlias = (state, { id }) => state.aliases.get(id);\n","import { createSelector } from 'reselect';\nimport createCachedSelector from 're-reselect';\n\nimport { getAlias, getAllAliases } from './aliases';\nimport { getUserId } from './userId';\nimport { getAnonymousUser } from './config';\nimport { getAllTeams, getTeamById } from './teams';\n\nexport const getAllUsers = (state) => state.users;\n\nexport const getUser = (state, { id }) => state.users.get(id);\n\nexport const getCurrentUser = (state) => state.users.get(getUserId(state)) || getAnonymousUser(state);\n\nexport const getCurrentAccessLevel = createSelector(\n  [getCurrentUser],\n  (user) => user.accessLevel,\n);\n\nexport const getIdentities = createCachedSelector(\n  [getAllUsers, getAllAliases],\n  (users, aliases) => [...users.values(), ...aliases.values()],\n)(() => 'identities');\n\nexport const getIdentitiesByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-${ids.join(' ')}`);\n\nexport const getIdentitiesOrTeamsByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, teams, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, teams.get(id) || users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-teams-${ids.join(' ')}`);\n\nexport const getIdentityById = createSelector(\n  [getUser, getAlias],\n  (user, alias) => user || alias,\n);\n\nexport const getIdentityOrTeamById = createSelector(\n  [getUser, getAlias, getTeamById],\n  (user, alias, team) => team || alias || user,\n);\n\nexport const getOthersIdentityIds = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => identities\n    .filter((identity) => identity.objectId !== userId && identity.ownerId !== userId && !identity.userIds.includes(userId))\n    .map((identity) => identity.objectId),\n)(() => 'other-identity-ids');\n\nexport const getCurrentUserIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => identities\n    .filter((identity) => identity.objectId === userId || identity.ownerId === userId || identity.userIds.includes(userId)),\n)(() => 'current-identities');\n","export const getAllTeams = (state) => state.teams;\n\nexport const getTeamById = (state, { id }) => state.teams.get(id);\n","import React from 'react';\nimport {\n  arrayOf, bool,\n  func,\n  node,\n  string,\n} from 'prop-types';\n\nimport './ListItem.scss';\n\nconst ListItem = ({\n  children,\n  onClick,\n  elementId,\n  stopPropagation = false,\n  classNames = [],\n}) => (\n  <li\n    id={elementId}\n    className={['ListItem', `${onClick ? 'clickable' : ''}`].concat(classNames).join(' ')}\n    onClick={(event) => {\n      if (onClick) {\n        onClick(event);\n      }\n\n      if (event.target.parentElement.tagName === 'UL') {\n        event.target.parentElement.click();\n      }\n\n      if (stopPropagation) {\n        event.stopPropagation();\n      }\n    }}\n  >\n    {children}\n  </li>\n);\n\nexport default React.memo(ListItem);\n\nListItem.propTypes = {\n  children: node.isRequired,\n  onClick: func,\n  classNames: arrayOf(string),\n  stopPropagation: bool,\n  elementId: string,\n};\n\nListItem.defaultProps = {\n  onClick: undefined,\n  classNames: [],\n  stopPropagation: false,\n  elementId: undefined,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 12,\n  x2: 21,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 6,\n  x2: 21,\n  y2: 6\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 18,\n  x2: 21,\n  y2: 18\n});\n\nvar SvgMenu = function SvgMenu(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-menu\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMenu, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/menu.74354d60.svg\";\nexport { ForwardRef as ReactComponent };","import { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const changeWindowOrder = ({ windows }) => {\n  if (windows.length === 1) {\n    const [{ value, id }] = windows;\n\n    return {\n      type: WINDOWORDER,\n      payload: {\n        id,\n        value,\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: WINDOWORDERS,\n    payload: {\n      windows,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const removeWindow = ({ id }) => ({\n  type: WINDOWORDER,\n  payload: {\n    id,\n    changeType: ChangeTypes.REMOVE,\n  },\n});\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../common/lists/List/List';\nimport { AccessLevels } from '../../../AccessCentral';\nimport { logout } from '../../../socket/actions/auth';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport { ReactComponent as Menu } from '../../../icons/menu.svg';\nimport store from '../../../redux/store';\nimport { changeWindowOrder } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getPermissions } from '../../../redux/selectors/config';\n\nconst MainList = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const permissions = useSelector(getPermissions);\n  const items = [];\n\n  if (accessLevel === permissions.CreateUser.accessLevel) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"register\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREGISTER, value: { type: WindowTypes.DIALOGREGISTER } }] }))}\n      >\n        Create user\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel === AccessLevels.ANONYMOUS) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"login\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGLOGIN, value: { type: WindowTypes.DIALOGLOGIN } }] }))}\n      >\n        Login\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= permissions.CreateAlias.accessLevel) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"alias\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEALIAS, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }))}\n      >\n        Create alias\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= AccessLevels.STANDARD) {\n    items.push(\n      <ListItem\n        stopPropagation\n        key=\"logout\"\n        onClick={() => {\n          logout();\n        }}\n      >\n        Logout\n      </ListItem>,\n    );\n  }\n\n  return (\n    <List\n      dropdown\n      title={<Menu />}\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(MainList);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n});\n\nvar SvgChat = function SvgChat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-message-square\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chat.20a18654.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 8,\n  y1: 2,\n  x2: 8,\n  y2: 18\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 6,\n  x2: 16,\n  y2: 22\n});\n\nvar SvgMap = function SvgMap(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMap, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/map.5a12a8a8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 1,\n  y: 4,\n  width: 22,\n  height: 16,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 1,\n  y1: 10,\n  x2: 23,\n  y2: 10\n});\n\nvar SvgWallet = function SvgWallet(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-credit-card\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWallet, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wallet.2f800c77.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"14 2 14 8 20 8\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 13,\n  x2: 8,\n  y2: 13\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 17,\n  x2: 8,\n  y2: 17\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"10 9 9 9 8 9\"\n});\n\nvar SvgFile = function SvgFile(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-text\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFile, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/file.621ca6ea.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 11a9 9 0 0 1 9 9\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 4a16 16 0 0 1 16 16\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 19,\n  r: 1\n});\n\nvar SvgNews = function SvgNews(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-rss\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNews, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/news.1ff917ca.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../common/lists/List/List';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport Button from '../../common/sub-components/Button/Button';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport store from '../../../redux/store';\nimport { changeWindowOrder } from '../../../redux/actions/windowOrder';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\nimport { AccessLevels } from '../../../AccessCentral';\n\nimport { ReactComponent as Chat } from '../../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../../icons/map.svg';\nimport { ReactComponent as Wallet } from '../../../icons/wallet.svg';\nimport { ReactComponent as File } from '../../../icons/file.svg';\nimport { ReactComponent as News } from '../../../icons/news.svg';\n\nconst OpenApps = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  const changeOrder = ({ id, value }) => store.dispatch(changeWindowOrder({ windows: [{ id, value }] }));\n\n  return (\n    <List classNames={['OpenApps']}>\n      <ListItem key=\"chat\"><Button onClick={() => changeOrder({ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } })}><Chat /></Button></ListItem>\n      <ListItem key=\"news\"><Button onClick={() => changeOrder({ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS } })}><News /></Button></ListItem>\n      <ListItem key=\"docFile\"><Button onClick={() => changeOrder({ id: WindowTypes.DOCFILE, value: { type: WindowTypes.DOCFILE } })}><File /></Button></ListItem>\n      <ListItem key=\"map\"><Button onClick={() => changeOrder({ id: WindowTypes.WORLDMAP, value: { type: WindowTypes.WORLDMAP } })}><Map /></Button></ListItem>\n      {accessLevel >= AccessLevels.STANDARD && (\n        <ListItem key=\"wallet\"><Button onClick={() => changeOrder({ id: WindowTypes.WALLET, value: { type: WindowTypes.WALLET } })}><Wallet /></Button></ListItem>\n      )}\n    </List>\n  );\n};\n\nexport default React.memo(OpenApps);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 7,\n  r: 4\n});\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-user\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user.1a85769b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool } from 'prop-types';\n\nimport { getCurrentUserIdentities } from '../../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../../redux/selectors/userId';\nimport List from '../List/List';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeAliasId } from '../../../../redux/actions/aliasId';\n\nimport { ReactComponent as User } from '../../../../icons/user.svg';\n\nimport './IdentityPicker.scss';\n\nconst IdentityPicker = ({ useIcon = false }) => {\n  const identities = useSelector(getCurrentUserIdentities);\n  const identityId = useSelector(getCurrentIdentityId);\n  const currentIdentity = identities.find((identity) => identity.objectId === identityId);\n\n  const itemMapper = () => {\n    const filtered = useIcon ? identities : identities.filter((identity) => identity.objectId !== identityId);\n\n    return filtered.map((identity) => (\n      <ListItem\n        classNames={[`${identity.objectId === identityId ? 'selected' : ''}`]}\n        key={identity.objectId}\n        onClick={() => store.dispatch(changeAliasId({ aliasId: identity.aliasName ? identity.objectId : undefined }))}\n      >\n        {identity.aliasName || identity.username}\n      </ListItem>\n    ));\n  };\n\n  const title = currentIdentity ? currentIdentity.aliasName || currentIdentity.username : '---';\n\n  return (\n    <List\n      dropdown\n      classNames={['IdentityPicker']}\n      title={useIcon\n        ? <User />\n        : (\n          <>\n            <User />\n            <span>{title}</span>\n          </>\n        )}\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(IdentityPicker);\n\nIdentityPicker.propTypes = {\n  useIcon: bool,\n};\n\nIdentityPicker.defaultProps = {\n  useIcon: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Clock from './sub-components/Clock';\nimport MainList from './lists/MainList';\nimport { isOnline } from '../../redux/selectors/online';\n\nimport './MenuBar.scss';\nimport OpenApps from './lists/OpenApps';\nimport IdentityPicker from '../common/lists/IdentityPicker/IdentityPicker';\nimport { getCurrentAccessLevel } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\n\nconst MenuBar = () => {\n  const online = useSelector(isOnline);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const content = [];\n  const classes = [];\n\n  if (!online) {\n    classes.push('warning');\n  }\n\n  return (\n    <div\n      className={`${classes.join(' ')}`}\n      id=\"MenuBar\"\n    >\n      <MainList />\n      <OpenApps />\n      {content}\n      <div className=\"rightAligned\">\n        {accessLevel >= AccessLevels.STANDARD && (\n          <IdentityPicker useIcon />\n        )}\n        <Clock />\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(MenuBar);\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  ALIASES,\n  DOCFILES,\n  FORUMPOSTS,\n  FORUMS,\n  FORUMTHREADS,\n  GAMECODES,\n  INVITATIONS,\n  MESSAGES,\n  ROOMS,\n  SIMPLEMSGS,\n  TEAMS,\n  TRANSACTIONS,\n  USERS,\n  WALLETS,\n  DEVICES,\n} from '../redux/actionTypes';\nimport {\n  emitSocketEvent,\n  GetEvents,\n} from '../socket/SocketManager';\nimport { ChangeTypes } from '../redux/reducers/root';\nimport { getUserId } from '../redux/selectors/userId';\n\nconst DataHandler = () => {\n  const dispatch = useDispatch();\n  const userId = useSelector(getUserId);\n\n  const retrieveAll = ({ reset } = {}) => {\n    [\n      { type: USERS, event: GetEvents.USERS },\n      { type: ALIASES, event: GetEvents.ALIASES },\n      { type: MESSAGES, event: GetEvents.MESSAGES },\n      { type: ROOMS, event: GetEvents.ROOMS },\n      { type: INVITATIONS, event: GetEvents.INVITATIONS },\n      { type: DOCFILES, event: GetEvents.DOCFILES },\n      { type: FORUMS, event: GetEvents.FORUMS },\n      { type: FORUMPOSTS, event: GetEvents.FORUMPOSTS },\n      { type: FORUMTHREADS, event: GetEvents.FORUMTHREADS },\n      { type: GAMECODES, event: GetEvents.GAMECODES },\n      { type: SIMPLEMSGS, event: GetEvents.SIMPLEMSGS },\n      { type: TEAMS, event: GetEvents.TEAMS },\n      { type: TRANSACTIONS, event: GetEvents.TRANSACTIONS },\n      { type: WALLETS, event: GetEvents.WALLETS },\n      { type: DEVICES, event: GetEvents.DEVICES },\n    ].forEach(async (getter) => {\n      const { event, type } = getter;\n\n      emitSocketEvent(event, {})\n        .then((result) => {\n          dispatch({\n            type,\n            payload: {\n              reset,\n              changeType: ChangeTypes.CREATE,\n              [type]: result[type],\n            },\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    });\n  };\n\n  useEffect(() => {\n    retrieveAll({ reset: true });\n  }, [userId]);\n\n  return (<></>);\n};\n\nexport default DataHandler;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"15 3 21 3 21 9\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"9 21 3 21 3 15\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 21,\n  y1: 3,\n  x2: 14,\n  y2: 10\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 21,\n  x2: 10,\n  y2: 14\n});\n\nvar SvgMaximize = function SvgMaximize(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-maximize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMaximize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/maximize.392be9ed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 18,\n  y1: 6,\n  x2: 6,\n  y2: 18\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 6,\n  y1: 6,\n  x2: 18,\n  y2: 18\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-x\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.f8019df0.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {\n  func,\n  string,\n} from 'prop-types';\n\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { ReactComponent as Close } from '../../../../icons/close.svg';\n\nimport './TopBar.scss';\nimport Button from '../../sub-components/Button/Button';\n\nconst TopBar = ({\n  onDoubleClick,\n  title,\n  done,\n}) => (\n  <div\n    onDoubleClick={onDoubleClick}\n    className=\"TopBar\"\n  >\n    <div className=\"TopBarHandle\">\n      <span className=\"title\">{title}</span>\n    </div>\n    <div className=\"buttons\">\n      <Button type=\"button\" onClick={onDoubleClick}><Maximize /></Button>\n      <Button stopPropagation type=\"button\" onClick={done}><Close /></Button>\n    </div>\n  </div>\n);\n\nexport default React.memo(TopBar);\n\nTopBar.propTypes = {\n  done: func.isRequired,\n  title: string.isRequired,\n  onDoubleClick: func.isRequired,\n};\n","import React, { useCallback, useState } from 'react';\nimport { Rnd } from 'react-rnd';\nimport {\n  arrayOf,\n  func,\n  string,\n  node, number,\n} from 'prop-types';\n\nimport './Window.scss';\nimport TopBar from './TopBar/TopBar';\n\nconst Window = ({\n  onClick,\n  children,\n  menu,\n  done,\n  index,\n  type = 'window',\n  title = 'app',\n  classNames = [],\n}) => {\n  const defaultSize = type === 'window' ? { width: 640, height: 460 } : { width: 440, height: 360 };\n  const [size, setSize] = useState(defaultSize);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const windowClasses = ['Window'].concat(classNames);\n\n  const onDoubleClick = useCallback(() => {\n    if (size.width === '100%' && size.height === '100%') {\n      setSize(defaultSize);\n    } else {\n      setCoordinates({ x: 0, y: 0 });\n      setSize({ width: '100%', height: '100%' });\n    }\n  }, [size, coordinates]);\n\n  return (\n    <Rnd\n      style={{ zIndex: index }}\n      onClick={onClick}\n      position={coordinates}\n      className=\"rnd\"\n      size={size}\n      minWidth={300}\n      minHeight={200}\n      maxHeight=\"100%\"\n      maxWidth=\"100%\"\n      bounds=\"parent\"\n      dragHandleClassName=\"TopBarHandle\"\n      enableResizing={{\n        top: false,\n        topRight: false,\n        topLeft: false,\n        right: true,\n        bottom: true,\n        left: true,\n        bottomRight: true,\n        bottomLeft: true,\n      }}\n      resizeHandleStyles={{\n        left: { left: '0', width: '5px' },\n        right: { right: '0', width: '5px' },\n        bottom: { bottom: '0', height: '5px' },\n        bottomLeft: {\n          bottom: '0',\n          left: '0',\n          width: '5px',\n          height: '5px',\n        },\n        bottomRight: {\n          bottom: '0',\n          right: '0',\n          width: '5px',\n          height: '5px',\n        },\n      }}\n      onDragStart={onClick}\n      onDragStop={(event, { node: element, x: newX, y: newY }) => {\n        if (coordinates && newX === coordinates.x && newY === coordinates.y) {\n          return;\n        }\n\n        // if (newX === 0 && newY === 0 && size.height !== '100%') { // Upper left\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: 0, y: 0 });\n        // } else if (newX === 0 && (newY + element.offsetHeight + 35) >= window.innerHeight && size.height !== '100%') { // Lower left\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: 0, y: ((window.innerHeight - 36) / 2) });\n        // } else if (newY === 0 && newX + element.offsetWidth >= window.innerWidth && size.height !== '100%') { // Upper right\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: window.innerWidth / 2, y: 0 });\n        // } else if (newX + element.offsetWidth >= window.innerWidth && newY + element.offsetHeight + 35 >= window.innerHeight && size.height !== '100%') { // Lower right\n        //   setSize({ width: '50%', height: '50%' });\n        //   setCoordinates({ x: window.innerWidth / 2, y: ((window.innerHeight - 36) / 2) });\n        // }\n        if (newX === 0 && newY > 0) { // Left\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: 0, y: 0 });\n        } else if (newX + element.offsetWidth >= window.innerWidth && newY > 0) { // Right\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: window.innerWidth / 2, y: 0 });\n        } else {\n          setCoordinates({ x: newX, y: newY });\n        }\n      }}\n      onResizeStart={onClick}\n      onResizeStop={(event, direction, element) => {\n        if (element.offsetWidth !== size.width || element.offsetHeight !== size.height) {\n          setSize({ width: element.offsetWidth, height: element.offsetHeight });\n        }\n      }}\n    >\n      <div\n        className={`${windowClasses.join(' ')}`}\n      >\n        <TopBar\n          done={done}\n          title={title}\n          onDoubleClick={onDoubleClick}\n        />\n        <div className=\"windowBox\">\n          {\n            menu\n            && (\n              <div className=\"menu\">\n                {menu}\n              </div>\n            )\n          }\n          <div className=\"content\">\n            {children}\n          </div>\n        </div>\n      </div>\n    </Rnd>\n  );\n};\n\nexport default React.memo(Window);\n\nWindow.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  menu: node,\n  title: string,\n  classNames: arrayOf(string),\n  done: func,\n  type: string,\n  index: number.isRequired,\n};\n\nWindow.defaultProps = {\n  done: undefined,\n  classNames: [],\n  title: 'app',\n  menu: undefined,\n  type: 'window',\n};\n","import createCachedSelector from 're-reselect';\n\nexport const SortBy = {\n  DATE: 'date',\n  AMOUNT: 'amount',\n};\n\nexport const getAllTransactions = (state) => state.transactions;\n\nexport const getTransactionById = (state, { id }) => state.transactions.get(id);\n\nexport const getTransactionIdsByWallets = createCachedSelector(\n  [\n    getAllTransactions,\n    (_, { ids }) => ids,\n  ],\n  (transactions, walletIds) => [...transactions.values()]\n    .filter(({ fromWalletId, toWalletId }) => walletIds.includes(fromWalletId) || walletIds.includes(toWalletId))\n    .map(({ objectId }) => objectId)\n    .reverse(),\n)((_, { ids }) => `transaction-ids-${ids.join(' ')}`);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getTransactionById } from '../../../../../redux/selectors/transactions';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nimport './TransactionItem.scss';\nimport { getTimestamp } from '../../../../../redux/selectors/config';\nimport store from '../../../../../redux/store';\n\nconst TransactionItem = ({ transactionId }) => {\n  const transaction = useSelector((state) => getTransactionById(state, { id: transactionId }));\n  const from = useSelector((state) => getIdentityOrTeamById(state, { id: transaction.fromWalletId }));\n  const to = useSelector((state) => getIdentityOrTeamById(state, { id: transaction.toWalletId }));\n\n  return (\n    <ListItem\n      classNames={['TransactionItem']}\n    >\n      <p>{getTimestamp(store.getState(), { date: new Date(transaction.customTimeCreated || transaction.timeCreated) }).fullStamp}</p>\n      <p>\n        {`${from.teamName || from.aliasName || from.username} -> ${to.teamName || to.aliasName || to.username}`}\n      </p>\n      <p>{`Amount: ${transaction.amount}`}</p>\n      {transaction.note && (\n        <p>{transaction.note}</p>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(TransactionItem);\n\nTransactionItem.propTypes = {\n  transactionId: string.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport List from '../../../common/lists/List/List';\nimport TransactionItem from './Item/TransactionItem';\nimport { getTransactionIdsByWallets } from '../../../../redux/selectors/transactions';\n\nconst TransactionList = ({ walletIds }) => {\n  const transactionIds = useSelector((state) => getTransactionIdsByWallets(state, { ids: walletIds }));\n\n  const transactionMapper = () => transactionIds.map((transactionId) => <TransactionItem key={transactionId} transactionId={transactionId} />);\n\n  return (\n    <List\n      scrollTo={{\n        buffer: true,\n        direction: 'top',\n      }}\n    >\n      {transactionMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(TransactionList);\n\nTransactionList.propTypes = {\n  walletIds: arrayOf(string).isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nimport { getCurrentUser } from './users';\n\nexport const getAllWallets = (state) => state.wallets;\n\nexport const getWalletById = (state, { id }) => state.wallets.get(id);\n\nexport const getWalletIdsByCurrentUser = createCachedSelector(\n  [getAllWallets, getCurrentUser],\n  (wallets, currentUser) => [...wallets.values()]\n    .filter((wallet) => wallet.ownerId === currentUser.objectId || currentUser.aliases.includes(wallet.ownerAliasId))\n    .map((wallet) => wallet.objectId),\n)(() => 'wallet-ids-current-user');\n","import React from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport ListItem from '../../List/Item/ListItem';\nimport { getIdentityById } from '../../../../../redux/selectors/users';\n\nconst IdentityItem = ({ identityId }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n\n  return (\n    <ListItem\n      stopPropagation\n      key={identity.objectId}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({\n          windows: [{\n            id: `${WindowTypes.DIALOGIDENTITY}-${identity.objectId}`,\n            value: {\n              identityId: identity.objectId,\n              type: WindowTypes.DIALOGIDENTITY,\n            },\n          }],\n        }));\n      }}\n    >\n      {identity.username || identity.aliasName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(IdentityItem);\n\nIdentityItem.propTypes = {\n  identityId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport List from '../List/List';\nimport { getOthersIdentityIds } from '../../../../redux/selectors/users';\nimport IdentityItem from './Item/IdentityItem';\n\nconst IdentityList = () => {\n  const identityIds = useSelector(getOthersIdentityIds);\n\n  const userMapper = () => identityIds.map((identityId) => <IdentityItem key={identityId} identityId={identityId} />);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      classNames={['IdentityList']}\n      title=\"Users\"\n    >\n      {userMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(IdentityList);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { arrayOf, func, string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWalletById } from '../../../../../redux/selectors/wallets';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nconst WalletItem = ({ walletId, onChange, classNames = [] }) => {\n  const wallet = useSelector((state) => getWalletById(state, { id: walletId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n\n  return (\n    <ListItem\n      classNames={['WalletItem'].concat(classNames)}\n      onClick={() => onChange(walletId)}\n    >\n      {identity ? `${identity.teamName || identity.aliasName || identity.username}: ${wallet.amount}` : 'Show all'}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WalletItem);\n\nWalletItem.propTypes = {\n  walletId: string.isRequired,\n  onChange: func.isRequired,\n  classNames: arrayOf(string),\n};\n\nWalletItem.defaultProps = {\n  classNames: [],\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getWalletIdsByCurrentUser } from '../../../../redux/selectors/wallets';\nimport WalletItem from './Item/WalletItem';\n\nconst WalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      classNames={[walletId === id ? 'selected' : '']}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"Wallets\"\n      classNames={['WalletList']}\n    >\n      <WalletItem\n        classNames={[walletId === 'showAll' ? 'selected' : '']}\n        key=\"showAll\"\n        onChange={onChange}\n        walletId=\"showAll\"\n      />\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(WalletList);\n\nWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport { getAllWallets } from '../../../../redux/selectors/wallets';\nimport WalletItem from '../Wallet/Item/WalletItem';\nimport List from '../../../common/lists/List/List';\n\nconst AdminWalletList = ({ onChange, walletId }) => {\n  const wallets = useSelector(getAllWallets);\n\n  const itemMapper = () => [...wallets.values()].map(({ objectId }) => (\n    <WalletItem\n      key={objectId}\n      walletId={objectId}\n      onChange={onChange}\n      classNames={[walletId === objectId ? 'selected' : '']}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"[ADMIN]\"\n      classNames={['WalletList']}\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(AdminWalletList);\n\nAdminWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport TransactionList from './lists/Transaction/TransactionList';\nimport { getWalletIdsByCurrentUser } from '../../redux/selectors/wallets';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport IdentityList from '../common/lists/IdentityList/IdentityList';\nimport WalletList from './lists/Wallet/WalletList';\nimport { getCurrentAccessLevel, getIdentityOrTeamById } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\nimport AdminWalletList from './lists/AdminWallet/AdminWalletList';\n\nimport './Wallet.scss';\n\nconst Wallet = ({ id, index }) => {\n  const [walletId, setWalletId] = useState('showAll');\n  const currentWalletIds = useSelector(getWalletIdsByCurrentUser);\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WALLET } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newWalletId) => setWalletId(newWalletId), []);\n\n  const menu = useMemo(() => (\n    <>\n      <WalletList key=\"walletList\" onChange={onChange} walletId={walletId} />\n      <IdentityList key=\"identityList\" />\n      {accessLevel >= AccessLevels.ADMIN && (\n        <AdminWalletList key=\"adminWalletList\" onChange={onChange} walletId={walletId} />\n      )}\n    </>\n  ), [onChange, walletId]);\n\n  return (\n    <Window\n      classNames={['Wallet']}\n      index={index}\n      done={onDone}\n      title={`Wallet${identity ? `: ${identity.teamName || identity.aliasName || identity.username}` : 's'}`}\n      onClick={onClick}\n      menu={menu}\n    >\n      <TransactionList\n        key=\"transactionList\"\n        walletIds={walletId !== 'showAll' ? [walletId] : currentWalletIds}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Wallet);\n\nWallet.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport './MapView.scss';\n\nconst MapView = () => {\n  const [map, setMap] = useState();\n  const mapRef = useRef();\n\n  const createMap = () => {\n    if (typeof window.google === 'undefined' || typeof window.MarkerClusterer === 'undefined' || typeof window.MapLabel === 'undefined') {\n      setTimeout(createMap, 1000);\n\n      return;\n    }\n\n    const worldMap = new window.google.maps.Map(mapRef.current, {\n      disableDefaultUI: true,\n      fullscreenControl: false,\n      keyboardShortcuts: false,\n      mapTypeControl: false,\n      noClear: true,\n      zoomControl: false,\n      panControl: false,\n      overviewMapControl: false,\n      rotateControl: false,\n      scaleControl: false,\n      streetViewControl: false,\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 8,\n      styles: [{\n        elementType: 'geometry',\n        stylers: [\n          { color: '#13002d' },\n        ],\n      }, {\n        elementType: 'labels',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'poi',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'administrative',\n        stylers: [\n          { color: '#370087' },\n        ],\n      }, {\n        featureType: 'landscape.natural.terrain',\n        stylers: [\n          { color: '#44003a' },\n        ],\n      }, {\n        featureType: 'road',\n        stylers: [\n          { color: '#6e6c6d' },\n          { weight: 0.5 },\n        ],\n      }, {\n        featureType: 'transit',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'water',\n        stylers: [\n          { color: '#7d006c' },\n        ],\n      }],\n    });\n\n    setMap(worldMap);\n  };\n\n  useEffect(() => {\n    createMap();\n  }, []);\n\n  return (\n    <div\n      ref={mapRef}\n      className=\"MapView\"\n    />\n  );\n};\n\nexport default MapView;\n","import { createSelector } from 'reselect';\n\nexport const getAllPositions = (state) => state.positions;\n\nexport const getPositionNamesByType = (type) => createSelector(\n  [getAllPositions],\n  (positions) => [...positions.values()]\n    .filter(({ positionType }) => type === positionType)\n    .map(({ positionName, objectId }) => ({ positionName, objectId })),\n);\n","import React, { useMemo } from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport { getPositionNamesByType } from '../../../../redux/selectors/positions';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst PositionList = ({ title, positionType }) => {\n  const positionsSelector = useMemo(getPositionNamesByType, []);\n  const positions = useSelector((state) => positionsSelector(state, positionType));\n\n  const positionMapper = () => positions.map((position) => (\n    <ListItem\n      key={position.objectId}\n      onClick={() => { console.log(position.objectId); }}\n    >\n      {position.positionName}\n    </ListItem>\n  ));\n\n  return (\n    <div\n      key=\"positionsList\"\n      className=\"PositionsList\"\n    >\n      <List\n        title={title}\n      >\n        {positionMapper()}\n      </List>\n    </div>\n  );\n};\n\nexport default React.memo(PositionList);\n\nPositionList.propTypes = {\n  title: string,\n  positionType: string.isRequired,\n};\n\nPositionList.defaultProps = {\n  title: undefined,\n};\n","import React from 'react';\nimport PositionList from '../lists/Position/PositionList';\n\nconst Positions = ({ positionTypes = [] }) => {\n  const listMapper = () => positionTypes.map((positionType) => (\n    <PositionList\n      title={positionType}\n      positionType={positionType}\n    />\n  ));\n\n  return (\n    <div className=\"lists Positions\">\n      {listMapper()}\n    </div>\n  );\n};\n\nexport default Positions;\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport Window from '../common/Window/Window';\nimport MapView from './views/MapView';\nimport Positions from './views/Positions';\n\nimport './WorldMap.scss';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nconst WorldMap = ({ id, index }) => {\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WORLDMAP } }] }));\n  }, []);\n\n  return (\n    <Window\n      index={index}\n      done={() => store.dispatch(removeWindow({ id }))}\n      classNames={['WorldMap']}\n      title=\"map\"\n      onClick={onClick}\n      menu={(\n        <>\n          <Positions />\n        </>\n      )}\n    >\n      <MapView />\n    </Window>\n  );\n};\n\nexport default React.memo(WorldMap);\n\nWorldMap.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\nimport { getCurrentUser, getCurrentUserIdentities, getIdentitiesByIds } from './users';\n\nexport const getAllRooms = (state) => state.rooms;\n\nexport const getRoomById = (state, { id }) => state.rooms.get(id);\n\nconst getRooms = createCachedSelector(\n  [getAllRooms],\n  (rooms) => [...rooms.values()].filter((room) => !room.isWhisper && !room.isUser),\n)(() => 'normalRooms');\n\nexport const getWhisperRooms = createCachedSelector(\n  [getAllRooms],\n  (rooms) => [...rooms.values()]\n    .filter((room) => room.isWhisper)\n    .map(({ objectId, participantIds }) => ({ objectId, participantIds })),\n)(() => 'whisperRooms');\n\nexport const getUnfollowedRoomIds = createCachedSelector(\n  [getRooms, getCurrentUser],\n  (rooms, user) => rooms\n    .filter((room) => !user.followingRooms.includes(room.objectId)).map(({ roomName, objectId }) => ({ roomName, objectId }))\n    .sort((roomA, roomB) => {\n      const a = roomA.roomName.toLowerCase();\n      const b = roomB.roomName.toLowerCase();\n\n      if (a > b) {\n        return 1;\n      }\n\n      if (b < a) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .map(({ objectId }) => objectId),\n)(() => 'unfollowedRooms');\n\nexport const getFollowedRoomsIds = createCachedSelector(\n  [getRooms, getCurrentUser],\n  (rooms, user) => rooms\n    .filter((room) => user.followingRooms.includes(room.objectId))\n    .map(({ objectId }) => objectId),\n)(() => 'followedRooms');\n\nexport const getWhisperRoom = createCachedSelector(\n  [\n    getWhisperRooms,\n    (_, { identityId, currentIdentityId }) => ({ identityId, currentIdentityId }),\n    (state, { identityId }) => getRoomById(state, { id: identityId }),\n  ],\n  (rooms, { currentIdentityId, identityId }, identityRoom) => rooms\n    .find((room) => room.participantIds.includes(currentIdentityId) && room.participantIds.includes(identityId)) || identityRoom,\n)((_, { currentIdentityId, identityId }) => `whisper-${currentIdentityId}-${identityId}`);\n\nexport const getWhisperRoomName = createCachedSelector(\n  [\n    getIdentitiesByIds,\n    getCurrentUserIdentities,\n    (_, { ids: participantIds }) => participantIds,\n  ],\n  (identities, currentIdentities, participantIds) => {\n    const participant = identities.get(participantIds[0]);\n    const secondParticipant = identities.get(participantIds[1]);\n    const name = currentIdentities\n      .find(({ objectId }) => participant.objectId === objectId || participant.ownerId === objectId || participant.userIds.includes(objectId))\n      ? `${participant.username || participant.aliasName} > ${secondParticipant.username || participant.aliasName}`\n      : `${secondParticipant.username || participant.aliasName} > ${participant.username || participant.aliasName}`;\n\n    return name;\n  },\n)((_, { ids }) => `w-name-${ids.join(' ')}`);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 11,\n  width: 18,\n  height: 11,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n});\n\nvar SvgLock = function SvgLock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-lock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/lock.5b8f2ff4.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\n\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\n\nimport './RoomItem.scss';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\n\nconst RoomItem = ({ roomId }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  return (\n    <ListItem\n      classNames={['RoomItem']}\n      key={roomId}\n      onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGJOINROOM}-${roomId}`, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }))}\n    >\n      {room.roomName}\n      {room.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(RoomItem);\n\nRoomItem.propTypes = {\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getUnfollowedRoomIds } from '../../../../redux/selectors/rooms';\nimport RoomItem from './Item/RoomItem';\n\nconst RoomList = ({ onChange }) => {\n  const roomIds = useSelector(getUnfollowedRoomIds);\n\n  const roomMapper = () => roomIds.map((roomId) => (\n    <RoomItem\n      key={roomId}\n      roomId={roomId}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"roomList\"\n      classNames={['RoomList']}\n      title=\"Rooms\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(RoomList);\n\nRoomList.propTypes = {\n  onChange: func.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  arrayOf,\n  func, shape,\n  string,\n} from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWhisperRoomName } from '../../../../../redux/selectors/rooms';\n\nconst WhisperItem = ({ room, onChange }) => {\n  const roomName = useSelector((state) => getWhisperRoomName(state, { ids: room.participantIds }));\n\n  return (\n    <ListItem\n      key={room.objectId}\n      onClick={() => {\n        onChange({ roomId: room.objectId, roomName });\n      }}\n    >\n      {roomName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WhisperItem);\n\nWhisperItem.propTypes = {\n  room: shape({\n    participantIds: arrayOf(string),\n  }).isRequired,\n  onChange: func.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func } from 'prop-types';\nimport { getWhisperRooms } from '../../../../redux/selectors/rooms';\nimport List from '../../../common/lists/List/List';\nimport WhisperItem from './Item/WhisperItem';\n\nconst WhisperList = ({ onChange }) => {\n  const rooms = useSelector(getWhisperRooms);\n\n  const roomMapper = () => rooms.map((room) => <WhisperItem key={room.objectId} room={room} onChange={onChange} />);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"whisperList\"\n      classNames={['WhisperList']}\n      title=\"PM\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(WhisperList);\n\nWhisperList.propTypes = {\n  onChange: func.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\n\nconst FollowingItem = ({ roomId, onChange, classNames = [] }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  return (\n    <ListItem\n      classNames={['FollowingItem'].concat(classNames)}\n      key={roomId}\n      onClick={() => {\n        onChange({ roomId });\n      }}\n    >\n      {room.roomName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(FollowingItem);\n\nFollowingItem.propTypes = {\n  roomId: string.isRequired,\n  onChange: func.isRequired,\n  classNames: arrayOf(string),\n};\n\nFollowingItem.defaultProps = {\n  classNames: [],\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport List from '../../../common/lists/List/List';\nimport { getFollowedRoomsIds } from '../../../../redux/selectors/rooms';\nimport FollowingItem from './Item/FollowingItem';\n\nconst FollowingList = ({ onChange, roomId }) => {\n  const roomIds = useSelector(getFollowedRoomsIds);\n\n  const roomMapper = () => roomIds.map((id) => (\n    <FollowingItem\n      classNames={[`${id === roomId ? 'selected' : ''}`]}\n      key={id}\n      roomId={id}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"followingList\"\n      classNames={['FollowingList']}\n      title=\"Joined\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(FollowingList);\n\nFollowingList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../AccessCentral';\nimport UserList from '../../common/lists/IdentityList/IdentityList';\nimport RoomList from '../lists/Room/RoomList';\nimport WhisperList from '../lists/Whisper/WhisperList';\nimport FollowingList from '../lists/Following/FollowingList';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\n\nconst Rooms = ({ onChange, roomId }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <>\n      {\n        accessLevel >= AccessLevels.STANDARD && (\n          <>\n            <FollowingList\n              roomId={roomId}\n              key=\"following\"\n              onChange={onChange}\n            />\n            <WhisperList\n              key=\"whisper\"\n              onChange={onChange}\n            />\n            <RoomList\n              key=\"room\"\n              onChange={onChange}\n            />\n          </>\n        )\n      }\n      <UserList\n        onDone={onChange}\n        key=\"user\"\n      />\n    </>\n  );\n};\n\nexport default React.memo(Rooms);\n\nRooms.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, func, string } from 'prop-types';\n\nconst Image = React.forwardRef(({\n  image,\n  onRemove,\n  classNames = [],\n  altText = '',\n} = {}, ref) => (\n  <div className={`${['Image'].concat(classNames).join(' ')}`}>\n    {\n      onRemove && (\n        <div\n          role=\"complementary\"\n          onClick={(event) => {\n            onRemove();\n\n            event.stopPropagation();\n          }}\n        >\n          X\n        </div>\n      )\n    }\n    <img\n      ref={ref}\n      src={image}\n      alt={altText}\n    />\n  </div>\n));\n\nexport default Image;\n\nImage.propTypes = {\n  image: string.isRequired,\n  altText: string,\n  classNames: arrayOf(string),\n  onRemove: func,\n};\n\nImage.defaultProps = {\n  altText: '',\n  classNames: [],\n  onRemove: undefined,\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useFormContext } from 'react-hook-form';\n\nimport Image from '../../../../common/sub-components/Image';\nimport Button from '../../../../common/sub-components/Button/Button';\n\nimport imageIcon from './imageIcon.png';\n\nimport './ImageUpload.scss';\n\nconst ImageUpload = () => {\n  const { setValue, register, watch } = useFormContext();\n  const inputRef = useRef(null);\n  const previewRef = useRef(null);\n  const [previewImage, setPreviewImage] = useState();\n  const watchImage = watch('image');\n\n  useEffect(() => {\n    if (previewImage) {\n      const image = { ...previewImage };\n      image.width = previewRef.current.naturalWidth;\n      image.height = previewRef.current.naturalHeight;\n\n      setValue('image', image);\n    } else {\n      setValue('image', undefined);\n    }\n  }, [previewImage]);\n\n  useEffect(() => {\n    register('image');\n  }, []);\n\n  useEffect(() => {\n    if (!watchImage && previewImage) {\n      setPreviewImage();\n    }\n  }, [watchImage]);\n\n  const onChangeFunc = ({ target }) => {\n    const files = target.files || [];\n    const file = files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        if (reader.result) {\n          setPreviewImage({\n            imageName: file.name,\n            source: reader.result,\n          });\n        }\n      });\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div\n      className=\"ImageUpload\"\n    >\n      <input\n        key=\"uploadInput\"\n        className=\"hide\"\n        ref={inputRef}\n        type=\"file\"\n        accept=\"image/png, image/jpeg, image/pjpeg\"\n        onChange={onChangeFunc}\n      />\n      <Button\n        type=\"button\"\n        onClick={() => { inputRef.current.click(); }}\n      >\n        <Image\n          onRemove={() => setPreviewImage()}\n          ref={previewRef}\n          classNames={['previewImage'].concat([!previewImage ? 'hide' : ''])}\n          image={previewImage ? previewImage.source : ''}\n          altText=\"Image preview\"\n        />\n        <Image\n          image={imageIcon}\n          altText=\"Upload image\"\n        />\n      </Button>\n    </div>\n  );\n};\n\nexport default React.memo(ImageUpload);\n","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport store from '../../redux/store';\nimport { getCurrentIdentityId } from '../../redux/selectors/userId';\nimport { createMessages } from '../../redux/actions/messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport { MessageType } from '../../redux/reducers/messages';\n\nexport const sendMessage = async ({ text, roomId, image }) => {\n  const room = getRoomById(store.getState(), { id: roomId });\n  const participantIds = room.isWhisper\n    ? room.participantIds\n    : [];\n  const message = {\n    roomId,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: text.split('\\n'),\n  };\n\n  if (room.isUser) {\n    message.messageType = MessageType.WHISPER;\n    participantIds.push(getCurrentIdentityId(store.getState()));\n    participantIds.push(roomId);\n  } else if (room.isWhisper) {\n    message.messageType = MessageType.WHISPER;\n  } else {\n    message.messageType = MessageType.CHAT;\n  }\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n    participantIds,\n  });\n\n  store.dispatch(createMessages({ messages: [result.message] }));\n\n  return { message: result.message, switchRoom: true };\n};\n\nexport const sendNewsMessage = async ({ title, text, image }) => {\n  const message = {\n    messageType: MessageType.NEWS,\n    text: [title].concat(text.split('\\n')),\n    roomId: getNewsRoomId(store.getState()),\n  };\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n  });\n\n  store.dispatch(createMessages({ messages: [result.message] }));\n\n  return { message: result.message };\n};\n\nexport const getMessagesByRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.GETMSGBYROOM, { roomId });\n\n  store.dispatch(createMessages({ messages: result.messages }));\n\n  return true;\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 10,\n  r: 3\n});\n\nvar SvgPin = function SvgPin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map-pin\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin.03aed5b7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 7,\n  y1: 7,\n  x2: 7.01,\n  y2: 7\n});\n\nvar SvgTag = function SvgTag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-tag\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tag.6b837a8d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"14 2 14 8 20 8\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 18,\n  x2: 12,\n  y2: 12\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 9,\n  y1: 15,\n  x2: 15,\n  y2: 15\n});\n\nvar SvgFilePlus = function SvgFilePlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-plus\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFilePlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/file-plus.4abe03d8.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport ImageUpload from './ImageUpload/ImageUpload';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { isOnline } from '../../../../redux/selectors/online';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport { getAllowedImages, getGpsTracking } from '../../../../redux/selectors/config';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { sendMessage } from '../../../../socket/actions/messages';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\n\nimport { ReactComponent as Pin } from '../../../../icons/pin.svg';\nimport { ReactComponent as Tag } from '../../../../icons/tag.svg';\nimport { ReactComponent as File } from '../../../../icons/file-plus.svg';\n\nimport './InputArea.scss';\n\nconst InputArea = ({\n  roomId,\n  onSend,\n  minAccessLevel = AccessLevels.STANDARD,\n}) => {\n  const formMethods = useForm();\n  const inputRef = useRef(null);\n  const buttonRef = useRef(null);\n  const online = useSelector(isOnline);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const allowedImages = useSelector(getAllowedImages);\n  const gpsTracking = useSelector(getGpsTracking);\n  const textareaClasses = [];\n\n  const resize = () => {\n    if (inputRef.current) {\n      const textarea = inputRef.current;\n\n      if (!textarea.style.height || (textarea.scrollHeight.toString() !== textarea.style.height.split('px')[0])) {\n        textarea.style.height = 'auto';\n        textarea.style.height = `${textarea.scrollHeight}px`;\n        inputRef.current.scrollIntoView();\n      }\n    }\n  };\n\n  const onSubmit = ({\n    text,\n    image,\n  }) => {\n    sendMessage({\n      roomId,\n      image,\n      text,\n    }).then(({ message, switchRoom }) => {\n      formMethods.reset();\n      resize();\n\n      if (switchRoom) {\n        onSend({ roomId: message.roomId });\n      }\n    }).catch((error) => {\n      console.log('error', error);\n    });\n  };\n\n  return (\n    <div className=\"InputArea\">\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {accessLevel >= minAccessLevel && (\n            <div\n              key=\"buttonBox\"\n              className=\"buttonBox\"\n            >\n              {\n                allowedImages.CHAT\n                && (\n                  <ImageUpload />\n                )\n              }\n              <Button onClick={() => {}}><Tag /></Button>\n              <Button onClick={() => {}}><File /></Button>\n              {\n                gpsTracking\n                && (\n                  <Button onClick={() => {}}><Pin /></Button>\n                )\n              }\n              <IdentityPicker />\n            </div>\n          )}\n          <div className=\"input\">\n            <textarea\n              maxLength={600}\n              name=\"text\"\n              key=\"input\"\n              rows={1}\n              ref={(element) => {\n                formMethods.register(element);\n\n                inputRef.current = element;\n              }}\n              onKeyDown={(event) => {\n                const { key, altKey } = event;\n\n                if (altKey && key === 'Enter' && buttonRef.current) {\n                  buttonRef.current.click();\n                }\n              }}\n              placeholder={online ? 'Alt+Enter to send message' : 'Offline. Reconnecting to server...'}\n              className={textareaClasses.join(' ')}\n              onChange={(event) => resize(event.target)}\n            />\n            <Button\n              ref={buttonRef}\n              disabled={!online}\n              key=\"send\"\n              type=\"submit\"\n              classNames={['sendButton']}\n              onClick={() => {}}\n            >\n              Send\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </div>\n  );\n};\n\nexport default React.memo(InputArea);\n\nInputArea.propTypes = {\n  minAccessLevel: number,\n  roomId: string.isRequired,\n  onSend: func.isRequired,\n};\n\nInputArea.defaultProps = {\n  minAccessLevel: AccessLevels.STANDARD,\n};\n","import createCachedSelector from 're-reselect';\nimport { MessageType } from '../reducers/messages';\n\nexport const getMessageById = (state, { id }) => state.messages.get(id);\n\nexport const getAllMessages = (state) => state.messages;\n\nexport const getMessagesByRoom = createCachedSelector(\n  [\n    getAllMessages,\n    (_, { roomId }) => roomId,\n  ],\n  (messages, roomId) => [...messages.values()].filter((message) => message.roomId === roomId),\n)((_, { roomId }) => roomId);\n\nexport const getNews = createCachedSelector(\n  [getAllMessages],\n  (messages) => [...messages.values()].filter((message) => message.messageType === MessageType.NEWS),\n)(() => 'news');\n\nexport const getNewsIdsPoints = createCachedSelector(\n  [getNews],\n  (messages) => messages.map(({ objectId, points }) => ({ objectId, points })),\n)(() => 'news-ids');\n\nexport const getMessageIdsByRoom = createCachedSelector(\n  [getMessagesByRoom],\n  (messages) => messages.map(({ objectId }) => objectId),\n)((_, { roomId }) => `id-${roomId}`);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport { getIdentityById } from '../../../../../../redux/selectors/users';\nimport { getTimestamp } from '../../../../../../redux/selectors/config';\n\nimport './MessageInfo.scss';\nimport store from '../../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../../redux/reducers/windowOrder';\n\nconst MessageInfo = ({ identityId, timeCreated }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n  const timestamp = useSelector((state) => getTimestamp(state, { date: timeCreated }));\n\n  return (\n    <p className=\"MessageInfo\">\n      <span\n        role=\"button\"\n        tabIndex={0}\n        className=\"clickable username\"\n        onClick={(event) => {\n          if (identity) {\n            store.dispatch(changeWindowOrder({\n              windows: [{\n                id: `${WindowTypes.DIALOGIDENTITY}-${identity.objectId}`,\n                value: {\n                  identityId: identity.objectId,\n                  type: WindowTypes.DIALOGIDENTITY,\n                },\n              }],\n            }));\n          }\n\n          event.stopPropagation();\n        }}\n      >\n        {identity ? identity.username || identity.aliasName : '-'}\n      </span>\n      <span className=\"time\">\n        {timestamp.fullStamp}\n      </span>\n    </p>\n  );\n};\n\nexport default React.memo(MessageInfo);\n\nMessageInfo.propTypes = {\n  identityId: string.isRequired,\n  timeCreated: string.isRequired,\n};\n","import React from 'react';\nimport {\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport MessageInfo from './MessageInfo/MessageInfo';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport { hasAccessTo } from '../../../../../AccessCentral';\nimport { getCurrentUser } from '../../../../../redux/selectors/users';\nimport store from '../../../../../redux/store';\n\nimport './MessageItem.scss';\n\nconst MessageItem = ({ previousMessageId, messageId }) => {\n  const previousMessage = useSelector((state) => getMessageById(state, { id: previousMessageId }));\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: message,\n    toAuth: getCurrentUser(store.getState()),\n  });\n\n  const shouldCollapse = () => {\n    if (!previousMessage) {\n      return false;\n    }\n\n    if (new Date(message.lastUpdated).getTime() - 900000 > new Date(previousMessage.lastUpdated).getTime()) {\n      return false;\n    }\n\n    if ((previousMessage.ownerAliasId && message.ownerAliasId) && previousMessage.ownerAliasId === message.ownerAliasId) {\n      return true;\n    }\n\n    return (!previousMessage.ownerAliasId && !message.ownerAliasId) && previousMessage.ownerId === message.ownerId;\n  };\n\n  return (\n    <ListItem\n      classNames={['MessageItem', `${hasFullAccess ? 'clickable' : ''}`]}\n      key={messageId}\n    >\n      {!shouldCollapse() && (\n        <MessageInfo\n          identityId={message.ownerAliasId || message.ownerId}\n          timeCreated={message.customTimeCreated || message.timeCreated}\n        />\n      )}\n      <div className=\"text\">\n        {/* eslint-disable-next-line react/no-array-index-key */}\n        {message.text.map((line, index) => <p key={index}>{line}</p>)}\n        {message.image && message.image.thumbFileName && (\n          <img src={`/upload/images/imgThumb-${message.image.fileName}`} alt=\"pic\" width={message.image.thumbWidth} height={message.image.thumbHeight} />\n        )}\n      </div>\n    </ListItem>\n  );\n};\n\nexport default React.memo(MessageItem);\n\nMessageItem.propTypes = {\n  previousMessageId: string,\n  messageId: string.isRequired,\n};\n\nMessageItem.defaultProps = {\n  previousMessageId: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getMessageIdsByRoom } from '../../../../redux/selectors/messages';\nimport List from '../../../common/lists/List/List';\nimport MessageItem from './Item/MessageItem';\n\nimport './MessageList.scss';\n\nconst MessageList = ({ roomId }) => {\n  const messageIds = useSelector((state) => getMessageIdsByRoom(state, { roomId }));\n\n  const messageMapper = () => messageIds.map((messageId, index, array) => (\n    <MessageItem\n      key={messageId}\n      previousMessageId={array[index - 1]}\n      messageId={messageId}\n    />\n  ));\n\n  return (\n    <List\n      scrollTo={{\n        buffer: true,\n        direction: 'bottom',\n      }}\n      classNames={['MessageList']}\n    >\n      {messageMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(MessageList);\n\nMessageList.propTypes = {\n  roomId: string,\n};\n\nMessageList.defaultProps = {\n  roomId: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport InputArea from '../../sub-components/InputArea/InputArea';\nimport MessagesList from '../../lists/Message/MessageList';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\n\nimport './Messages.scss';\n\nconst Messages = ({ roomId, onSend }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <div className=\"Messages\">\n      <div className=\"spacer\" />\n      <MessagesList\n        key=\"messagesList\"\n        roomId={roomId}\n      />\n      {accessLevel >= AccessLevels.STANDARD && (\n        <InputArea\n          onSend={onSend}\n          roomId={roomId}\n          key=\"inputArea\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Messages);\n\nMessages.propTypes = {\n  roomId: string,\n  onSend: func.isRequired,\n};\n\nMessages.defaultProps = {\n  roomId: undefined,\n};\n","import React from 'react';\nimport { node } from 'prop-types';\nimport List from './List/List';\n\nconst FileMenu = ({ children }) => (\n  <List\n    dropdown\n    checkWidth\n    classNames={['FileMenu']}\n    title=\"File\"\n  >\n    {children}\n  </List>\n);\n\nexport default React.memo(FileMenu);\n\nFileMenu.propTypes = {\n  children: node.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport Rooms from './views/Rooms';\nimport Messages from './views/Messages/Messages';\nimport Window from '../common/Window/Window';\nimport FileMenu from '../common/lists/FileMenu';\nimport { getRoomById, getWhisperRoomName } from '../../redux/selectors/rooms';\n\nimport './Chat.scss';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport { getPublicRoomId } from '../../redux/selectors/config';\nimport store from '../../redux/store';\nimport { getCurrentUser, getIdentityById } from '../../redux/selectors/users';\nimport { hasAccessTo } from '../../AccessCentral';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nconst Chat = ({ id, roomId, index }) => {\n  const [currentRoomId, setRoomId] = useState(roomId || getPublicRoomId(store.getState()));\n  const room = useSelector((state) => getRoomById(state, { id: currentRoomId }));\n  const currentUser = useSelector(getCurrentUser);\n\n  useEffect(() => {\n    if ((!currentUser || currentUser.isAnonymous || !room) && currentRoomId !== getPublicRoomId(store.getState())) {\n      setRoomId(getPublicRoomId(store.getState()));\n    }\n  }, [room, currentUser]);\n\n  useEffect(() => {\n    if (roomId && currentRoomId !== roomId) {\n      setRoomId(roomId);\n    }\n  }, [roomId]);\n\n  const title = (() => {\n    if (!room) {\n      return 'Chat';\n    }\n\n    if (room.isUser) {\n      const identity = getIdentityById(store.getState(), { id: currentRoomId });\n\n      return `PM: ${identity.aliasName || identity.username}`;\n    }\n\n    if (room.isWhisper) {\n      return `PM: ${getWhisperRoomName(store.getState(), { ids: room.participantIds })}`;\n    }\n\n    return `Chat: ${room.roomName}`;\n  })();\n\n  const onChange = useCallback(({ roomId: newRoomId } = {}) => {\n    setRoomId(newRoomId);\n  }, []);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.CHAT } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreateRoom = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEROOM, value: { type: WindowTypes.DIALOGCREATEROOM } }] })), []);\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: currentUser,\n  });\n\n  return (\n    <Window\n      index={index}\n      done={onDone}\n      classNames={['Chat']}\n      title={title}\n      onClick={onClick}\n      menu={(\n        <>\n          {!currentUser.isAnonymous && (\n            <FileMenu key=\"fileMenu\">\n              <ListItem\n                stopPropagation\n                key=\"createRoom\"\n                onClick={onCreateRoom}\n              >\n                New room\n              </ListItem>\n              {hasFullAccess && (\n                <ListItem\n                  stopPropagation\n                  key=\"configRoom\"\n                  onClick={() => {}}\n                >\n                  Config room\n                </ListItem>\n              )}\n              {hasFullAccess && !room.isWhisper && !room.isUser && !room.isSystemRoom && !room.isTeam && (\n                <ListItem\n                  stopPropagation\n                  key=\"removeRoom\"\n                  onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREMOVEROOM, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId: currentRoomId } }] }))}\n                >\n                  Delete room\n                </ListItem>\n              )}\n            </FileMenu>\n          )}\n          <Rooms\n            roomId={currentRoomId}\n            key=\"rooms\"\n            onChange={onChange}\n          />\n        </>\n      )}\n    >\n      <Messages\n        key=\"messages\"\n        roomId={currentRoomId}\n        onSend={onChange}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Chat);\n\nChat.propTypes = {\n  id: string.isRequired,\n  roomId: string,\n  index: number.isRequired\n};\n\nChat.defaultProps = {\n  roomId: undefined,\n};\n","import createCachedSelector from 're-reselect';\n\nexport const getOrder = (state) => state.windowOrder;\n\nexport const getIndexById = createCachedSelector(\n  [\n    getOrder,\n    (_, { id }) => id,\n  ],\n  (order, id) => [...order.keys()].indexOf(id),\n)((_, { id }) => `index-${id}`);\n","import React from 'react';\nimport {\n  func,\n  arrayOf,\n  string,\n  shape,\n  node, number,\n} from 'prop-types';\nimport Window from '../../Window/Window';\n\nimport './Dialog.scss';\n\nconst Dialog = ({\n  children,\n  title,\n  error,\n  text,\n  done,\n  onClick,\n  index,\n  classNames = [],\n}) => (\n  <Window\n    index={index}\n    type=\"dialog\"\n    done={done}\n    title={title}\n    classNames={['Dialog'].concat(classNames)}\n    onClick={onClick}\n  >\n    {error && (\n      <div className=\"error\">\n        <span>{error.message}</span>\n      </div>\n    )}\n    {text && (\n      <div>{text}</div>\n    )}\n    {children}\n  </Window>\n);\n\nexport default React.memo(Dialog);\n\nDialog.propTypes = {\n  done: func.isRequired,\n  children: node,\n  error: shape({\n    type: string.isRequired,\n    text: arrayOf(string).isRequired,\n  }),\n  title: string,\n  text: string,\n  classNames: arrayOf(string),\n  onClick: func.isRequired,\n  index: number.isRequired,\n};\n\nDialog.defaultProps = {\n  children: undefined,\n  error: undefined,\n  title: undefined,\n  text: undefined,\n  classNames: [],\n};\n","import React from 'react';\nimport { batch, useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport Dialog from './Dialog/Dialog';\nimport { getIdentityById } from '../../../redux/selectors/users';\nimport Button from '../sub-components/Button/Button';\nimport { getWhisperRoom } from '../../../redux/selectors/rooms';\nimport store from '../../../redux/store';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { ReactComponent as Wallet } from '../../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../../icons/chat.svg';\n\nconst IdentityDialog = ({ id, identityId, index }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n  const currentIdentityId = useSelector(getCurrentIdentityId);\n\n  return (\n    <Dialog\n      index={index}\n      title={`User: ${identity.aliasName || identity.username}`}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGIDENTITY, identityId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n    >\n      {currentIdentityId !== '-1' && (\n        <div className=\"buttons\">\n          <Button\n            stopPropagation\n            type=\"button\"\n            onClick={() => batch(() => {\n              store.dispatch(changeWindowOrder({\n                windows: [{\n                  id: `${WindowTypes.DIALOGCREATETRANSACTION}-${identityId}`,\n                  value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId: identityId },\n                }],\n              }));\n              store.dispatch(removeWindow({ id }));\n            })}\n          >\n            <Wallet />\n          </Button>\n          <Button\n            stopPropagation\n            type=\"button\"\n            onClick={() => {\n              const room = getWhisperRoom(store.getState(), { identityId, currentIdentityId });\n\n              batch(() => {\n                store.dispatch(changeWindowOrder({\n                  windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: room.objectId } }],\n                }));\n                store.dispatch(removeWindow({ id }));\n              });\n            }}\n          >\n            <Chat />\n          </Button>\n        </div>\n      )}\n    </Dialog>\n  );\n};\n\nexport default React.memo(IdentityDialog);\n\nIdentityDialog.propTypes = {\n  identityId: string.isRequired,\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport {\n  string,\n  bool,\n  func, number,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nconst Input = ({\n  onChange,\n  name,\n  shouldEqual,\n  maxLength,\n  minLength,\n  type = 'text',\n  required = false,\n  placeholder = '',\n}) => {\n  const { register, getValues } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    if (hasFocus && required) {\n      setIsEmpty(!event.target.value || event.target.value === '');\n    }\n  };\n\n  return (\n    <input\n      minLength={minLength}\n      maxLength={maxLength}\n      required={required}\n      name={name}\n      ref={register({\n        maxLength,\n        minLength,\n        validate: (value) => (!shouldEqual || value === getValues(shouldEqual)) || `Must match ${shouldEqual}`,\n      })}\n      type={type}\n      defaultValue=\"\"\n      className={`Input ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => {\n        if (!hasFocus) {\n          setHasFocus(true);\n        } else if (isEmpty) {\n          setIsEmpty(false);\n        }\n      }}\n      onBlur={checkEmpty}\n      onChange={(event) => {\n        if (onChange) {\n          onChange(event.target.value);\n        }\n      }}\n      placeholder={placeholder}\n    />\n  );\n};\n\nexport default React.memo(Input);\n\nInput.propTypes = {\n  onChange: func,\n  required: bool,\n  placeholder: string,\n  type: string,\n  name: string.isRequired,\n  shouldEqual: string,\n  maxLength: number,\n  minLength: number,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  required: false,\n  type: 'text',\n  onChange: undefined,\n  shouldEqual: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n};\n","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport store from '../../redux/store';\nimport { followRoom as followRoomAction, removeRooms } from '../../redux/actions/rooms';\nimport { getMessagesByRoom } from './messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createRoom = async ({ room }) => {\n  const roomToCreate = {\n    ...room,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.ROOM, { room: roomToCreate });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room };\n};\n\nexport const followRoom = async ({ roomId, password }) => {\n  const params = {\n    roomId,\n    password,\n    aliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.FOLLOW, params);\n\n  await getMessagesByRoom({ roomId });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room, user: result.user };\n};\n\nexport const removeRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.REMOVEROOM, { roomId });\n\n  await store.dispatch(removeRooms({ rooms: [{ objectId: roomId }] }));\n\n  return { room: result.room };\n};\n","import React, { useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { createRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\n\nconst CreateRoomDialog = ({ id, index }) => {\n  const methods = useForm();\n\n  const onSubmit = ({\n    roomName,\n    password,\n    topic,\n  }) => {\n    const room = {\n      roomName,\n      password,\n      topic,\n    };\n\n    createRoom({ room })\n      .then(({ room: newRoom }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: newRoom.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  if (methods.errors.repeatPassword) {\n    methods.setValue('repeatPassword', '');\n  }\n\n  return (\n    <Dialog\n      index={index}\n      classNames={['CreateRoomDialog']}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEROOM } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title=\"New room\"\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <Input\n            required\n            maxLength={20}\n            name=\"roomName\"\n            placeholder=\"Name of the room\"\n          />\n          <Input\n            maxLength={300}\n            name=\"topic\"\n            placeholder=\"(opt) Topic (shown when joining the room)\"\n          />\n          <Input\n            minLength={4}\n            maxLength={100}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"(opt) Password\"\n          />\n          <Input\n            minLength={4}\n            maxLength={100}\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            type=\"password\"\n            placeholder={`${methods.errors.repeatPassword ? 'Error. Passwords must match!' : '(opt) Repeat password'}`}\n          />\n          <div className=\"buttons\">\n            <Button\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Create\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateRoomDialog);\n\nCreateRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport Button from '../../common/sub-components/Button/Button';\nimport { removeRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RemoveRoomDialog = ({ id, roomId, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onSubmit = () => {\n    removeRoom({ roomId })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((removeError) => setError(removeError));\n  };\n\n  return (\n    <Dialog\n      index={index}\n      classNames={['RemoveRoomDialog']}\n      error={error}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={`Delete room ${room ? room.roomName : ''}`}\n      text={`Are you sure you want to delete ${room ? room.roomName : ''}?`}\n    >\n      <Button\n        type=\"button\"\n        onClick={() => store.dispatch(removeWindow({ id }))}\n      >\n        No\n      </Button>\n      <Button\n        type=\"submit\"\n        onClick={onSubmit}\n      >\n        Yes\n      </Button>\n    </Dialog>\n  );\n};\n\nexport default React.memo(RemoveRoomDialog);\n\nRemoveRoomDialog.propTypes = {\n  id: string.isRequired,\n  roomId: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Input from '../sub-components/Input';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst LoginDialog = ({ id, index }) => {\n  const methods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = async ({\n    username,\n    password,\n  }) => {\n    login(username, password)\n      .then(() => {\n        // TODO Notification: You are logged in\n        store.dispatch(removeWindow({ id }));\n      })\n      .catch((loginError) => {\n        setError(loginError);\n      });\n  };\n\n  return (\n    <Dialog\n      index={index}\n      classNames={['LoginDialog']}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGLOGIN } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title=\"Login\"\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <Input\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Input\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n          <div className=\"buttons\">\n            <Button\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Login\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(LoginDialog);\n\nLoginDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport {\n  arrayOf,\n  bool,\n  element,\n  func,\n  string,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nconst Select = ({\n  onChange,\n  children,\n  name,\n  defaultValue,\n  required = false,\n  placeholder = '',\n  multiple = false,\n}) => {\n  const { register } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    const selectedOptions = Array\n      .from(event.target.selectedOptions)\n      .filter((option) => option.value !== '');\n\n    if (hasFocus && required) {\n      setIsEmpty(selectedOptions.length === 0);\n    }\n  };\n\n  const onChangeFunc = (event) => {\n    checkEmpty(event);\n\n    if (onChange) {\n      onChange(Array\n        .from(event.target.selectedOptions)\n        .map((option) => option.value)\n        .filter((value) => value !== ''));\n    }\n  };\n\n  return (\n    <select\n      defaultValue={defaultValue}\n      required={required}\n      name={name}\n      ref={register}\n      className={`Select ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => setHasFocus(true)}\n      onBlur={checkEmpty}\n      onChange={onChangeFunc}\n      placeholder={placeholder}\n      multiple={multiple}\n    >\n      {children}\n    </select>\n  );\n};\n\nexport default Select;\n\nSelect.propTypes = {\n  multiple: bool,\n  children: arrayOf(element),\n  placeholder: string,\n  onChange: func,\n  required: bool,\n  name: string.isRequired,\n};\n\nSelect.defaultProps = {\n  multiple: false,\n  children: undefined,\n  placeholder: '',\n  required: false,\n  onChange: undefined,\n};\n","import React, { useState } from 'react';\nimport {\n  bool,\n  func, number,\n  string,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nconst Textarea = ({\n  onChange,\n  name,\n  maxLength,\n  required = false,\n  placeholder = '',\n}) => {\n  const { register } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    const value = event.target.value.trim();\n\n    if (hasFocus && required) {\n      setIsEmpty(value !== '');\n    }\n  };\n\n  return (\n    <textarea\n      maxLength={maxLength}\n      required={required}\n      name={name}\n      ref={register({\n        maxLength,\n      })}\n      defaultValue=\"\"\n      className={isEmpty ? 'empty' : ''}\n      onFocus={() => setHasFocus(true)}\n      onBlur={checkEmpty}\n      onChange={(event) => {\n        if (onChange) {\n          onChange(event.target.value);\n        }\n      }}\n      placeholder={placeholder}\n    />\n  );\n};\n\nexport default Textarea;\n\nTextarea.propTypes = {\n  placeholder: string,\n  onChange: func,\n  required: bool,\n  name: string.isRequired,\n  maxLength: number,\n};\n\nTextarea.defaultProps = {\n  placeholder: '',\n  required: false,\n  onChange: undefined,\n  maxLength: undefined,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport { getDeviceId } from '../../StorageManager';\nimport store from '../../redux/store';\nimport { createNewUser } from '../../redux/actions/users';\n\nexport const createUser = async (params) => {\n  const paramsToSend = params;\n  paramsToSend.user.registerDevice = getDeviceId();\n\n  const result = await emitSocketEvent(SendEvents.USER, paramsToSend);\n\n  await store.dispatch(createNewUser(result));\n\n  return result;\n};\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Select from '../sub-components/Select';\nimport Input from '../sub-components/Input';\nimport Textarea from '../sub-components/Textarea';\nimport { getRequireOffName } from '../../../redux/selectors/config';\nimport Button from '../sub-components/Button/Button';\nimport { createUser } from '../../../socket/actions/users';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RegisterDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n  const [error, setError] = useState();\n  const requireOffName = useSelector(getRequireOffName);\n\n  const onSubmit = async ({\n    offName,\n    username,\n    password,\n    repeatPassword,\n    pronouns,\n    description,\n  }) => {\n    if ((requireOffName && !offName) || !username || !password || !repeatPassword || !pronouns) {\n      return;\n    }\n\n    if (password !== repeatPassword) {\n      return;\n    }\n\n    const params = {\n      image,\n      user: {\n        offName,\n        username,\n        password,\n        pronouns,\n        description: description ? description.split('\\n') : undefined,\n      },\n    };\n\n    try {\n      await createUser(params);\n\n      // TODO If no auto-login, Notification: User registered\n\n      await login(username, password);\n\n      // TODO Notification: You are logged in as user\n\n      store.dispatch(removeWindow({ id }));\n    } catch (registerError) {\n      setError(registerError);\n    }\n  };\n\n  return (\n    <Dialog\n      index={index}\n      error={error}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREGISTER } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title=\"Register user\"\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {\n            requireOffName && (\n              <Input\n                required\n                name=\"offName\"\n                placeholder=\"Out-of-game name\"\n              />\n            )\n          }\n          <Input\n            required\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Select\n            multiple\n            required\n            name=\"pronouns\"\n          >\n            <option value=\"\">---Choose pronouns---</option>\n            <option value=\"they\">They/Them</option>\n            <option value=\"she\">She/Her</option>\n            <option value=\"he\">He/Him</option>\n            <option value=\"it\">It</option>\n          </Select>\n          <Input\n            required\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n          <Input\n            required\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            placeholder=\"Repeat password\"\n            type=\"password\"\n          />\n          <Textarea\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n          <div className=\"buttons\">\n            <Button\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Register\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(RegisterDialog);\n\nRegisterDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createNewAlias } from '../../redux/actions/aliases';\n\nexport const createAlias = async (params) => {\n  const result = await emitSocketEvent(SendEvents.ALIAS, params);\n\n  await store.dispatch(createNewAlias(result));\n\n  return result;\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input';\nimport Select from '../sub-components/Select';\nimport Textarea from '../sub-components/Textarea';\nimport { createAlias } from '../../../socket/actions/aliases';\n\nconst CreateAliasDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    aliasName,\n    pronouns,\n    description,\n  }) => {\n    const params = {\n      image,\n      alias: {\n        aliasName,\n        pronouns,\n        description,\n      },\n    };\n\n    createAlias(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <Dialog\n      index={index}\n      title=\"New alias\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <Input\n            required\n            name=\"aliasName\"\n            placeholder=\"Alias name\"\n          />\n          <Select\n            multiple\n            required\n            name=\"pronouns\"\n          >\n            <option value=\"\">---Choose pronouns---</option>\n            <option value=\"they\">They/Them</option>\n            <option value=\"she\">She/Her</option>\n            <option value=\"he\">He/Him</option>\n            <option value=\"it\">It</option>\n          </Select>\n          <Textarea\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n          <div className=\"buttons\">\n            <Button\n              stopPropagation\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Create\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateAliasDialog);\n\nCreateAliasDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import { emitSocketEvent, SendEvents } from '../SocketManager';\nimport store from '../../redux/store';\nimport { doTransaction } from '../../redux/actions/transactions';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createTransaction = async ({ transaction }) => {\n  const transactionToCreate = {\n    ...transaction,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.TRANSACTION, { transaction: transactionToCreate });\n\n  await store.dispatch(doTransaction(result));\n\n  return result;\n};\n","import React from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input';\nimport Select from '../sub-components/Select';\nimport { createTransaction } from '../../../socket/actions/transactions';\nimport { getWalletIdsByCurrentUser } from '../../../redux/selectors/wallets';\nimport { getIdentitiesOrTeamsByIds, getIdentityOrTeamById } from '../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\n\nconst CreateTransactionDialog = ({ id, toWalletId, index }) => {\n  const formMethods = useForm();\n  const identityId = useSelector(getCurrentIdentityId);\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n  const identities = useSelector((state) => getIdentitiesOrTeamsByIds(state, { ids: walletIds }));\n  const toIdentity = useSelector((state) => getIdentityOrTeamById(state, { id: toWalletId }));\n  const walletOptions = [];\n\n  const onSubmit = async ({\n    note,\n    amount,\n    fromWalletId,\n  }) => {\n    const transaction = {\n      note,\n      amount,\n      fromWalletId,\n      toWalletId,\n    };\n\n    createTransaction({ transaction })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  identities.forEach((identity) => {\n    walletOptions.push((\n      <option\n        key={identity.objectId}\n        value={identity.objectId}\n      >\n        {identity.teamName || identity.aliasName || identity.username}\n      </option>\n    ));\n  });\n\n  return (\n    <Dialog\n      index={index}\n      title={`Transfer to ${toIdentity.teamName || toIdentity.aliasName || toIdentity.username}`}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <p>{`You are making a transfer to ${toIdentity.teamName || toIdentity.aliasName || toIdentity.username}`}</p>\n          <div>\n            <span>From your wallet: </span>\n            <Select\n              required\n              defaultValue={identityId}\n              name=\"fromWalletId\"\n            >\n              <option value=\"\">---Choose wallet---</option>\n              <>{walletOptions}</>\n            </Select>\n          </div>\n          <Input\n            required\n            name=\"amount\"\n            placeholder=\"Amount\"\n          />\n          <Input\n            name=\"note\"\n            placeholder=\"Note\"\n          />\n          <div className=\"buttons\">\n            <Button\n              stopPropagation\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Transfer\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateTransactionDialog);\n\nCreateTransactionDialog.propTypes = {\n  id: string.isRequired,\n  toWalletId: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nexport const getAllDocFiles = (state) => state.docFiles;\n\nexport const getDocFileById = (state, { id }) => state.docFiles.get(id);\n\nexport const getDocFileIdsNames = createCachedSelector(\n  [getAllDocFiles],\n  (docFiles) => [...docFiles.values()].map(({ objectId, title }) => ({ objectId, title })),\n)(() => 'docFile-ids-names');\n","import React from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getDocFileById } from '../../../../../redux/selectors/docFiles';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\n\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\n\nimport './DocFileItem.scss';\n\nconst DocFileItem = ({ docFileId }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n\n  return (\n    <ListItem\n      stopPropagation\n      classNames={['DocFileItem']}\n      key={docFile.objectId}\n      onClick={() => {\n        if (docFile.isLocked) {\n          console.log('clocked');\n\n          return;\n        }\n\n        store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DOCFILE, value: { type: WindowTypes.DOCFILE, docFileId } }] }));\n      }}\n    >\n      {docFile.title}\n      {docFile.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(DocFileItem);\n\nDocFileItem.propTypes = {\n  docFileId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport { getDocFileIdsNames } from '../../../../redux/selectors/docFiles';\nimport DocFileItem from './Item/DocFileItem';\n\nconst DocFileList = () => {\n  const docFile = useSelector(getDocFileIdsNames);\n\n  const itemMapper = () => docFile\n    .sort((a, b) => {\n      const valueA = a.title.toLowerCase();\n      const valueB = b.title.toLowerCase();\n\n      if (valueA > valueB) {\n        return 1;\n      }\n\n      if (valueA < valueB) {\n        return -1;\n      }\n\n      return 0;\n    })\n    .map(({ objectId }) => <DocFileItem key={objectId} docFileId={objectId} />);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"Documents\"\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(DocFileList);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport { getDocFileById } from '../../../redux/selectors/docFiles';\nimport { getIdentityOrTeamById } from '../../../redux/selectors/users';\n\nimport './DocFileViewer.scss';\n\nconst DocFileViewer = ({ docFileId }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: docFile.ownerAliasId || docFile.ownerId }));\n\n  return (\n    <div className=\"DocFileViewer\">\n      <h1 className=\"title\">{docFile.title}</h1>\n      <div className=\"info\">\n        <p className=\"author\">{`Author: ${identity.teamName || identity.aliasName || identity.username}`}</p>\n        <p className=\"code\">{`Code: ${docFile.code}`}</p>\n        <p className=\"public\">{`Public: ${docFile.isPublic ? 'Yes' : 'No'}`}</p>\n      </div>\n      <div className=\"text\">{docFile.text.join('\\n')}</div>\n    </div>\n  );\n};\n\nexport default React.memo(DocFileViewer);\n\nDocFileViewer.propTypes = {\n  docFileId: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nimport './DocFile.scss';\nimport FileMenu from '../common/lists/FileMenu';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport DocFileList from './lists/DocFile/DocFileList';\nimport DocFileViewer from './Viewer/DocFileViewer';\nimport { getDocFileById } from '../../redux/selectors/docFiles';\n\nconst DocFile = ({ id, docFileId, index }) => {\n  const [currentDocFileId, setDocFileId] = useState();\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n\n  useEffect(() => {\n    if (docFileId && currentDocFileId !== docFileId) {\n      setDocFileId(docFileId);\n    }\n  }, [docFileId]);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DOCFILE } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newDocFileId) => setDocFileId(newDocFileId), []);\n\n  const onCreate = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEDOCFILE, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] })));\n\n  return (\n    <Window\n      index={index}\n      done={onDone}\n      classNames={['DocFile']}\n      title={`${docFile ? `Document: ${docFile.title}` : 'Documents'}`}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu>\n            <ListItem\n              stopPropagation\n              onClick={onCreate}\n              key=\"createDocFile\"\n            >\n              New document\n            </ListItem>\n          </FileMenu>\n          <DocFileList onChange={onChange} />\n        </>\n      )}\n    >\n      {!currentDocFileId && (\n        <div />\n      )}\n      {currentDocFileId && (\n        <DocFileViewer key=\"viewer\" docFileId={currentDocFileId} />\n      )}\n    </Window>\n  );\n};\n\nexport default React.memo(DocFile);\n\nDocFile.propTypes = {\n  id: string.isRequired,\n  docFileId: string,\n  index: number.isRequired,\n};\n\nDocFile.defaultProps = {\n  docFileId: undefined,\n}\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createDocFiles } from '../../redux/actions/docFiles';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createDocFile = async ({ docFile, images }) => {\n  const docFileToCreate = {\n    ...docFile,\n    code: docFile.code !== '' ? docFile.code : undefined,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: docFile.text.split('\\n'),\n  };\n\n  const result = await emitSocketEvent(SendEvents.DOCFILE, { docFile: docFileToCreate, images });\n\n  await store.dispatch(createDocFiles({ docFiles: [result.docFile] }));\n\n  return result;\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { createDocFile } from '../../../../socket/actions/docFiles';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport Dialog from '../../../common/dialogs/Dialog/Dialog';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport Input from '../../../common/sub-components/Input';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\nimport Textarea from '../../../common/sub-components/Textarea';\nimport Button from '../../../common/sub-components/Button/Button';\n\nimport './CreateDocFileDialog.scss';\n\nconst CreateDocFileDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    title,\n    text,\n    code,\n    isPublic,\n  }) => {\n    const params = {\n      images: image ? [image] : undefined,\n      docFile: {\n        title,\n        text,\n        code,\n        isPublic,\n      },\n    };\n\n    createDocFile(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <Dialog\n      index={index}\n      classNames={['CreateDocFileDialog']}\n      title=\"New document\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are:</span>\n            <IdentityPicker />\n          </div>\n          <div className=\"public\">\n            <Input\n              type=\"checkbox\"\n              name=\"isPublic\"\n            />\n            <span>Do you want it to be available to the public? (A user with the right code can always access the document)</span>\n          </div>\n          <Input\n            required\n            maxLength={40}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <Input\n            name=\"code\"\n            placeholder=\"Code\"\n          />\n          <Textarea\n            required\n            maxLength={3500}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n          <div className=\"buttons\">\n            <Button\n              stopPropagation\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Create\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateDocFileDialog);\n\nCreateDocFileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 5,\n  y1: 12,\n  x2: 19,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 5 19 12 12 19\"\n});\n\nvar SvgArrowRight = function SvgArrowRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-right.ac022e1b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { arrayOf, shape, string } from 'prop-types';\n\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { ReactComponent as Arrow } from '../../../../icons/arrow-right.svg';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst NewsItem = ({ message }) => (\n  <ListItem\n    key={message.objectId}\n    onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }))}\n  >\n    <p>\n      {message.text[0]}\n      <Arrow />\n    </p>\n  </ListItem>\n);\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  message: shape({\n    text: arrayOf(string),\n    objectId: string,\n  }).isRequired,\n};\n","import React from 'react';\n\nimport './Dashboard.scss';\nimport { useSelector } from 'react-redux';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getNews } from '../../../redux/selectors/messages';\nimport List from '../../common/lists/List/List';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport { getTimestamp } from '../../../redux/selectors/config';\nimport store from '../../../redux/store';\nimport { changeWindowOrder } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nimport { ReactComponent as Arrow } from '../../../icons/arrow-right.svg';\nimport NewsItem from './Item/NewsItem';\n\nconst Dashboard = () => {\n  const user = useSelector(getCurrentUser);\n  const wallet = useSelector((state) => getWalletById(state, { id: user.objectId }));\n  const news = useSelector(getNews);\n\n  const newsMapper = () => {\n    if (!news || news.length === 0) {\n      return [<ListItem key=\"noNews\">There are no news.</ListItem>];\n    }\n\n    return [...news]\n      .reverse()\n      .sort((a, b) => {\n        const valueA = a.points;\n        const valueB = b.points;\n\n        if (valueA > valueB) {\n          return -1;\n        }\n\n        if (valueA < valueB) {\n          return 1;\n        }\n\n        return 0;\n      })\n      .slice(0, 5)\n      .map((message) => (\n        <NewsItem key={message.objectId} message={message} />\n      ));\n  };\n\n  return (\n    <div className=\"Dashboard\">\n      {user.isAnonymous && (\n        <>\n          <p>Welcome!</p>\n          <p>{getTimestamp(store.getState(), { date: new Date() }).fullDate}</p>\n          <List\n            alwaysExpanded\n            title=\"Top News\"\n            classNames={['news']}\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n      {!user.isAnonymous && (\n        <>\n          <p>{`Welcome, ${user.username}!`}</p>\n          <p>{`Today's date is ${getTimestamp(store.getState(), { date: new Date() }).fullDate}`}</p>\n          {wallet && (\n            <p>{`You have ${wallet.amount} in your wallet.`}</p>\n          )}\n          <List\n            alwaysExpanded\n            title=\"News\"\n            classNames={['news']}\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Dashboard);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"6 9 12 15 18 9\"\n});\n\nvar SvgChevronDown = function SvgChevronDown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-down\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronDown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-down.8eb39ce4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"18 15 12 9 6 15\"\n});\n\nvar SvgChevronUp = function SvgChevronUp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-up\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronUp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-up.a17a631c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  arrayOf, bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\n\nimport { ReactComponent as ChevronDown } from '../../../../../icons/chevron-down.svg';\nimport { ReactComponent as ChevronUp } from '../../../../../icons/chevron-up.svg';\n\nimport './NewsItem.scss';\nimport { getTimestamp } from '../../../../../redux/selectors/config';\nimport store from '../../../../../redux/store';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nconst NewsItem = ({\n  messageId,\n  expand = false,\n  classNames = [],\n}) => {\n  const titleRef = useRef(null);\n  const [showText, setShowText] = useState(expand);\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: message.teamId || message.ownerAliasId || message.ownerId }));\n\n  useEffect(() => {\n    setShowText(expand);\n  }, [expand]);\n\n  useEffect(() => {\n    if (showText && titleRef.current) {\n      titleRef.current.scrollIntoView();\n    }\n  }, [showText]);\n\n  return (\n    <ListItem\n      elementId={`news-${messageId}`}\n      onClick={() => setShowText(!showText)}\n      classNames={['NewsItem'].concat(classNames, [showText ? 'expanded' : ''])}\n    >\n      <div\n        ref={titleRef}\n        className=\"title\"\n      >\n        <p>{message.text[0]}</p>\n        <p className=\"info\">\n          <span>\n            {`${getTimestamp(store.getState(), { date: message.customTimeCreated || message.timeCreated }).halfDate} `}\n            {getTimestamp(store.getState(), { date: message.customTimeCreated || message.timeCreated }).halfTime}\n          </span>\n          <span>{` By: ${identity.teamName || identity.aliasName || identity.username}`}</span>\n          {!showText && <ChevronDown />}\n          {showText && <ChevronUp />}\n        </p>\n      </div>\n      <div className={`text ${!showText ? 'hide' : ''}`}>\n        {message.text.slice(1).map((line, index) => <p key={index}>{line}</p>)}\n      </div>\n    </ListItem>\n  );\n};\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  classNames: arrayOf(string),\n  messageId: string.isRequired,\n  expand: bool,\n};\n\nNewsItem.defaultProps = {\n  classNames: [],\n  expand: false,\n};\n","import React, { useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getNewsIdsPoints } from '../../../../redux/selectors/messages';\nimport NewsItem from './item/NewsItem';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nimport './NewsList.scss';\n\nconst NewsList = ({ messageId }) => {\n  const listRef = useRef(null);\n  const news = useSelector(getNewsIdsPoints);\n\n  useEffect(() => {\n    if (messageId && listRef.current) {\n      const listItem = listRef.current.querySelector(`#news-${messageId}`);\n\n      if (listItem) {\n        listItem.scrollIntoView();\n      }\n    }\n  }, [messageId]);\n\n  const itemMapper = () => [...news]\n    .reverse()\n    .map((newsMessage) => (\n      <NewsItem\n        expand={newsMessage.objectId === messageId}\n        key={newsMessage.objectId}\n        messageId={newsMessage.objectId}\n      />\n    ));\n  const topMapper = () => [...news]\n    .reverse()\n    .filter((message) => message.points && message.points > 0)\n    .sort((a, b) => {\n      const valueA = a.points;\n      const valueB = b.points;\n\n      if (valueA > valueB) {\n        return -1;\n      }\n\n      if (valueA < valueB) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .slice(0, 3)\n    .map((newsMessage) => (\n      <NewsItem\n        key={`top-${newsMessage.objectId}`}\n        messageId={newsMessage.objectId}\n        classNames={['topNews']}\n      />\n    ));\n\n  return (\n    <List\n      ref={listRef}\n      scrollTo={{\n        buffer: true,\n        direction: 'top',\n      }}\n      classNames={['NewsList']}\n    >\n      {news.length === 0 && (\n        <ListItem key=\"noNews\"><p>There are no news</p></ListItem>\n      )}\n      {topMapper()}\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(NewsList);\n\nNewsList.propTypes = {\n  messageId: string,\n};\n\nNewsList.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport NewsList from './lists/News/NewsList';\nimport FileMenu from '../common/lists/FileMenu';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport ListItem from '../common/lists/List/Item/ListItem';\n\nimport './News.scss';\n\nconst News = ({ id, messageId, index }) => {\n  const newsRoom = useSelector((state) => getRoomById(state, { id: getNewsRoomId(state) }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.NEWS, messageId } }] }));\n  }, [messageId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreateNews = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATENEWS, value: { type: WindowTypes.DIALOGCREATENEWS } }] })), []);\n\n  return (\n    <Window\n      index={index}\n      done={onDone}\n      classNames={['News']}\n      title=\"News\"\n      onClick={onClick}\n      menu={(\n        <>\n          {newsRoom && (\n            <FileMenu>\n              <ListItem\n                stopPropagation\n                key=\"createNews\"\n                onClick={onCreateNews}\n              >\n                New article\n              </ListItem>\n            </FileMenu>\n          )}\n        </>\n      )}\n    >\n      <NewsList messageId={messageId} />\n    </Window>\n  );\n};\n\nexport default React.memo(News);\n\nNews.propTypes = {\n  id: string.isRequired,\n  messageId: string,\n  index: number.isRequired,\n};\n\nNews.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../../../common/dialogs/Dialog/Dialog';\nimport Input from '../../../../common/sub-components/Input';\nimport Button from '../../../../common/sub-components/Button/Button';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../../redux/actions/windowOrder';\nimport Textarea from '../../../../common/sub-components/Textarea';\nimport { sendNewsMessage } from '../../../../../socket/actions/messages';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../../../common/lists/IdentityPicker/IdentityPicker';\n\nconst CreateNewsDialog = ({ id, index }) => {\n  const methods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = ({\n    title,\n    text,\n    image,\n  }) => {\n    sendNewsMessage({ title, text, image })\n      .then(({ message }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  return (\n    <Dialog\n      index={index}\n      classNames={['CreateNewsDialog']}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATENEWS } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title=\"New news article\"\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are:</span>\n            <IdentityPicker />\n          </div>\n          <Input\n            required\n            maxLength={150}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <Textarea\n            required\n            maxLength={550}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n          <div className=\"buttons\">\n            <Button\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              Create\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateNewsDialog);\n\nCreateNewsDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 11,\n  width: 18,\n  height: 11,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 9.9-1\"\n});\n\nvar SvgUnlock = function SvgUnlock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-unlock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUnlock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unlock.35f7faf1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { followRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport { hasAccessTo } from '../../../AccessCentral';\n\nimport { ReactComponent as Unlock } from '../../../icons/unlock.svg';\n\nconst JoinRoomDialog = ({ roomId, id, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n  const user = useSelector(getCurrentUser);\n  const methods = useForm();\n\n  const { hasAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: user,\n  });\n\n  const onSubmit = ({\n    password,\n  } = {}) => {\n    followRoom({ roomId, password })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((followError) => {\n        const newError = {\n          ...followError,\n        };\n\n        console.log(followError);\n\n        if (followError.type === 'not allowed') {\n          newError.message = 'Incorrect password';\n        }\n\n        setError(newError);\n      });\n  };\n\n  return (\n    <Dialog\n      error={error}\n      index={index}\n      classNames={['JoinRoomDialog']}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={!hasAccess ? `Unlock room ${room.roomName}` : `Join room ${room.roomName}`}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <div>\n            {hasAccess && (\n              <p>{`Do you want to join room ${room.roomName}?`}</p>\n            )}\n            {hasAccess && room.topic && (\n              <p>{`Topic: ${room.topic}`}</p>\n            )}\n            {!hasAccess && (\n              <>\n                <p>The room is locked.</p>\n                <p>Enter the password to continue:</p>\n              </>\n            )}\n          </div>\n          {!hasAccess && (\n            <Input\n              required={!hasAccess}\n              minLength={4}\n              maxLength={100}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n          <div className=\"buttons\">\n            <Button\n              stopPropagation\n              type=\"button\"\n              onClick={() => store.dispatch(removeWindow({ id }))}\n            >\n              {!hasAccess ? 'Cancel' : 'No'}\n            </Button>\n            <Button\n              stopPropagation\n              type=\"submit\"\n              onClick={() => {}}\n            >\n              {!hasAccess && (\n                <Unlock />\n              )}\n              <span>{!hasAccess ? 'Unlock' : 'Join'}</span>\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(JoinRoomDialog);\n\nJoinRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Wallet from '../Wallet/Wallet';\nimport WorldMap from '../WorldMap/WorldMap';\nimport Chat from '../Chat/Chat';\nimport { getOrder } from '../../redux/selectors/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nimport './MainWindow.scss';\nimport IdentityDialog from '../common/dialogs/IdentityDialog';\nimport CreateRoomDialog from '../Chat/dialogs/CreateRoomDialog';\nimport RemoveRoomDialog from '../Chat/dialogs/RemoveRoomDialog';\nimport LoginDialog from '../common/dialogs/LoginDialog';\nimport RegisterDialog from '../common/dialogs/RegisterDialog';\nimport CreateAliasDialog from '../common/dialogs/CreateAliasDialog';\nimport CreateTransactionDialog from '../common/dialogs/CreateTransactionDialog';\nimport DocFile from '../DocFile/DocFile';\nimport CreateDocFileDialog from '../DocFile/dialogs/CreateDocFile/CreateDocFileDialog';\nimport Dashboard from './Dashboard/Dashboard';\nimport News from '../News/News';\nimport CreateNewsDialog from '../News/lists/News/dialogs/CreateNewsDialog';\nimport JoinRoomDialog from '../Chat/dialogs/JoinRoomDialog';\n\nconst MainWindow = () => {\n  const order = useSelector(getOrder);\n  const windows = [];\n\n  order.forEach((value, key) => {\n    const { type } = value;\n\n    if (type === WindowTypes.CHAT) {\n      windows.push(<Chat key={key} id={key} roomId={value.roomId} index={value.index} />);\n    } else if (type === WindowTypes.WALLET) {\n      windows.push(<Wallet key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.WORLDMAP) {\n      windows.push(<WorldMap key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DOCFILE) {\n      windows.push(<DocFile key={key} id={key} docFileId={value.docFileId} index={value.index} />);\n    } else if (type === WindowTypes.NEWS) {\n      windows.push(<News key={key} id={key} messageId={value.messageId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGIDENTITY) {\n      windows.push(<IdentityDialog key={key} id={key} identityId={value.identityId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATEROOM) {\n      windows.push(<CreateRoomDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGLOGIN) {\n      windows.push(<LoginDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGREGISTER) {\n      windows.push(<RegisterDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGREMOVEROOM) {\n      windows.push(<RemoveRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATEALIAS) {\n      windows.push(<CreateAliasDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATETRANSACTION) {\n      windows.push(<CreateTransactionDialog key={key} id={key} toWalletId={value.toWalletId} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATEDOCFILE) {\n      windows.push(<CreateDocFileDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGCREATENEWS) {\n      windows.push(<CreateNewsDialog key={key} id={key} index={value.index} />);\n    } else if (type === WindowTypes.DIALOGJOINROOM) {\n      windows.push(<JoinRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n    }\n  });\n\n  return (\n    <div id=\"MainWindow\">\n      <Dashboard />\n      {windows}\n    </div>\n  );\n};\n\nexport default React.memo(MainWindow);\n","import React from 'react';\n\nimport MenuBar from './library/components/MenuBar/MenuBar';\nimport DataHandler from './library/components/DataHandler';\nimport MainWindow from './library/components/MainWindow/MainWindow';\n\nfunction App() {\n  return (\n    <>\n      <React.StrictMode>\n        <DataHandler />\n        <MenuBar />\n        <MainWindow />\n      </React.StrictMode>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './library/redux/store';\n\nimport './index.scss';\n\nconst ElementQueries = require('css-element-queries');\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\nElementQueries.ElementQueries.listen();\n"],"sourceRoot":""}