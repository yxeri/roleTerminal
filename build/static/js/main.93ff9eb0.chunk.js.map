{"version":3,"sources":["library/icons/clock.svg","library/components/common/sub-components/Button/Button.jsx","library/TextTools.js","library/components/MenuBar/sub-components/Clock/Clock.jsx","library/icons/arrow-up-circle.svg","library/icons/arrow-down-circle.svg","library/components/common/lists/List/List.jsx","library/AccessCentral.js","library/redux/actionTypes.js","library/redux/reducers/root.js","library/redux/reducers/messages.js","library/redux/reducers/online.js","library/redux/reducers/config.js","library/redux/reducers/windowOrder.js","library/redux/reducers/mode.js","library/redux/reducers/interfaceConfig.js","library/redux/reducers/index.js","library/redux/reducers/users.js","library/redux/reducers/aliases.js","library/redux/reducers/rooms.js","library/redux/reducers/userId.js","library/redux/reducers/positions.js","library/redux/reducers/transactions.js","library/redux/reducers/wallets.js","library/redux/reducers/aliasId.js","library/redux/reducers/teams.js","library/redux/reducers/docFiles.js","library/redux/reducers/devices.js","library/redux/store.js","library/StorageManager.js","library/Converters.js","library/redux/selectors/mode.js","library/redux/actions/mode.js","library/redux/actions/windowOrder.js","library/redux/selectors/online.js","library/redux/actions/online.js","library/redux/selectors/aliasId.js","library/redux/selectors/userId.js","library/redux/actions/wallets.js","library/redux/actions/transactions.js","library/redux/actions/messages.js","library/redux/selectors/aliases.js","library/redux/selectors/config.js","library/redux/selectors/teams.js","library/redux/selectors/users.js","library/socket/listeners/messages.js","library/redux/actions/forums.js","library/redux/actions/gameCodes.js","library/redux/actions/users.js","library/redux/actions/rooms.js","library/socket/listeners/rooms.js","library/socket/listeners/users.js","library/redux/actions/aliasId.js","library/redux/actions/aliases.js","library/socket/listeners/aliases.js","library/socket/listeners/wallets.js","library/socket/listeners/transactions.js","library/redux/actions/docFiles.js","library/socket/listeners/docFiles.js","library/socket/SocketManager.js","library/redux/actions/devices.js","library/socket/actions/users.js","library/Messenger.js","library/redux/actions/auth.js","library/socket/actions/auth.js","library/components/common/lists/List/Item/ListItem.jsx","library/icons/menu.svg","library/components/MenuBar/lists/MainList.jsx","library/icons/chat.svg","library/icons/map.svg","library/icons/wallet.svg","library/icons/file.svg","library/icons/news.svg","library/icons/layers.svg","library/icons/grid.svg","library/redux/selectors/windowOrder.js","library/components/MenuBar/lists/OpenApps/OpenApps.jsx","library/icons/help.svg","library/icons/chevron-left.svg","library/icons/chevron-right.svg","library/redux/selectors/interfaceConfig.js","library/redux/actions/interfaceConfig.js","library/icons/user.svg","library/components/common/lists/IdentityPicker/IdentityPicker.jsx","library/components/MenuBar/MenuBar.jsx","library/icons/maximize.svg","library/icons/minimize.svg","library/icons/close.svg","library/icons/settings.svg","library/components/common/Window/TopBar/TopBar.jsx","library/components/common/sub-components/Help/Help.jsx","library/components/common/Window/Window.jsx","library/redux/selectors/transactions.js","library/components/Wallet/lists/Transaction/Item/TransactionItem.jsx","library/components/Wallet/lists/Transaction/TransactionList.jsx","library/redux/selectors/wallets.js","library/components/common/lists/IdentityList/Item/IdentityItem.jsx","library/components/common/sub-components/Input/Input.jsx","library/icons/delete.svg","library/components/common/lists/List/Search/SearchItem.jsx","library/icons/users.svg","library/components/common/lists/IdentityList/IdentityList.jsx","library/components/Wallet/lists/Wallet/Item/WalletItem.jsx","library/components/Wallet/lists/Wallet/WalletList.jsx","library/icons/admin.svg","library/components/Wallet/lists/AdminWallet/AdminWalletList.jsx","library/components/Wallet/Wallet.jsx","library/components/WorldMap/views/MapView.jsx","library/redux/selectors/positions.js","library/components/WorldMap/lists/Position/PositionList.jsx","library/components/WorldMap/views/Positions.jsx","library/components/WorldMap/WorldMap.jsx","library/redux/selectors/rooms.js","library/icons/lock.svg","library/components/Chat/lists/Room/Item/RoomItem.jsx","library/components/Chat/lists/Room/RoomList.jsx","library/icons/eye.svg","library/socket/actions/messages.js","library/socket/actions/rooms.js","library/components/Chat/lists/Whisper/Item/WhisperItem.jsx","library/components/Chat/lists/Whisper/WhisperList.jsx","library/components/Chat/lists/Following/Item/FollowingItem.jsx","library/components/Chat/lists/Following/FollowingList.jsx","library/components/Chat/views/Rooms.jsx","library/components/common/sub-components/Image/Image.jsx","library/icons/image.svg","library/components/common/sub-components/ImageUpload/ImageUpload.jsx","library/icons/pin.svg","library/icons/tag.svg","library/icons/file-plus.svg","library/icons/cloud-off.svg","library/components/common/sub-components/Textarea/Textarea.jsx","library/components/Chat/sub-components/InputArea/InputArea.jsx","library/redux/selectors/messages.js","library/components/Chat/lists/Message/Item/MessageInfo/MessageInfo.jsx","library/components/Chat/lists/Message/Item/MessageItem.jsx","library/components/Chat/lists/Message/MessageList.jsx","library/components/Chat/views/Messages/Messages.jsx","library/components/common/lists/FileMenu.jsx","library/components/Chat/lists/FileMenu/ChatFileMenu.jsx","library/components/Chat/Chat.jsx","library/components/common/dialogs/Dialog/Dialog.jsx","library/components/common/dialogs/IdentityDialog.jsx","library/components/Chat/dialogs/CreateRoomDialog.jsx","library/components/Chat/dialogs/RemoveRoomDialog.jsx","library/components/common/dialogs/LoginDialog.jsx","library/components/common/sub-components/Select/Select.jsx","library/components/common/dialogs/RegisterDialog.jsx","library/socket/actions/aliases.js","library/components/common/dialogs/CreateAliasDialog.jsx","library/socket/actions/transactions.js","library/components/common/dialogs/CreateTransactionDialog.jsx","library/redux/selectors/docFiles.js","library/socket/actions/docFiles.js","library/components/DocFile/lists/DocFile/Item/DocFileItem.jsx","library/components/DocFile/lists/DocFile/DocFileList.jsx","library/components/DocFile/Viewer/DocFileViewer.jsx","library/components/DocFile/DocFile.jsx","library/components/DocFile/dialogs/CreateDocFile/CreateDocFileDialog.jsx","library/icons/arrow-right.svg","library/components/MainWindow/Dashboard/Item/NewsItem.jsx","library/components/MainWindow/Dashboard/Dashboard.jsx","library/icons/chevron-down.svg","library/icons/chevron-up.svg","library/components/News/lists/News/item/NewsItem.jsx","library/components/News/lists/News/NewsList.jsx","library/components/News/News.jsx","library/components/News/dialogs/CreateNewsDialog.jsx","library/icons/unlock.svg","library/components/Chat/dialogs/JoinRoomDialog.jsx","library/components/common/dialogs/ConfigSystem/ConfigSystemDialog.jsx","library/components/DocFile/dialogs/UnlockDocFileDialog.jsx","library/components/News/dialogs/SettingsNewsDialog.jsx","library/components/MainWindow/MainWindow.jsx","App.jsx","index.jsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","cx","cy","r","points","_ref","svgRef","title","props","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","className","ref","ForwardRef","forwardRef","Button","React","onClick","children","disabled","stopPropagation","type","event","memo","propTypes","func","isRequired","node","oneOf","bool","string","defaultProps","undefined","beautifyNumber","number","getTimestamp","date","offset","lockDate","yearModification","dayModification","newDate","Date","timestamp","setHours","getHours","Number","isNaN","setFullYear","getFullYear","parseInt","setDate","getDate","mins","getMinutes","hours","seconds","getSeconds","month","getMonth","day","year","halfTime","fullTime","halfDate","fullDate","fullStamp","timeoutRef","useRef","useState","showTime","setShowTime","useEffect","updateTime","current","setTimeout","clearTimeout","useCallback","x1","y1","x2","y2","List","observe","startRevealed","alwaysExpanded","checkWidth","dropdown","observer","observeHelper","listRef","windowRef","hidden","setHidden","listClasses","classes","concat","offsetWidth","tagName","parentElement","contains","currentTarget","scroll","direction","lastElementChild","scrollIntoView","behavior","block","firstElementChild","bounds","getBoundingClientRect","right","window","innerWidth","classList","add","remove","bottom","innerHeight","IntersectionObserver","entries","forEach","entry","isIntersecting","root","rootMargin","threshold","disconnect","document","removeEventListener","addEventListener","push","join","role","tabIndex","element","closest","AccessLevels","hasAccessTo","objectToAccess","toAuth","adminLevel","canSee","hasFullAccess","hasAccess","ownerId","ownerAliasId","teamId","isPublic","visibility","teamIds","userIds","userAdminIds","teamAdminIds","partOfTeams","accessLevel","authUserId","objectId","authTeamIds","aliases","foundOwnerAlias","includes","partOfTeam","userHasAccess","teamHasAccess","find","id","aliasHasAccess","aliasId","userHasAdminAccess","aliasHasAdminAccess","teamHasAdminAccess","adminId","isAdmin","adminAccess","ALIASES","DEVICES","DOCFILES","FORUMS","FORUMPOSTS","FORUMTHREADS","GAMECODES","INVITATIONS","MESSAGES","ROOMS","SIMPLEMSGS","TEAMS","TRANSACTIONS","USERS","WALLETS","ChangeTypes","rootReducerSingle","state","action","newState","Map","payload","changeType","object","set","existing","get","updated","has","delete","rootReducerMultiple","reset","objects","MessageType","Status","defaultState","longitude","latitude","CHAT","PROFILE","DOCFILE","CreateAlias","name","CreateUser","followingRooms","isAnonymous","systemConfig","hasSeen","username","WindowTypes","WALLET","WORLDMAP","NEWS","DIALOGIDENTITY","DIALOGCREATEROOM","DIALOGREMOVEROOM","DIALOGREGISTER","DIALOGLOGIN","DIALOGCREATEALIAS","DIALOGCREATETRANSACTION","DIALOGCREATEDOCFILE","DIALOGCREATENEWS","DIALOGJOINROOM","DIALOGCONFIGSYSTEM","DIALOGUNLOCKROOM","DIALOGSETTINGSNEWS","Modes","initialState","mode","hideMenu","combineReducers","users","messages","online","rooms","userId","positions","transactions","wallets","config","keyValue","windowOrder","value","size","index","every","windowValue","sorted","sort","a","b","valueA","valueB","splice","findIndex","entryValue","newValue","windows","teams","docFiles","interfaceConfig","toggleHideMenu","devices","createStore","rootReducer","applyMiddleware","thunk","StorageType","setLocalValue","localStorage","setItem","JSON","stringify","stringifyObject","getLocalValue","getItem","removeLocalValue","removeItem","removeAliasId","resetUser","getDeviceId","getToken","getMode","changeMode","changeTarget","changeWindowOrder","dispatch","batch","store","getState","removeWindow","isOnline","getAliasId","getUserId","getCurrentIdentityId","updateWallets","wallet","createWallets","createTransactions","transaction","doTransaction","createMessages","message","createNewsMessage","getAllAliases","getAliasById","getRequireOffName","getPublicRoomId","getAllowedImages","getGpsTracking","getPermissions","getNewsRoomId","getNewsCost","getOnlySeen","getAllowPartialSearch","getYearModification","getDayModification","getAllTeams","getTeamsByIds","createCachedSelector","values","map","team","teamName","shortName","_","ids","foundTeams","getAllUsers","getUserById","getCurrentUser","user","anonymous","getIsAnonymous","getCurrentUserRooms","keySelector","selectorCreator","createSelectorCreator","defaultMemoize","roomId","getCurrentAccessLevel","createSelector","getCurrentHasSeen","seen","getCurrentPartOfTeams","getSystemConfig","deviceId","getHideTopBar","hideTopBar","getAlwaysMaximized","alwaysMaximized","getIdentities","getIdentitiesByIds","getIdentitiesOrTeamsByIds","getIdentityById","alias","getIdentityName","aliasName","getIdentityOrTeamById","getOtherIdentities","identities","filter","identity","otherIdentity","getCurrentUserIdentities","getCurrentUserIdentitiesNames","aIdentity","events","createForums","forums","forum","createGameCodes","gameCodes","gameCode","updateUsers","createUsers","createNewUser","room","createRooms","updateRooms","removeRooms","followRoom","changeAliasId","createAliases","createNewAlias","updateDocFiles","docFile","createDocFiles","socket","socketUri","ioUri","io","forceNew","SendEvents","GetEvents","ActionEvents","ListenerEvents","addSocketListener","callback","on","params","console","log","reconnect","connect","emitSocketEvent","Promise","resolve","reject","paramsToSend","token","getStoredToken","emit","error","data","retrieveAll","getter","then","result","catch","logoutAction","device","firstStartup","createDevices","loginAction","sender","some","updateUser","updateError","sentRoom","isWhisper","spyMode","currentUser","sentUser","sentAlias","updateAliases","sentWallet","sentTransaction","updateTransactions","sentDocFile","createUser","registerDevice","MessageTypes","onMessageListener","parse","alert","onNotification","windowType","onWindow","pushToken","onPushToken","onMessage","nativeEvent","ReactNativeWebView","login","setUserId","postMessage","logout","password","ListItem","elementId","scrollTo","itemRef","useLayoutEffect","click","useSelector","permissions","items","d","x","y","rx","ry","getOrder","order","otherWindows","changeOrder","getHideMenu","changeInterfaceConfig","IdentityPicker","useIcon","identityId","currentIdentity","hideMenuBar","onHelp","hideHelp","TopBar","onDoubleClick","done","onSettings","maximized","Window","menu","help","rndRef","defaultSize","setSize","coordinates","setCoordinates","style","zIndex","maximize","onOrientationChange","windowStyle","resizableElement","rndBounds","mainBounds","orientation","screen","angle","left","top","position","minWidth","minHeight","maxWidth","maxHeight","dragHandleClassName","enableResizing","bottomRight","bottomLeft","resizeHandleStyles","onDragStart","onDragStop","newX","newY","up","down","offsetHeight","smallHeight","smallWidth","windowBounds","wider","onResizeStart","onResizeStop","getTransactionIdsByWallets","walletIds","fromWalletId","toWalletId","reverse","transactionId","getTransactionById","from","to","customTimeCreated","timeCreated","amount","note","transactionIds","getAllWallets","getWalletById","getWalletIds","getWalletIdsByCurrentUser","IdentityItem","onClickCall","Input","onChange","shouldEqual","maxLength","minLength","checked","required","placeholder","useFormContext","register","getValues","unregister","hasFocus","setHasFocus","isEmpty","setIsEmpty","defaultChecked","validate","defaultValue","onFocus","onBlur","SearchItem","onSubmit","formMethods","handleSubmit","useForm","partialName","useWatch","control","onlySeen","allowPartialSearch","userItems","filtered","toLowerCase","WalletItem","walletId","setWalletId","currentWalletIds","onDone","newWalletId","MapView","setMap","mapRef","createMap","google","MarkerClusterer","MapLabel","worldMap","maps","disableDefaultUI","fullscreenControl","keyboardShortcuts","mapTypeControl","noClear","zoomControl","panControl","overviewMapControl","rotateControl","scaleControl","streetViewControl","center","lat","lng","zoom","styles","elementType","stylers","color","featureType","weight","getAllPositions","getPositionNamesByType","positionType","positionName","PositionList","positionsSelector","useMemo","Positions","positionTypes","getAllRooms","getRoomById","getRooms","isUser","getWhisperRooms","participantIds","getUnfollowedRoomIds","roomName","roomA","roomB","getFollowedRoomsIds","getWhisperRoom","currentIdentityId","identityRoom","getWhisperRoomName","currentIdentities","participant","secondParticipant","isLocked","roomIds","sendMessage","text","image","split","messageType","switchRoom","sendNewsMessage","getMessagesByRoom","createRoom","roomToCreate","followRoomAction","removeRoom","WhisperItem","followError","prevProps","newProps","prevRoom","newRoom","WhisperList","FollowingItem","Image","onRemove","altText","fullImage","fullWidth","fullHeight","containerRef","showFull","setShowFull","src","alt","setValue","inputRef","previewImage","setPreviewImage","watchImage","accept","file","files","reader","FileReader","imageName","readAsDataURL","Textarea","onKeyDown","textarea","scrollHeight","toString","resize","rows","trim","InputArea","onSend","minAccessLevel","isSending","setIsSending","buttonRef","allowedImages","gpsTracking","altKey","getMessageById","getAllMessages","getNews","getMessageIdsByRoom","getNewsIdsPoints","otherMessage","MessageItem","previousMessageId","messageId","isLatest","selected","previousMessage","lastUpdated","getTime","line","thumbFileName","thumbWidth","thumbHeight","fileName","MessageList","messageIds","latestMessageId","array","Messages","FileMenu","hideTopRow","ChatFileMenu","onCreateRoom","isSystemRoom","isTeam","Chat","currentRoomId","setRoomId","newRoomId","Dialog","buttons","transferCall","whisperCall","description","lineIndex","methods","topic","createError","errors","repeatPassword","setError","removeError","loginError","onSubmitCall","Select","multiple","checkEmpty","selectedOptions","Array","option","requireOffName","offName","pronouns","createAlias","createTransaction","transactionToCreate","toIdentity","walletOptions","getDocFileById","getDocFileIdsNames","createDocFile","images","docFileToCreate","code","unlockDocFile","docFileId","storedDocFile","partial","tags","docFileItem","querySelector","DocFile","currentDocFileId","setDocFileId","newDocFileId","onCreate","news","newsMapper","slice","NewsItem","expand","showText","setShowText","NewsList","newsMessage","News","newsRoom","onCreateNews","newsCost","newError","onDevice","openApps","removeDeviceConfig","deviceConfig","app","unlockError","App","StrictMode","ElementQueries","require","polyfill","listen","render","getElementById"],"mappings":"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","file":"static/js/main.93ff9eb0.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 6 12 12 16 14\"\n});\n\nvar SvgClock = function SvgClock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-clock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/clock.8dde864e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {\n  bool,\n  func,\n  node,\n  oneOf, string,\n} from 'prop-types';\n\nimport './Button.scss';\n\nconst Button = React.forwardRef(({\n  onClick,\n  children,\n  disabled,\n  stopPropagation,\n  className = '',\n  type = 'button',\n}, ref) => (\n  <button\n    ref={ref}\n    className={`Button ${className}`}\n    disabled={disabled}\n    type={type} /* eslint-disable-line react/button-has-type */\n    onClick={(event) => {\n      onClick(event);\n\n      if (stopPropagation) {\n        event.stopPropagation();\n      }\n    }}\n  >\n    {children}\n  </button>\n));\n\nexport default React.memo(Button);\n\nButton.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  type: oneOf(['button', 'submit']),\n  disabled: bool,\n  className: string,\n  stopPropagation: bool,\n};\n\nButton.defaultProps = {\n  type: 'button',\n  disabled: undefined,\n  className: '',\n  stopPropagation: undefined,\n};\n","/**\n * Beautifies number by adding a 0 before the number if it is lower than 10\n * @param {Number} number Number to be beautified\n * @returns {string} String with number or with 0 + number\n */\n// TODO Use built-in padding\nexport const beautifyNumber = (number) => (number > 9\n  ? `${number}`\n  : `0${number}`\n);\n\n/**\n * Takes date and returns shorter human-readable time.\n * @static\n * @param {Object} params Parameters.\n * @param {Date|number} params.date Date.\n * @param {Number} [params.offset] Should hours be modified from the final time?\n * @param {boolean} [params.lockDate] Should the year stay unmodified?\n * @returns {Object} Human-readable time and date.\n */\nexport const getTimestamp = ({\n  date,\n  offset,\n  lockDate,\n  yearModification,\n  dayModification,\n}) => {\n  const newDate = new Date(date);\n  const timestamp = {};\n\n  if (offset) {\n    newDate.setHours(newDate.getHours() + offset);\n  }\n\n  if (!lockDate && (yearModification || dayModification)) {\n    if (yearModification && !Number.isNaN(yearModification)) {\n      newDate.setFullYear(newDate.getFullYear() + parseInt(yearModification, 10));\n    }\n\n    if (dayModification && !Number.isNaN(dayModification)) {\n      newDate.setDate(newDate.getDate() + parseInt(dayModification, 10));\n    }\n  }\n\n  timestamp.mins = beautifyNumber(newDate.getMinutes());\n  timestamp.hours = beautifyNumber(newDate.getHours());\n  timestamp.seconds = beautifyNumber(newDate.getSeconds());\n  timestamp.month = beautifyNumber(newDate.getMonth() + 1);\n  timestamp.day = beautifyNumber(newDate.getDate());\n  timestamp.year = newDate.getFullYear();\n  timestamp.halfTime = `${timestamp.hours}:${timestamp.mins}`;\n  timestamp.fullTime = `${timestamp.halfTime}:${timestamp.seconds}`;\n  timestamp.halfDate = `${timestamp.day}/${timestamp.month}`;\n  timestamp.fullDate = `${timestamp.halfDate}/${timestamp.year}`;\n  timestamp.fullStamp = `${timestamp.halfTime} ${timestamp.fullDate}`;\n\n  return timestamp;\n};\n","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport { ReactComponent as ClockSvg } from '../../../../icons/clock.svg';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { getTimestamp } from '../../../../TextTools';\n\nimport './Clock.scss';\n\nconst Clock = () => {\n  const timeoutRef = useRef();\n  const [date, setDate] = useState(new Date());\n  const [showTime, setShowTime] = useState(false);\n  const timestamp = getTimestamp({ date });\n\n  const updateTime = () => {\n    timeoutRef.current = setTimeout(() => {\n      setDate(new Date());\n      updateTime();\n    }, 1000);\n  };\n\n  useEffect(() => {\n    updateTime();\n\n    return () => clearTimeout(timeoutRef.current);\n  }, []);\n\n  const onClick = useCallback(() => setShowTime(!showTime), [showTime]);\n\n  return (\n    <div\n      key=\"clock\"\n      className=\"Clock\"\n    >\n      <Button className={`icon ${showTime ? 'active' : ''}`} onClick={onClick}><ClockSvg /></Button>\n      <Button onClick={onClick} className={`time ${!showTime ? 'hide' : ''}`}>{timestamp.fullTime}</Button>\n    </div>\n  );\n};\n\nexport default React.memo(Clock);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"16 12 12 8 8 12\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 16,\n  x2: 12,\n  y2: 8\n});\n\nvar SvgArrowUpCircle = function SvgArrowUpCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-up-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowUpCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-up-circle.1095b4b3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"8 12 12 16 16 12\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 8,\n  x2: 12,\n  y2: 16\n});\n\nvar SvgArrowDownCircle = function SvgArrowDownCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-down-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowDownCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-down-circle.c36635ee.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  string,\n  bool,\n  node,\n} from 'prop-types';\n\nimport { ReactComponent as ArrowUp } from '../../../../icons/arrow-up-circle.svg';\nimport { ReactComponent as ArrowDown } from '../../../../icons/arrow-down-circle.svg';\nimport Button from '../../sub-components/Button/Button';\n\nimport './List.scss';\n\nconst List = React.forwardRef(({\n  children,\n  title,\n  observe,\n  startRevealed = false,\n  alwaysExpanded = false,\n  checkWidth = false,\n  dropdown = false,\n  className = '',\n}, ref) => {\n  const observer = useRef();\n  const observeHelper = useRef();\n  const listRef = useRef(null);\n  const windowRef = useRef(null);\n  const [hidden, setHidden] = useState(!startRevealed && !alwaysExpanded && typeof title !== 'undefined');\n  const listClasses = [];\n  const classes = ['List'].concat([className]);\n\n  const onClick = useCallback((event) => {\n    if (dropdown && !hidden && listRef.current && (!checkWidth || !windowRef.current || windowRef.current.offsetWidth < 600)) {\n      if (event.target.tagName !== 'INPUT' && (!listRef.current.parentElement.contains(event.target) || (event.target !== listRef.current && event.currentTarget === listRef.current))) {\n        setHidden(true);\n      }\n    }\n  }, [hidden]);\n\n  const scroll = ({ direction }) => {\n    if (direction === 'bottom' && listRef.current.lastElementChild) {\n      listRef.current.lastElementChild.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    } else if (direction === 'top' && listRef.current.firstElementChild) {\n      listRef.current.firstElementChild.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  };\n\n  useEffect(() => {\n    if (!hidden && dropdown && listRef.current) {\n      const bounds = listRef.current.getBoundingClientRect();\n\n      if (bounds.right > window.innerWidth) {\n        listRef.current.classList.add('right');\n      } else {\n        listRef.current.classList.remove('right');\n      }\n\n      if (bounds.bottom > window.innerHeight) {\n        listRef.current.classList.add('bottom');\n      } else {\n        listRef.current.classList.remove('bottom');\n      }\n    }\n  }, [hidden]);\n\n  useEffect(() => {\n    if (listRef.current && observe) {\n      observer.current = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            observeHelper.current.classList.add('hide');\n          } else {\n            observeHelper.current.classList.remove('hide');\n          }\n        });\n      }, {\n        root: listRef.current,\n        rootMargin: '50px',\n        threshold: 1,\n      });\n\n      if (observe === 'upper' && listRef.current.firstElementChild) {\n        observer.current.observe(listRef.current.firstElementChild);\n      }\n\n      if (observe === 'lower' && listRef.current.lastElementChild) {\n        observer.current.observe(listRef.current.lastElementChild);\n      }\n    }\n\n    return () => {\n      if (observer.current) {\n        observer.current.disconnect();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (observer.current) {\n      observer.current.disconnect();\n\n      if (observe === 'upper' && listRef.current.firstElementChild) {\n        observer.current.observe(listRef.current.firstElementChild);\n      }\n\n      if (observe === 'lower' && listRef.current.lastElementChild) {\n        observer.current.observe(listRef.current.lastElementChild);\n      }\n    }\n  }, [children]);\n\n  useEffect(() => {\n    if (dropdown) {\n      if (!hidden) {\n        document.addEventListener('mousedown', onClick);\n      } else {\n        document.removeEventListener('mousedown', onClick);\n      }\n    }\n\n    return () => document.removeEventListener('mousedown', onClick);\n  }, [hidden]);\n\n  if (!hidden) {\n    classes.push('expanded');\n  } else {\n    listClasses.push('hide');\n  }\n\n  if (dropdown) {\n    listClasses.push('dropdown');\n  }\n\n  return (\n    <div\n      key=\"List\"\n      className={classes.join(' ')}\n    >\n      { title && (\n        <header\n          role=\"button\"\n          tabIndex={0}\n          key=\"listHeader\"\n          className={`toggle ${!alwaysExpanded ? 'clickable' : ''}`}\n          onClick={() => {\n            if (!alwaysExpanded) {\n              setHidden(!hidden);\n\n            }\n          }}\n        >\n          {title}\n        </header>\n      )}\n      {observe && observe === 'upper' && <Button key=\"upper\" className=\"upper hide\" ref={observeHelper} onClick={() => scroll({ direction: 'top' })}><ArrowUp /></Button>}\n      <ul\n        ref={(element) => {\n          listRef.current = element;\n\n          if (ref) {\n            ref.current = element;\n          }\n\n          if (element) {\n            windowRef.current = element.closest('.Window');\n          }\n        }}\n        key=\"listElem\"\n        className={`${listClasses.join(' ')}`}\n        onClick={(event) => {\n          if (dropdown) {\n            onClick(event);\n\n            event.stopPropagation();\n          }\n        }}\n      >\n        {children}\n      </ul>\n      {observe && observe === 'lower' && <Button key=\"lower\" className=\"lower hide\" ref={observeHelper} onClick={() => scroll({ direction: 'bottom' })}><ArrowDown /></Button>}\n    </div>\n  );\n});\n\nexport default React.memo(List);\n\nList.propTypes = {\n  children: node,\n  title: node,\n  className: string,\n  dropdown: bool,\n  checkWidth: bool,\n  alwaysExpanded: bool,\n  observe: string,\n  startRevealed: bool,\n};\n\nList.defaultProps = {\n  className: '',\n  children: undefined,\n  title: undefined,\n  dropdown: false,\n  checkWidth: false,\n  alwaysExpanded: false,\n  observe: undefined,\n  startRevealed: undefined,\n};\n","export const AccessLevels = {\n  ANONYMOUS: 0,\n  STANDARD: 1,\n  PRIVILEGED: 2,\n  MODERATOR: 3,\n  ADMIN: 4,\n  SUPERUSER: 5,\n  GOD: 6,\n};\n\n/**\n * Checks if user has access, is admin or can see the object.\n * @param {Object} params Parameter.\n * @param {Object} params.objectToAccess Object to access.\n * @param {Object} params.toAuth Object to auth.\n * @returns {Object} Does the user have access to the object?\n */\nexport const hasAccessTo = ({\n  objectToAccess,\n  toAuth,\n  adminLevel = AccessLevels.ADMIN,\n}) => {\n  if (!objectToAccess || !toAuth) {\n    return {\n      canSee: false,\n      hasFullAccess: false,\n      hasAccess: false,\n    };\n  }\n\n  const {\n    ownerId,\n    ownerAliasId,\n    teamId,\n    isPublic,\n    visibility,\n    teamIds = [],\n    userIds = [],\n    userAdminIds = [],\n    teamAdminIds = [],\n  } = objectToAccess;\n  const {\n    hasFullAccess,\n    partOfTeams = [],\n    accessLevel = AccessLevels.ANONYMOUS,\n    objectId: authUserId,\n    teamIds: authTeamIds = [],\n    aliases = [],\n  } = toAuth;\n\n  const foundOwnerAlias = ownerAliasId && aliases.includes(ownerAliasId);\n  const partOfTeam = teamId && partOfTeams.includes(teamId);\n\n  const userHasAccess = userIds.concat([ownerId]).includes(authUserId);\n  const teamHasAccess = partOfTeam || teamIds.find((id) => authTeamIds.includes(id));\n  const aliasHasAccess = foundOwnerAlias || aliases.find((aliasId) => userIds.includes(aliasId));\n  const userHasAdminAccess = userAdminIds.includes(authUserId);\n  const aliasHasAdminAccess = foundOwnerAlias || aliases.find((aliasId) => userAdminIds.includes(aliasId));\n  const teamHasAdminAccess = partOfTeam || teamAdminIds.find((adminId) => authTeamIds.includes(adminId));\n  const isAdmin = ownerId === authUserId || hasFullAccess || accessLevel >= adminLevel;\n\n  return {\n    canSee: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess || accessLevel >= visibility,\n    hasAccess: isAdmin || isPublic || userHasAccess || teamHasAccess || aliasHasAccess,\n    hasFullAccess: isAdmin || userHasAdminAccess || teamHasAdminAccess || aliasHasAdminAccess,\n    adminAccess: !isPublic && !userHasAccess && !teamHasAccess && !aliasHasAccess && isAdmin,\n  };\n};\n","export const ALIAS = 'alias';\nexport const DEVICE = 'device';\nexport const DOCFILE = 'docFile';\nexport const FORUM = 'forum';\nexport const FORUMPOST = 'forumPost';\nexport const FORUMTHREAD = 'forumThread';\nexport const GAMECODE = 'gameCode';\nexport const INVITATION = 'invitation';\nexport const MESSAGE = 'message';\nexport const POSITION = 'position';\nexport const ROOM = 'room';\nexport const SIMPLEMSG = 'simpleMsg';\nexport const TEAM = 'team';\nexport const TEAMSCORING = 'teamScoring';\nexport const TRANSACTION = 'transaction';\nexport const USER = 'user';\nexport const WALLET = 'wallet';\n\nexport const ALIASES = 'aliases';\nexport const DEVICES = 'devices';\nexport const DOCFILES = 'docFiles';\nexport const FORUMS = 'forums';\nexport const FORUMPOSTS = 'forumPosts';\nexport const FORUMTHREADS = 'forumThreads';\nexport const GAMECODES = 'gameCodes';\nexport const INVITATIONS = 'invitations';\nexport const MESSAGES = 'messages';\nexport const POSITIONS = 'positions';\nexport const ROOMS = 'rooms';\nexport const SIMPLEMSGS = 'simpleMsgs';\nexport const TEAMS = 'teams';\nexport const TEAMSCORINGS = 'teamScorings';\nexport const TRANSACTIONS = 'transactions';\nexport const USERS = 'users';\nexport const WALLETS = 'wallets';\n\nexport const USERID = 'userId';\nexport const ROOMID = 'roomId';\nexport const CONFIG = 'config';\nexport const ONLINE = 'online';\nexport const ALIASID = 'aliasId';\nexport const WINDOWORDER = 'windowOrder';\nexport const WINDOWORDERS = 'windowOrders';\nexport const MODE = 'mode';\nexport const INTERFACECONFIG = 'interfaceConfiog';\n","export const ChangeTypes = {\n  UPDATE: 'update',\n  CREATE: 'create',\n  REMOVE: 'remove',\n  RESET: 'reset',\n};\n\nexport const rootReducerSingle = (state, action) => {\n  const newState = new Map([...state]);\n  const { type, payload } = action;\n  const { changeType } = payload;\n  const object = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      newState.set(object.objectId, object);\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      const existing = newState.get(object.objectId) || {};\n      const updated = { ...existing, ...object };\n\n      if (existing === updated) {\n        return state;\n      }\n\n      newState.set(object.objectId, updated);\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      if (!newState.has(object.objectId)) {\n        return state;\n      }\n\n      newState.delete(object.objectId);\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport const rootReducerMultiple = (state, action) => {\n  const { type, payload } = action;\n  const { reset, changeType } = payload;\n  const newState = reset\n    ? new Map()\n    : new Map([...state]);\n  const objects = payload[type];\n\n  switch (changeType) {\n    case ChangeTypes.CREATE: {\n      objects.forEach((object) => newState.set(object.objectId, object));\n\n      return newState;\n    }\n    case ChangeTypes.UPDATE: {\n      objects\n        .forEach((object) => {\n          const existing = newState.get(object.objectId) || {};\n          const updated = { ...existing, ...object };\n\n          if (existing !== updated) {\n            newState.set(object.objectId, updated);\n          }\n        });\n\n      return newState;\n    }\n    case ChangeTypes.REMOVE: {\n      objects.forEach((object) => newState.delete(object.objectId));\n\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { MESSAGE, MESSAGES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport const MessageType = {\n  CHAT: 'chat',\n  WHISPER: 'whisper',\n  BROADCAST: 'broadcast',\n  MESSAGE: 'message',\n  NEWS: 'news',\n};\n\nexport default function messagesReducer(state = new Map(), action) {\n  if (action.type === MESSAGE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === MESSAGES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ONLINE } from '../actionTypes';\n\nexport const Status = {\n  ONLINE: 'online',\n  OFFLINE: 'offline',\n  RECONNECTING: 'reconnecting',\n};\n\nexport default function onlineReducer(state = Status.OFFLINE, action) {\n  if (action.type === ONLINE) {\n    const { payload } = action;\n    const { online } = payload;\n\n    return online;\n  }\n\n  return state;\n}\n","import { CONFIG } from '../actionTypes';\nimport { AccessLevels } from '../../AccessCentral';\n\nconst defaultState = new Map();\n\ndefaultState.set('broadcastId', '111111111111111111111116');\ndefaultState.set('publicRoomId', '111111111111111111111110');\ndefaultState.set('newsRoomId', '111111111111111111111114');\ndefaultState.set('defaultForum', '111111111111111111111120');\ndefaultState.set('defaultLanguage', 'en');\ndefaultState.set('centerCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerOneCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('cornerTwoCoordinates', { longitude: 0, latitude: 0 });\ndefaultState.set('defaultZoomLevel', 15);\ndefaultState.set('yearModification', 0);\ndefaultState.set('dayModification', 0);\ndefaultState.set('requireOffName', false);\ndefaultState.set('activateTermination', false);\ndefaultState.set('allowedImages', { CHAT: false, PROFILE: false, DOCFILE: false });\ndefaultState.set('newsCost', 0);\ndefaultState.set('onlySeen', false);\ndefaultState.set('allowPartialSearch', true);\ndefaultState.set('permissions', {\n  CreateAlias: {\n    name: 'CreateAlias',\n    accessLevel: AccessLevels.STANDARD,\n  },\n  CreateUser: {\n    name: 'CreateUser',\n    accessLevel: AccessLevels.ANONYMOUS,\n  },\n});\ndefaultState.set('anonymousUser', {\n  accessLevel: AccessLevels.ANONYMOUS,\n  followingRooms: ['111111111111111111111110'],\n  objectId: '-1',\n  isAnonymous: true,\n  systemConfig: {},\n  aliases: [],\n  hasSeen: [],\n  partOfTeams: [],\n});\ndefaultState.set('systemUser', {\n  objectId: '222222222222222222222220',\n  username: 'SYSTEM',\n});\n// customUserFields\n// device id\n\nexport default function ConfigReducer(state = defaultState, action) {\n  if (action.type === CONFIG) {\n    const { payload } = action;\n    const { entries } = payload;\n    const newState = new Map([...state]);\n\n    entries.forEach((keyValue) => newState.set(keyValue[0], keyValue[1]));\n\n    return newState;\n  }\n\n  return state;\n}\n","import { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from './root';\n\nexport const WindowTypes = {\n  WALLET: 'Wallet',\n  CHAT: 'Chat',\n  WORLDMAP: 'Map',\n  DOCFILE: 'Files',\n  NEWS: 'News',\n  DIALOGIDENTITY: 'User',\n  DIALOGCREATEROOM: 'New room',\n  DIALOGREMOVEROOM: 'Remove room',\n  DIALOGREGISTER: 'Register',\n  DIALOGLOGIN: 'Login',\n  DIALOGCREATEALIAS: 'New alias',\n  DIALOGCREATETRANSACTION: 'Transfer',\n  DIALOGCREATEDOCFILE: 'New file',\n  DIALOGCREATENEWS: 'New article',\n  DIALOGJOINROOM: 'Join room',\n  DIALOGCONFIGSYSTEM: 'Config system',\n  DIALOGUNLOCKROOM: 'Unlock room',\n  DIALOGSETTINGSNEWS: 'News settings',\n};\n\nconst defaultState = new Map();\n\nexport default function WindowOrderReducer(state = defaultState, action) {\n  if (action.type === WINDOWORDER) {\n    const { payload } = action;\n    const { id, value, changeType } = payload;\n    const newState = new Map([...state]);\n\n    if (changeType === ChangeTypes.UPDATE) {\n      if (newState.size > 0 && newState.get(id) && newState.get(id).index === newState.size) {\n        const existing = newState.get(id);\n\n        if (Object.keys(value).length === Object.keys(existing).length - 1 && Object.keys(value).every((key) => existing[key] === value[key])) {\n          return state;\n        }\n      }\n\n      const windowValue = { ...value };\n\n      if (!newState.get(id)) {\n        windowValue.index = newState.size + 1;\n\n        newState.set(id, windowValue);\n      } else {\n        const sorted = [...newState.entries()]\n          .sort((a, b) => {\n            const valueA = a[1].index;\n            const valueB = b[1].index;\n\n            if (valueA > valueB) {\n              return 1;\n            }\n\n            if (valueA < valueB) {\n              return -1;\n            }\n\n            return 0;\n          });\n\n        const [window] = sorted.splice(sorted.findIndex(([key]) => key === id), 1);\n        window[1] = { ...windowValue };\n\n        sorted.push(window);\n\n        sorted.forEach(([key, entryValue], index) => {\n          const newValue = {\n            ...entryValue,\n            index: index + 1,\n          };\n\n          newState.set(key, newValue);\n        });\n      }\n\n      return newState;\n    }\n\n    if (changeType === ChangeTypes.REMOVE) {\n      newState.delete(id);\n\n      return newState;\n    }\n\n    return state;\n  }\n\n  if (action.type === WINDOWORDERS) {\n    const { payload } = action;\n    const { windows } = payload;\n    const newState = new Map([...state]);\n\n    windows.forEach(({ id, value }) => {\n      const newValue = {\n        ...value,\n        index: newState.size + 1,\n      };\n\n      newState.set(id, newValue);\n    });\n\n    return newState;\n  }\n\n  return state;\n}\n","import { MODE } from '../actionTypes';\n\nexport const Modes = {\n  DEFAULT: 'default',\n  HELP: 'help',\n  OFF: 'off',\n};\n\nconst initialState = {\n  mode: Modes.DEFAULT,\n  target: '',\n};\n\nexport default function modeReducer(state = initialState, action) {\n  if (action.type === MODE) {\n    const { payload } = action;\n    const { mode, target } = payload;\n    const newState = { ...state };\n\n    if (!mode && target && state.target === target) {\n      return state;\n    }\n\n    if (!target || mode === state.mode) {\n      newState.target = initialState.target;\n    } else {\n      newState.target = target;\n    }\n\n    if (mode === state.mode) {\n      newState.mode = initialState.mode;\n    } else if (mode) {\n      newState.mode = mode;\n    }\n\n    return newState;\n  }\n\n  return state;\n}\n","import { INTERFACECONFIG } from '../actionTypes';\n\nconst initialState = {\n  hideMenu: false,\n};\n\nexport default function interfaceConfigReducer(state = initialState, action) {\n  if (action.type === INTERFACECONFIG) {\n    const { payload } = action;\n    const { hideMenu, toggleHideMenu } = payload;\n    const newState = { ...state };\n\n    if (Object.keys(payload).every((key) => payload[key] === state[key])) {\n      return state;\n    }\n\n    if (toggleHideMenu) {\n      newState.hideMenu = !state.hideMenu;\n    } else if (typeof hideMenu === 'boolean') {\n      newState.hideMenu = hideMenu;\n    }\n\n    return newState;\n  }\n\n  return state;\n}\n","import { combineReducers } from 'redux';\n\nimport users from './users';\nimport aliases from './aliases';\nimport messages from './messages';\nimport online from './online';\nimport rooms from './rooms';\nimport positions from './positions';\nimport transactions from './transactions';\nimport userId from './userId';\nimport wallets from './wallets';\nimport config from './config';\nimport aliasId from './aliasId';\nimport windowOrder from './windowOrder';\nimport teams from './teams';\nimport docFiles from './docFiles';\nimport mode from './mode';\nimport interfaceConfig from './interfaceConfig';\nimport devices from './devices';\n\nexport default combineReducers({\n  users,\n  aliases,\n  messages,\n  online,\n  rooms,\n  userId,\n  positions,\n  transactions,\n  wallets,\n  config,\n  aliasId,\n  windowOrder,\n  teams,\n  docFiles,\n  mode,\n  interfaceConfig,\n  devices,\n});\n","import { USER, USERS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function usersReducer(state = new Map(), action) {\n  if (action.type === USER) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === USERS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIAS, ALIASES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function aliasesReducer(state = new Map(), action) {\n  if (action.type === ALIAS) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ALIASES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ROOM, ROOMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function roomsReducer(state = new Map(), action) {\n  if (action.type === ROOM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === ROOMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { USERID } from '../actionTypes';\n\nconst initialState = '-1';\n\nexport default function userIdReducer(state = initialState, action) {\n  if (action.type === USERID) {\n    const { payload } = action;\n    const { reset, userId } = payload;\n\n    return reset\n      ? initialState\n      : userId;\n  }\n\n  return state;\n}\n","import { POSITION, POSITIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function positionsReducer(state = new Map(), action) {\n  if (action.type === POSITION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === POSITIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === TRANSACTION) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TRANSACTIONS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { rootReducerSingle, rootReducerMultiple } from './root';\n\nexport default function transactionsReducer(state = new Map(), action) {\n  if (action.type === WALLET) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === WALLETS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { ALIASID } from '../actionTypes';\n\nconst initialState = null;\n\nexport default function aliasIdReducer(state = initialState, action) {\n  if (action.type === ALIASID) {\n    const { payload } = action;\n    const { reset, aliasId } = payload;\n\n    return reset\n      ? initialState\n      : aliasId;\n  }\n\n  return state;\n}\n","import { TEAM, TEAMS } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function teamsReducer(state = new Map(), action) {\n  if (action.type === TEAM) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === TEAMS) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function docFileReducer(state = new Map(), action) {\n  if (action.type === DOCFILE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === DOCFILES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { DEVICE, DEVICES } from '../actionTypes';\nimport { rootReducerMultiple, rootReducerSingle } from './root';\n\nexport default function aliasesReducer(state = new Map(), action) {\n  if (action.type === DEVICE) {\n    return rootReducerSingle(state, action);\n  }\n\n  if (action.type === DEVICES) {\n    return rootReducerMultiple(state, action);\n  }\n\n  return state;\n}\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from './reducers';\n\nexport default createStore(rootReducer, applyMiddleware(thunk));\n","import { stringifyObject } from './Converters';\n\nconst StorageType = {\n  DEVICEID: 'deviceId',\n  TOKEN: 'token',\n  USERID: 'userId',\n  ALIASID: 'aliasId',\n};\n\nconst setLocalValue = (name, value) => {\n  if (typeof value === 'string') {\n    localStorage.setItem(name, value);\n  } else {\n    localStorage.setItem(name, stringifyObject(value));\n  }\n};\n\nconst getLocalValue = (name) => localStorage.getItem(name);\n\nconst removeLocalValue = (name) => localStorage.removeItem(name);\n\nconst removeToken = () => removeLocalValue(StorageType.TOKEN);\n\nconst removeUserId = () => removeLocalValue(StorageType.USERID);\n\nexport const removeAliasId = () => removeLocalValue(StorageType.ALIASID);\n\nexport const resetUser = () => {\n  removeToken();\n  removeUserId();\n  removeAliasId();\n};\n\nexport const getDeviceId = () => getLocalValue(StorageType.DEVICEID);\n\nexport const setDeviceId = (value) => setLocalValue(StorageType.DEVICEID, value);\n\nexport const getToken = () => getLocalValue(StorageType.TOKEN);\n\nexport const setToken = (value) => setLocalValue(StorageType.TOKEN, value);\n\nexport const getUserId = () => getLocalValue(StorageType.USERID);\n\nexport const setUserId = (value) => setLocalValue(StorageType.USERID, value);\n\nexport const getAliasId = () => getLocalValue(StorageType.ALIASID);\n\nexport const setAliasId = (value) => setLocalValue(StorageType.ALIASID, value);\n","/**\n * Convert string representation to object\n * @param {string} value Value to be converted\n * @returns {Object|null} Converted object. null if the value was not set\n */\nexport const convertToObject = (value) => {\n  return value\n    ? JSON.parse(value)\n    : {};\n};\n\n/**\n * Convert string to boolean\n * @param {string} value Value to be converted\n * @returns {boolean|null} Converted boolean. null if the value was not a boolean\n */\nexport const convertToBoolean = (value) => {\n  if (value === 'true') {\n    return true;\n  }\n\n  if (value === 'false') {\n    return false;\n  }\n\n  return null;\n};\n\n/**\n * Convert string to int\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToInt = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseInt(value, 10);\n};\n\n/**\n * Convert string to float\n * @param {string} value Value to be converted\n * @returns {number|null} Converted number. null if the value was not a number\n */\nexport const convertToFloat = (value) => {\n  if (Number.isNaN(value)) {\n    return null;\n  }\n\n  return parseFloat(value);\n};\n\n/**\n * Stringifies object for JSON storageManager\n * @param {Object} value Object to stringify\n * @returns {string} Stringified object\n */\nexport const stringifyObject = (value) => {\n  return JSON.stringify(value);\n};\n","export const getMode = (state) => state.mode;\n","import { MODE } from '../actionTypes';\n\nexport const changeMode = ({ mode, target }) => ({\n  type: MODE,\n  payload: {\n    mode,\n    target,\n  },\n});\n\nexport const changeTarget = ({ target }) => ({\n  type: MODE,\n  payload: {\n    target,\n  },\n});\n","import { batch } from 'react-redux';\n\nimport { WINDOWORDER, WINDOWORDERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { getMode } from '../selectors/mode';\nimport store from '../store';\nimport { Modes } from '../reducers/mode';\nimport { changeTarget } from './mode';\n\nexport const changeWindowOrder = ({ windows }) => {\n  if (windows.length === 1) {\n    const [{ value, id }] = windows;\n\n    return (dispatch) => {\n      batch(() => {\n        if (getMode(store.getState()).mode === Modes.HELP) {\n          dispatch(changeTarget({ target: id }));\n        }\n\n        dispatch({\n          type: WINDOWORDER,\n          payload: {\n            id,\n            value,\n            changeType: ChangeTypes.UPDATE,\n          },\n        });\n      });\n    };\n  }\n\n  return {\n    type: WINDOWORDERS,\n    payload: {\n      windows,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const removeWindow = ({ id }) => ({\n  type: WINDOWORDER,\n  payload: {\n    id,\n    changeType: ChangeTypes.REMOVE,\n  },\n});\n","import { Status } from '../reducers/online';\n\nexport const isOnline = (state) => state.online === Status.ONLINE;\nexport const isReconnecting = (state) => state.online === Status.RECONNECTING;\n","import { batch } from 'react-redux';\n\nimport { CONFIG, ONLINE } from '../actionTypes';\nimport { Status } from '../reducers/online';\n\nexport const online = () => ({\n  type: ONLINE,\n  payload: { online: Status.ONLINE },\n});\n\nexport const offline = () => ({\n  type: ONLINE,\n  payload: { online: Status.OFFLINE },\n});\n\nexport const startup = (config) => (dispatch) => {\n  batch(() => {\n    dispatch({\n      type: CONFIG,\n      payload: {\n        entries: Object.entries(config),\n      },\n    });\n    dispatch(online());\n  });\n};\n","export const getAliasId = (state) => state.aliasId;\n","import { getAliasId } from './aliasId';\n\nexport const getUserId = (state) => state.userId;\n\nexport const getCurrentIdentityId = (state) => getAliasId(state) || getUserId(state);\n","import { WALLET, WALLETS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createWallets = ({ wallets }) => {\n  if (wallets.length === 1) {\n    return {\n      type: WALLET,\n      payload: {\n        wallet: wallets[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: WALLETS,\n    payload: {\n      wallets,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { TRANSACTION, TRANSACTIONS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { updateWallets } from './wallets';\n\nexport const updateTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createTransactions = ({ transactions }) => {\n  if (transactions.length === 1) {\n    return {\n      type: TRANSACTION,\n      payload: {\n        transaction: transactions[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: TRANSACTIONS,\n    payload: {\n      transactions,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const doTransaction = ({ transaction, wallet }) => (dispatch) => {\n  batch(() => {\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport { MESSAGE, MESSAGES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createTransactions } from './transactions';\nimport { updateWallets } from './wallets';\n\nexport const createMessages = ({ messages }) => {\n  if (messages.length === 1) {\n    return {\n      type: MESSAGE,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        message: messages[0],\n      },\n    };\n  }\n\n  return {\n    type: MESSAGES,\n    payload: {\n      messages,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewsMessage = ({ message, transaction, wallet }) => async (dispatch) => {\n  batch(() => {\n    dispatch(createMessages({ messages: [message] }));\n    dispatch(createTransactions({ transactions: [transaction] }));\n    dispatch(updateWallets({ wallets: [wallet] }));\n  });\n};\n","export const getAllAliases = (state) => state.aliases;\n\nexport const getAliasById = (state, { id }) => state.aliases.get(id);\n","export const getRequireOffName = (state) => state.config.get('requireOffName');\nexport const getPublicRoomId = (state) => state.config.get('publicRoomId');\nexport const getBroadcastId = (state) => state.config.get('broadcastId');\nexport const getAnonymousUser = (state) => state.config.get('anonymousUser');\nexport const getAllowedImages = (state) => state.config.get('allowedImages');\nexport const getGpsTracking = (state) => state.config.get('gpsTracking');\nexport const getPermissions = (state) => state.config.get('permissions');\nexport const getNewsRoomId = (state) => state.config.get('newsRoomId');\nexport const getNewsCost = (state) => state.config.get('newsCost');\nexport const getSystemUser = (state) => state.config.get('systemUser');\nexport const getOnlySeen = (state) => state.config.get('onlySeen');\nexport const getAllowPartialSearch = (state) => state.config.get('allowPartialSearch');\nexport const getYearModification = (state) => state.config.get('yearModification');\nexport const getDayModification = (state) => state.config.get('dayModification');\n","import createCachedSelector from 're-reselect';\n\nexport const getAllTeams = (state) => state.teams;\n\nexport const getTeamById = (state, { id }) => state.teams.get(id);\n\nexport const getTeamIdsNames = createCachedSelector(\n  [getAllTeams],\n  (teams) => [...teams.values()].map((team) => ({ objectId: team.objectId, teamName: team.teamName, shortName: team.shortName })),\n)(() => 'team-ids');\n\nexport const getTeamsByIds = createCachedSelector(\n  [\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (teams, ids) => {\n    const foundTeams = new Map();\n\n    ids.forEach((id) => foundTeams.set(id, teams.get(id)));\n\n    return foundTeams;\n  },\n)((_, { ids }) => `teams-${ids.join(ids)}`);\n","import { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport createCachedSelector from 're-reselect';\n\nimport { getAliasById, getAllAliases } from './aliases';\nimport { getUserId } from './userId';\nimport { getAnonymousUser } from './config';\nimport { getAllTeams, getTeamById } from './teams';\nimport { getDeviceId } from '../../StorageManager';\n\nexport const getAllUsers = (state) => state.users;\n\nexport const getUserById = (state, { id }) => state.users.get(id);\n\nexport const getCurrentUser = createCachedSelector(\n  [\n    (state) => getUserById(state, { id: getUserId(state) }),\n    getAnonymousUser,\n  ],\n  (user, anonymous) => user || anonymous,\n)(() => 'current-user');\n\nexport const getIsAnonymous = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.isAnonymous,\n)(() => 'is-anonymous');\n\nexport const getCurrentUserRooms = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.followingRooms,\n)({\n  keySelector: () => 'current-user-rooms',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.followingRooms.length === b.followingRooms.length && a.followingRooms.every((roomId) => b.followingRooms.includes(roomId)),\n  ),\n});\n\nexport const getCurrentAccessLevel = createSelector(\n  [getCurrentUser],\n  (user) => user.accessLevel,\n);\n\nexport const getCurrentHasSeen = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.hasSeen || [],\n)({\n  keySelector: () => 'current-user-hasSeen',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.hasSeen && b.hasSeen && a.hasSeen.length === b.hasSeen.length && a.hasSeen.every((seen) => b.hasSeen.includes(seen)),\n  ),\n});\n\nexport const getCurrentPartOfTeams = createCachedSelector(\n  [getCurrentUser],\n  (user) => user.partOfTeams,\n)({\n  keySelector: () => 'current-user-partOfTeams',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => {\n      if (a.partOfTeams.length !== b.partOfTeams.length) {\n        return false;\n      }\n\n      return b.partOfTeams.every((teamId) => a.partOfTeams.includes(teamId));\n    },\n  ),\n});\n\nexport const getSystemConfig = createCachedSelector(\n  [\n    getCurrentUser,\n    () => getDeviceId(),\n  ],\n  (user, deviceId) => (user.systemConfig\n    ? (user.systemConfig[deviceId] || user.systemConfig)\n    : {}),\n)(() => 'current-system-config');\n\nexport const getHideTopBar = createCachedSelector(\n  [getSystemConfig],\n  (systemConfig) => systemConfig.hideTopBar,\n)(() => 'current-hideTopBar');\n\nexport const getAlwaysMaximized = createCachedSelector(\n  [getSystemConfig],\n  (systemConfig) => systemConfig.alwaysMaximized,\n)(() => 'current-alwaysMaximized');\n\nexport const getIdentities = createCachedSelector(\n  [getAllUsers, getAllAliases],\n  (users, aliases) => new Map([...users.entries(), ...aliases.entries()]),\n)(() => 'identities');\n\nexport const getIdentitiesByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-${ids.join(' ')}`);\n\nexport const getIdentitiesOrTeamsByIds = createCachedSelector(\n  [\n    getAllUsers,\n    getAllAliases,\n    getAllTeams,\n    (_, { ids }) => ids,\n  ],\n  (users, aliases, teams, ids) => {\n    const map = new Map();\n\n    ids.forEach((id) => map.set(id, teams.get(id) || users.get(id) || aliases.get(id)));\n\n    return map;\n  },\n)((_, { ids }) => `identities-teams-${ids.join(' ')}`);\n\nexport const getIdentityById = createCachedSelector(\n  [getUserById, getAliasById],\n  (user, alias) => alias || user,\n)((_, { id }) => `identity-${id}`);\n\nexport const getIdentityName = createCachedSelector(\n  [getIdentityById],\n  ({ aliasName, username } = {}) => aliasName || username || '',\n)((_, { id }) => `identity-${id}-name`);\n\nexport const getIdentityOrTeamById = createSelector(\n  [getUserById, getAliasById, getTeamById],\n  (user, alias, team) => team || alias || user,\n);\n\nexport const getOtherIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => [...identities.values()]\n    .filter((identity) => identity.objectId !== userId && identity.ownerId !== userId && !identity.userIds.includes(userId))\n    .map((identity) => ({ objectId: identity.objectId, partOfTeams: identity.partOfTeams, name: identity.aliasName || identity.username })),\n)({\n  keySelector: () => 'other-identity-ids',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => {\n      if (typeof a === 'string' && typeof b === 'string') {\n        return a === b;\n      }\n\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return [...b.values()].every((identity) => {\n        const otherIdentity = a.get(identity.objectId);\n\n        if (!otherIdentity) {\n          return false;\n        }\n\n        if ((identity.aliasName || identity.username) !== (otherIdentity.aliasName || otherIdentity.username)) {\n          return false;\n        }\n\n        return identity.partOfTeams.length === otherIdentity.partOfTeams.length && identity.partOfTeams.every((teamId) => otherIdentity.partOfTeams.includes(teamId));\n      });\n    },\n  ),\n});\n\nexport const getCurrentUserIdentities = createCachedSelector(\n  [getIdentities, getUserId],\n  (identities, userId) => [...identities.values()]\n    .filter((identity) => identity.objectId === userId || identity.ownerId === userId || identity.userIds.includes(userId)),\n)(() => 'current-identities');\n\nexport const getCurrentUserIdentitiesNames = createCachedSelector(\n  [getCurrentUserIdentities],\n  (identities) => identities\n    .map((identity) => ({ objectId: identity.objectId, name: identity.aliasName || identity.username })),\n)({\n  keySelector: () => 'current-identities-names',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.length === b.length && b.every((identity) => {\n      const otherIdentity = a.find((aIdentity) => identity.objectId === aIdentity.objectId);\n\n      return otherIdentity && (otherIdentity.aliasName || otherIdentity.username) === (identity.aliasName || identity.username);\n    }),\n  ),\n});\n","import store from '../../redux/store';\nimport { createMessages } from '../../redux/actions/messages';\nimport { ChangeTypes } from '../../redux/reducers/root';\nimport { getCurrentUser, getIdentityById } from '../../redux/selectors/users';\nimport { updateUser } from '../actions/users';\n\nconst events = {\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\nexport const chatMessage = () => ({\n  event: events.MSGCHAT,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGCHAT, error, data);\n  },\n});\n\nexport const whisperMessage = () => ({\n  event: events.MSGWHISPER,\n  callback: ({ data, error }) => {\n    if (data && data.message) {\n      const { message, changeType } = data;\n      const { objectId: userId, hasSeen = [], partOfTeams } = getCurrentUser(store.getState());\n      const sender = getIdentityById(store.getState(), { id: message.ownerAliasId || message.ownerId });\n\n      if (!hasSeen.includes(message.ownerAliasId || message.ownerId) && !partOfTeams.some((teamId) => sender.partOfTeams.includes(teamId))) {\n        updateUser({\n          userId,\n          user: {\n            hasSeen: hasSeen.concat([message.ownerAliasId || message.ownerId]),\n          },\n        })\n          .catch((updateError) => console.log(updateError));\n      }\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createMessages({ messages: [message] }));\n      }\n\n      return;\n    }\n\n    console.log(events.MSGWHISPER, error, data);\n  },\n});\n","import { FORUM, FORUMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createForums = ({ forums }) => {\n  if (forums.length === 1) {\n    return {\n      type: FORUM,\n      payload: {\n        forum: forums[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: FORUMS,\n    payload: {\n      forums,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { GAMECODE, GAMECODES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createGameCodes = ({ gameCodes }) => {\n  if (gameCodes.length === 1) {\n    return {\n      type: GAMECODE,\n      payload: {\n        gameCode: gameCodes[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: GAMECODES,\n    payload: {\n      gameCodes,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { USER, USERS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\nimport { createForums } from './forums';\nimport { createGameCodes } from './gameCodes';\nimport store from '../store';\n\nexport const updateUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createUsers = ({ users }) => {\n  if (users.length === 1) {\n    return {\n      type: USER,\n      payload: {\n        user: users[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: USERS,\n    payload: {\n      users,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewUser = ({\n  user,\n  wallet,\n  room,\n  forum,\n  gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createUsers({ users: [user] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    dispatch(createForums({ forums: [forum] }));\n    dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport { ROOM, ROOMS } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n// eslint-disable-next-line import/no-cycle\nimport { updateUsers } from './users';\n\nexport const createRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.CREATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const updateRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.UPDATE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const removeRooms = ({ rooms }) => {\n  if (rooms.length === 1) {\n    return {\n      type: ROOM,\n      payload: {\n        changeType: ChangeTypes.REMOVE,\n        room: rooms[0],\n      },\n    };\n  }\n\n  return {\n    type: ROOMS,\n    payload: {\n      rooms,\n      changeType: ChangeTypes.REMOVE,\n    },\n  };\n};\n\nexport const followRoom = ({ room, user }) => (dispatch) => {\n  batch(() => {\n    dispatch(updateRooms({ rooms: [room] }));\n    dispatch(updateUsers({ users: [user] }));\n  });\n};\n","import { batch } from 'react-redux';\n\nimport store from '../../redux/store';\nimport { createRooms, removeRooms, updateRooms } from '../../redux/actions/rooms';\nimport { ChangeTypes } from '../../redux/reducers/root';\nimport { updateUsers } from '../../redux/actions/users';\nimport { getCurrentUser } from '../../redux/selectors/users';\nimport { hasAccessTo } from '../../AccessCentral';\n\nconst events = {\n  ROOM: 'room',\n  FOLLOWER: 'follower',\n  FOLLOW: 'followRoom',\n};\n\nexport const room = () => ({\n  event: events.ROOM,\n  callback: ({ error, data }) => {\n    if (data && data.room) {\n      const { room: sentRoom, changeType } = data;\n\n      if (sentRoom.isWhisper && sentRoom.spyMode) {\n        const currentUser = getCurrentUser(store.getState());\n\n        const { adminAccess } = hasAccessTo({\n          objectToAccess: sentRoom,\n          toAuth: currentUser,\n        });\n\n        if (!adminAccess) {\n          return;\n        }\n      }\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateRooms({ rooms: [sentRoom] }));\n      } else if (changeType === ChangeTypes.REMOVE) {\n        store.dispatch(removeRooms({ rooms: [sentRoom] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ROOM, error, data);\n  },\n});\n\nexport const follow = () => ({\n  event: events.FOLLOW,\n  callback: ({ error, data }) => {\n    if (data && data.room && data.user) {\n      store.dispatch(async (dispatch) => {\n        batch(() => {\n          dispatch(updateRooms({ rooms: [data.room] }));\n          dispatch(updateUsers({ users: [data.user] }));\n        });\n      });\n\n      return;\n    }\n\n    console.log(events.FOLLOW, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createUsers, updateUsers } from '../../redux/actions/users';\n\nconst events = {\n  USER: 'user',\n};\n\nexport const user = () => ({\n  event: events.USER,\n  callback: ({ error, data }) => {\n    if (data && data.user) {\n      const { user: sentUser, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createUsers({ users: [sentUser] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateUsers({ users: [sentUser] }));\n      }\n\n      return;\n    }\n\n    console.log(events.USER, error, data);\n  },\n});\n","import { ALIASID } from '../actionTypes';\nimport { removeAliasId, setAliasId } from '../../StorageManager';\n\nexport const changeAliasId = ({ aliasId }) => {\n  if (!aliasId) {\n    removeAliasId();\n\n    return {\n      type: ALIASID,\n      payload: { reset: true },\n    };\n  }\n\n  setAliasId(aliasId);\n\n  return {\n    type: ALIASID,\n    payload: {\n      aliasId,\n    },\n  };\n};\n","import { batch } from 'react-redux';\n\nimport { ALIAS, ALIASES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\nimport { createRooms } from './rooms';\nimport { createWallets } from './wallets';\n\nexport const updateAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createAliases = ({ aliases }) => {\n  if (aliases.length === 1) {\n    return {\n      type: ALIAS,\n      payload: {\n        alias: aliases[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: ALIASES,\n    payload: {\n      aliases,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n\nexport const createNewAlias = ({\n  alias,\n  wallet,\n  room,\n  // forum,\n  // gameCode,\n}) => async (dispatch) => {\n  batch(() => {\n    dispatch(createAliases({ aliases: [alias] }));\n    dispatch(createRooms({ rooms: [room] }));\n    dispatch(createWallets({ wallets: [wallet] }));\n    // dispatch(createForums({ forums: [forum] }));\n    // dispatch(createGameCodes({ gameCodes: [gameCode] }));\n  });\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createAliases, updateAliases } from '../../redux/actions/aliases';\n\nconst events = {\n  ALIAS: 'alias',\n};\n\nexport const alias = () => ({\n  event: events.ALIAS,\n  callback: ({ error, data }) => {\n    if (data && data.alias) {\n      const { alias: sentAlias, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createAliases({ aliases: [sentAlias] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateAliases({ aliases: [sentAlias] }));\n      }\n\n      return;\n    }\n\n    console.log(events.ALIAS, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createWallets, updateWallets } from '../../redux/actions/wallets';\n\nconst events = {\n  WALLET: 'wallet',\n};\n\nexport const wallet = () => ({\n  event: events.WALLET,\n  callback: ({ error, data }) => {\n    if (data && data.wallet) {\n      const { wallet: sentWallet, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createWallets({ wallets: [sentWallet] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateWallets({ wallets: [sentWallet] }));\n      }\n\n      return;\n    }\n\n    console.log(events.WALLET, error, data);\n  },\n});\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { doTransaction, updateTransactions } from '../../redux/actions/transactions';\n\nconst events = {\n  TRANSACTION: 'transaction',\n};\n\nexport const transaction = () => ({\n  event: events.TRANSACTION,\n  callback: ({ error, data }) => {\n    if (data && data.transaction && (data.changeType === ChangeTypes.UPDATE || data.wallet)) {\n      const { transaction: sentTransaction, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(doTransaction(data));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateTransactions({ transactions: [sentTransaction] }));\n      }\n\n      return;\n    }\n\n    console.log(events.TRANSACTION, error, data);\n  },\n});\n","import { DOCFILE, DOCFILES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createDocFiles = ({ docFiles }) => {\n  if (docFiles.length === 1) {\n    return {\n      type: DOCFILE,\n      payload: {\n        docFile: docFiles[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: DOCFILES,\n    payload: {\n      docFiles,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import { ChangeTypes } from '../../redux/reducers/root';\nimport store from '../../redux/store';\nimport { createDocFiles, updateDocFiles } from '../../redux/actions/docFiles';\n\nconst events = {\n  DOCFILE: 'docFile',\n};\n\nexport const docFile = () => ({\n  event: events.DOCFILE,\n  callback: ({ error, data }) => {\n    if (data && data.docFile) {\n      const { docFile: sentDocFile, changeType } = data;\n\n      if (changeType === ChangeTypes.CREATE) {\n        store.dispatch(createDocFiles({ docFiles: [sentDocFile] }));\n      } else if (changeType === ChangeTypes.UPDATE) {\n        store.dispatch(updateDocFiles({ docFiles: [sentDocFile] }));\n      }\n\n      return;\n    }\n\n    console.log(events.DOCFILE, error, data);\n  },\n});\n","import { batch } from 'react-redux';\n\nimport store from '../redux/store';\nimport { isOnline, isReconnecting } from '../redux/selectors/online';\nimport {\n  offline,\n  online,\n  startup,\n} from '../redux/actions/online';\nimport {\n  getDeviceId,\n  setDeviceId,\n  getToken as getStoredToken,\n  getUserId as getStoredUserId,\n  getAliasId as getStoredAliasId,\n} from '../StorageManager';\nimport {\n  logout as logoutAction,\n  login as loginAction,\n} from '../redux/actions/auth';\nimport { getUserId } from '../redux/selectors/userId';\nimport { chatMessage, whisperMessage } from './listeners/messages';\nimport { follow, room } from './listeners/rooms';\nimport { user } from './listeners/users';\nimport { changeAliasId } from '../redux/actions/aliasId';\nimport { alias } from './listeners/aliases';\nimport { wallet } from './listeners/wallets';\nimport { transaction } from './listeners/transactions';\nimport { docFile } from './listeners/docFiles';\nimport {\n  ALIASES, DEVICES,\n  DOCFILES, FORUMPOSTS,\n  FORUMS,\n  FORUMTHREADS, GAMECODES,\n  INVITATIONS,\n  MESSAGES,\n  ROOMS, SIMPLEMSGS,\n  TEAMS, TRANSACTIONS,\n  USERS, WALLETS,\n} from '../redux/actionTypes';\nimport { ChangeTypes } from '../redux/reducers/root';\nimport { createDevices } from '../redux/actions/devices';\n\nlet startupDone = false;\n\nconst socket = (() => {\n  let socketUri = typeof ioUri !== 'undefined' // eslint-disable-line no-undef\n    ? ioUri // eslint-disable-line no-undef\n    : '/';\n\n  if (process.env.NODE_ENV === 'development') {\n    socketUri = `${window.location.hostname}:8888`;\n  }\n\n  return window.io(socketUri, { forceNew: true });\n})();\n\nexport const SendEvents = {\n  ALIAS: 'createAlias',\n  USER: 'createUser',\n  MESSAGE: 'sendMessage',\n  ROOM: 'createRoom',\n  INVITATION: 'createInvitation',\n  DOCFILE: 'createDocFile',\n  FORUM: 'createForum',\n  FORUMPOST: 'createForumPost',\n  FORUMTHREAD: 'createForumThread',\n  GAMECODE: 'createGameCode',\n  SIMPLEMSG: 'sendSimpleMsg',\n  TEAM: 'createTeam',\n  TRANSACTION: 'createTransaction',\n  DEVICE: 'createDevice',\n  FOLLOW: 'followRoom',\n  GETMSGBYROOM: 'getMessagesByRoom',\n  REMOVEROOM: 'removeRoom',\n  UNLOCKDOCFILE: 'unlockDocFile',\n  UPDATEUSER: 'updateUser',\n};\n\nexport const GetEvents = {\n  ALIASES: 'getAliases',\n  USERS: 'getUsers',\n  MESSAGES: 'getMessages',\n  ROOMS: 'getRooms',\n  INVITATIONS: 'getInvitations',\n  DOCFILES: 'getDocFiles',\n  FORUMS: 'getForums',\n  FORUMPOSTS: 'getForumPosts',\n  FORUMTHREADS: 'getForumThreads',\n  GAMECODES: 'getGameCodes',\n  SIMPLEMSGS: 'getSimpleMsgs',\n  TEAMS: 'getTeams',\n  TRANSACTIONS: 'getTransactions',\n  WALLETS: 'getWallets',\n  DEVICES: 'getDevices',\n};\n\nexport const ActionEvents = {\n  LOGIN: 'login',\n};\n\nexport const ListenerEvents = {\n  RECONNECT: 'reconnect',\n  STARTUP: 'startup',\n  DISCONNECT: 'disconnect',\n  MSGCHAT: 'chatMsg',\n  MSGWHISPER: 'whisper',\n};\n\n// export const EmitTypes = {\n//   FORUM: 'forum',\n//   FORUMTHREAD: 'forumThread',\n//   FORUMPOST: 'forumPost',\n\n//   DEVICE: 'device',\n//   DOCFILE: 'docFile',\n\n//   BROADCAST: 'broadcast',\n//   GAMECODE: 'gameCode',\n//   ALIAS: 'alias',\n//   CREATEPOSITION: 'createPosition',\n//   POSITION: 'position',\n\n//   TEAM: 'team',\n//   INVITATION: 'invitation',\n//   TEAMMEMBER: 'team member',\n//   LOGOUT: 'logout',\n//   BAN: 'ban',\n//   WALLET: 'wallet',\n//   TRANSACTION: 'transaction',\n//   TEAMSCORING: 'teamScoring',\n//   TERMINATE: 'terminate',\n//   SENDMSG: 'sendMessage',\n//   UPDATEPOSITION: 'updatePosition',\n//   UPDATEPOSITIONCOORDINATES: 'updatePositionCoordinates',\n//   ,\n//   BANUSER: 'banUser',\n//   UNBANUSER: 'unbanUser',\n//   VERIFYUSER: 'verifyUser',\n//   CHANGEPASSWORD: 'changePassword',\n//\n//   UPDATEWALLET: 'updateWallet',\n//   UNFOLLOW: 'unfollowRoom',\n//   CREATETRANSACTION: 'createTransaction',\n//   INVITETEAM: 'inviteToTeam',\n//   LEAVETEAM: 'leaveTeam',\n//   SIMPLEMSG: 'simpleMsg',\n//   INVITEROOM: 'inviteToRoom',\n//   DECLINEINVITE: 'decline',\n//   ACCEPTTEAM: 'acceptTeamInvitation',\n//   ACCEPTROOM: 'acceptRoomInvitation',\n//   SENDROOMINVITE: 'sendInvitationToRoom',\n//   GETUSERBYCODE: 'getUserByCode',\n//   USEGAMECODE: 'useGameCode',\n//   CONNECTUSER: 'connectUser',\n// };\n\nexport const addSocketListener = async ({ event, callback }) => {\n  socket.on(event, (params) => { console.log(event, params); callback(params); });\n};\n\nexport const reconnect = () => {\n  if (!isReconnecting(store.getState())) {\n    socket.disconnect();\n    socket.connect();\n  }\n};\n\n/**\n * Emit event through socket.io.\n * @param {string} event Event to emit.\n * @param {Object} [params] Parameters to send in the emit.\n */\nexport const emitSocketEvent = async (event, params = {}) => new Promise((resolve, reject) => {\n  const paramsToSend = params;\n  paramsToSend.token = getStoredToken();\n\n  if (!isOnline(store.getState())) {\n    reconnect();\n  }\n\n  socket.emit(event, paramsToSend, ({ error, data }) => {\n    if (error) {\n      reject(error);\n    } else {\n      resolve(data);\n    }\n  });\n});\n\nexport const retrieveAll = async ({ reset } = {}) => {\n  [\n    { type: USERS, event: GetEvents.USERS },\n    { type: ALIASES, event: GetEvents.ALIASES },\n    { type: TEAMS, event: GetEvents.TEAMS },\n    { type: ROOMS, event: GetEvents.ROOMS },\n    { type: MESSAGES, event: GetEvents.MESSAGES },\n    { type: INVITATIONS, event: GetEvents.INVITATIONS },\n    { type: DOCFILES, event: GetEvents.DOCFILES },\n    { type: FORUMS, event: GetEvents.FORUMS },\n    { type: FORUMTHREADS, event: GetEvents.FORUMTHREADS },\n    { type: FORUMPOSTS, event: GetEvents.FORUMPOSTS },\n    { type: GAMECODES, event: GetEvents.GAMECODES },\n    { type: SIMPLEMSGS, event: GetEvents.SIMPLEMSGS },\n    { type: WALLETS, event: GetEvents.WALLETS },\n    { type: TRANSACTIONS, event: GetEvents.TRANSACTIONS },\n    { type: DEVICES, event: GetEvents.DEVICES },\n  ].forEach((getter) => {\n    const { event, type } = getter;\n\n    emitSocketEvent(event, {})\n      .then((result) => {\n        console.log(event, result);\n\n        store.dispatch({\n          type,\n          payload: {\n            reset,\n            changeType: ChangeTypes.CREATE,\n            [type]: result[type],\n          },\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  });\n};\n\naddSocketListener({\n  event: ListenerEvents.RECONNECT,\n  callback: () => {\n    if (getUserId(store.getState())) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          store.dispatch(online());\n          retrieveAll();\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction(retrieveAll));\n        });\n\n      return;\n    }\n\n    retrieveAll();\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.STARTUP,\n  callback: ({ data }) => {\n    const userId = getStoredUserId();\n    const token = getStoredToken();\n    const aliasId = getStoredAliasId();\n\n    if (!getDeviceId() || getDeviceId() === '1234567890123456') {\n      console.log(getDeviceId());\n      emitSocketEvent('createDevice', { device: {}, firstStartup: true })\n        .then(({ device }) => {\n          setDeviceId(device.objectId);\n          store.dispatch(createDevices({ devices: [device] }));\n        })\n        .catch((error) => console.log('device create', error));\n    }\n\n    store.dispatch(startup(data));\n\n    if (userId || token) {\n      emitSocketEvent('updateId', {})\n        .then(() => {\n          batch(() => {\n            if (aliasId) {\n              store.dispatch(changeAliasId({ aliasId }));\n            }\n\n            store.dispatch(loginAction({\n              userId,\n              token,\n              retrieveAll,\n            }));\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n          store.dispatch(logoutAction(retrieveAll));\n        });\n\n      return;\n    }\n\n    retrieveAll({ reset: true });\n  },\n});\n\naddSocketListener({\n  event: ListenerEvents.DISCONNECT,\n  callback: () => {\n    store.dispatch(offline());\n\n    reconnect();\n  },\n});\n\n// Messages\naddSocketListener(chatMessage());\naddSocketListener(whisperMessage());\n\n// Rooms\naddSocketListener(room());\naddSocketListener(follow());\n\n// User\naddSocketListener(user());\n\n// Aliases\naddSocketListener(alias());\n\n// Wallets\naddSocketListener(wallet());\n\n// Transactions\naddSocketListener(transaction());\n\n// DocFiles\naddSocketListener(docFile());\n","import { DEVICE, DEVICES } from '../actionTypes';\nimport { ChangeTypes } from '../reducers/root';\n\nexport const updateDevices = ({ devices }) => {\n  if (devices.length === 1) {\n    return {\n      type: DEVICE,\n      payload: {\n        device: devices[0],\n        changeType: ChangeTypes.UPDATE,\n      },\n    };\n  }\n\n  return {\n    type: DEVICES,\n    payload: {\n      devices,\n      changeType: ChangeTypes.UPDATE,\n    },\n  };\n};\n\nexport const createDevices = ({ devices }) => {\n  if (devices.length === 1) {\n    return {\n      type: DEVICE,\n      payload: {\n        device: devices[0],\n        changeType: ChangeTypes.CREATE,\n      },\n    };\n  }\n\n  return {\n    type: DEVICES,\n    payload: {\n      devices,\n      changeType: ChangeTypes.CREATE,\n    },\n  };\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport { getDeviceId } from '../../StorageManager';\nimport store from '../../redux/store';\nimport { createNewUser, updateUsers } from '../../redux/actions/users';\n\nexport const createUser = async (params) => {\n  const paramsToSend = params;\n  paramsToSend.user.registerDevice = getDeviceId();\n\n  const result = await emitSocketEvent(SendEvents.USER, paramsToSend);\n\n  await store.dispatch(createNewUser(result));\n\n  return result;\n};\n\nexport const updateUser = async ({ userId, user }) => {\n  const result = await emitSocketEvent(SendEvents.UPDATEUSER, { userId, user });\n\n  await store.dispatch(updateUsers({ users: [result.user] }));\n\n  return result;\n};\n","import store from './redux/store';\nimport { changeWindowOrder } from './redux/actions/windowOrder';\nimport { updateUser } from './socket/actions/users';\nimport { getCurrentUser } from './redux/selectors/users';\n\nexport const MessageTypes = {\n  NOTIFICATION: 'notification',\n  WINDOW: 'window',\n  PUSHTOKEN: 'pushToken',\n  MESSAGE: 'message',\n  LOGIN: 'login',\n  LOGOUT: 'logout',\n};\n\nexport const postMessage = ({ type, data }) => {\n  if (window.ReactNativeWebView && window.ReactNativeWebView.postMessage) {\n    window.ReactNativeWebView.postMessage(JSON.stringify({ type, data }));\n  }\n};\n\nconst onNotification = (data) => {\n  alert(JSON.stringify(data));\n};\n\nconst onWindow = ({ windowType, value }) => {\n  store.dispatch(changeWindowOrder({ windows: [{ id: windowType, value: { ...value, type: windowType } }] }));\n};\n\nconst onPushToken = ({ token }) => {\n  const currentUser = getCurrentUser(store.getState());\n\n  if (!currentUser.isAnonymous) {\n    updateUser({\n      userId: currentUser.objectId,\n      user: { pushToken: token },\n    })\n      .catch((error) => console.log(error));\n  }\n};\n\nconst onMessage = ({ message }) => {\n  alert(JSON.stringify(message));\n};\n\nconst onMessageListener = (event) => {\n  if (event.data) {\n    const { type, data } = JSON.parse(event.data);\n\n    switch (type) {\n      case MessageTypes.NOTIFICATION: {\n        onNotification(data);\n\n        break;\n      }\n      case MessageTypes.WINDOW: {\n        onWindow(data);\n\n        break;\n      }\n      case MessageTypes.PUSHTOKEN: {\n        onPushToken(data);\n\n        break;\n      }\n      case MessageTypes.MESSAGE: {\n        onMessage(data);\n\n        break;\n      }\n      default: {\n        console.log('Unknown message', event.nativeEvent.data);\n\n        break;\n      }\n    }\n  }\n};\n\nif (window.ReactNativeWebView) {\n  window.addEventListener('message', onMessageListener);\n\n  document.addEventListener('message', onMessageListener);\n}\n","import { batch } from 'react-redux';\n\nimport { ALIASID, USERID } from '../actionTypes';\nimport { resetUser, setToken, setUserId } from '../../StorageManager';\nimport { postMessage, MessageTypes } from '../../Messenger';\n\nexport const login = ({ userId, token, retrieveAll }) => {\n  setToken(token);\n  setUserId(userId);\n\n  retrieveAll({ reset: true });\n\n  postMessage({ type: MessageTypes.LOGIN, data: { userId } });\n\n  return {\n    type: USERID,\n    payload: { userId },\n  };\n};\n\nexport const logout = (retrieveAll) => {\n  resetUser();\n\n  retrieveAll({ reset: true });\n\n  return (dispatch) => {\n    batch(() => {\n      dispatch({\n        type: USERID,\n        payload: { reset: true },\n      });\n\n      dispatch({\n        type: ALIASID,\n        payload: { reset: true },\n      });\n    });\n  };\n};\n","import store from '../../redux/store';\nimport { login as loginAction, logout as logoutAction } from '../../redux/actions/auth';\nimport { ActionEvents, emitSocketEvent, retrieveAll } from '../SocketManager';\n\nexport const login = async (username, password) => {\n  const result = await emitSocketEvent(ActionEvents.LOGIN, { user: { username, password } });\n\n  const { user, token } = result;\n\n  store.dispatch(loginAction({ userId: user.objectId, token, retrieveAll }));\n\n  return result;\n};\n\nexport const logout = async () => {\n  store.dispatch(logoutAction(retrieveAll));\n};\n","import React, { useLayoutEffect, useRef } from 'react';\nimport {\n  bool,\n  func,\n  node,\n  string,\n} from 'prop-types';\n\nimport './ListItem.scss';\n\nconst ListItem = React.forwardRef(({\n  children,\n  onClick,\n  elementId,\n  scrollTo,\n  stopPropagation = false,\n  className = '',\n}, ref) => {\n  const itemRef = useRef(null);\n\n  useLayoutEffect(() => {\n    if (scrollTo && itemRef.current) {\n      itemRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n      setTimeout(() => itemRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 300);\n    }\n  }, [scrollTo]);\n\n  return (\n    <li\n      ref={(element) => {\n        if (ref) {\n          // eslint-disable-next-line no-param-reassign\n          ref.current = element;\n        }\n\n        itemRef.current = element;\n      }}\n      id={elementId}\n      className={`ListItem ${onClick ? 'clickable' : ''} ${className}`}\n      onClick={(event) => {\n        if (onClick) {\n          onClick(event);\n        }\n\n        if (event.target.parentElement.tagName === 'UL') {\n          event.target.parentElement.click();\n        }\n\n        if (stopPropagation) {\n          event.stopPropagation();\n        }\n      }}\n    >\n      {children}\n    </li>\n  );\n});\n\nexport default React.memo(ListItem);\n\nListItem.propTypes = {\n  children: node,\n  onClick: func,\n  className: string,\n  stopPropagation: bool,\n  elementId: string,\n  scrollTo: bool,\n};\n\nListItem.defaultProps = {\n  onClick: undefined,\n  className: '',\n  stopPropagation: false,\n  elementId: undefined,\n  children: undefined,\n  scrollTo: false,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 12,\n  x2: 21,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 6,\n  x2: 21,\n  y2: 6\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 18,\n  x2: 21,\n  y2: 18\n});\n\nvar SvgMenu = function SvgMenu(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-menu\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMenu, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/menu.74354d60.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../common/lists/List/List';\nimport { AccessLevels } from '../../../AccessCentral';\nimport { logout } from '../../../socket/actions/auth';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport { ReactComponent as Menu } from '../../../icons/menu.svg';\nimport store from '../../../redux/store';\nimport { changeWindowOrder } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getPermissions } from '../../../redux/selectors/config';\n\nconst MainList = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const permissions = useSelector(getPermissions);\n  const items = [];\n\n  if (accessLevel === permissions.CreateUser.accessLevel) {\n    items.push(\n      <ListItem\n        key=\"register\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREGISTER, value: { type: WindowTypes.DIALOGREGISTER } }] }))}\n      >\n        Create user\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel === AccessLevels.ANONYMOUS) {\n    items.push(\n      <ListItem\n        key=\"login\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGLOGIN, value: { type: WindowTypes.DIALOGLOGIN } }] }))}\n      >\n        Login\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= permissions.CreateAlias.accessLevel) {\n    items.push(\n      <ListItem\n        key=\"alias\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEALIAS, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }))}\n      >\n        Create alias\n      </ListItem>,\n    );\n  }\n\n  if (accessLevel >= AccessLevels.STANDARD) {\n    items.push(\n      <ListItem\n        key=\"settings\"\n        onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCONFIGSYSTEM, value: { type: WindowTypes.DIALOGCONFIGSYSTEM } }] }))}\n      >\n        Settings\n      </ListItem>,\n    );\n    items.push(\n      <ListItem\n        key=\"logout\"\n        onClick={() => {\n          logout();\n        }}\n      >\n        Logout\n      </ListItem>,\n    );\n  }\n\n  return (\n    <List\n      dropdown\n      className=\"MainList\"\n      title={<Menu />}\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(MainList);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n});\n\nvar SvgChat = function SvgChat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-message-square\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chat.20a18654.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 8,\n  y1: 2,\n  x2: 8,\n  y2: 18\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 6,\n  x2: 16,\n  y2: 22\n});\n\nvar SvgMap = function SvgMap(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMap, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/map.5a12a8a8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 1,\n  y: 4,\n  width: 22,\n  height: 16,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 1,\n  y1: 10,\n  x2: 23,\n  y2: 10\n});\n\nvar SvgWallet = function SvgWallet(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-credit-card\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgWallet, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/wallet.2f800c77.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"14 2 14 8 20 8\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 13,\n  x2: 8,\n  y2: 13\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 16,\n  y1: 17,\n  x2: 8,\n  y2: 17\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"10 9 9 9 8 9\"\n});\n\nvar SvgFile = function SvgFile(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-text\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFile, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/file.621ca6ea.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 11a9 9 0 0 1 9 9\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 4a16 16 0 0 1 16 16\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5,\n  cy: 19,\n  r: 1\n});\n\nvar SvgNews = function SvgNews(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-rss\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNews, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/news.1ff917ca.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"12 2 2 7 12 12 22 7 12 2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"2 17 12 22 22 17\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"2 12 12 17 22 12\"\n});\n\nvar SvgLayers = function SvgLayers(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-layers\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLayers, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/layers.62219707.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 3,\n  width: 7,\n  height: 7\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 14,\n  y: 3,\n  width: 7,\n  height: 7\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 14,\n  y: 14,\n  width: 7,\n  height: 7\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 14,\n  width: 7,\n  height: 7\n});\n\nvar SvgGrid = function SvgGrid(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-grid\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGrid, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/grid.c83c9593.svg\";\nexport { ForwardRef as ReactComponent };","export const getOrder = (state) => state.windowOrder;\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../AccessCentral';\n\nimport { ReactComponent as Chat } from '../../../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../../../icons/map.svg';\nimport { ReactComponent as Wallet } from '../../../../icons/wallet.svg';\nimport { ReactComponent as File } from '../../../../icons/file.svg';\nimport { ReactComponent as News } from '../../../../icons/news.svg';\nimport { ReactComponent as Layers } from '../../../../icons/layers.svg';\nimport { ReactComponent as Grid } from '../../../../icons/grid.svg';\nimport { getOrder } from '../../../../redux/selectors/windowOrder';\n\nimport './OpenApps.scss';\n\nconst OpenApps = () => {\n  const order = useSelector(getOrder);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const otherWindows = [];\n\n  const changeOrder = useCallback(({ id, value }) => store.dispatch(changeWindowOrder({ windows: [{ id, value }] })), []);\n\n  order.forEach((value, key) => {\n    if (![WindowTypes.CHAT, WindowTypes.NEWS, WindowTypes.DOCFILE, WindowTypes.WORLDMAP, WindowTypes.WALLET].includes(key)) {\n      otherWindows.push(\n        <ListItem key={key}>\n          <Button\n            onClick={() => changeOrder({ id: key, value })}\n          >\n            {key}\n          </Button>\n        </ListItem>,\n      );\n    }\n  });\n\n  return (\n    <div className=\"OpenApps\">\n      <List dropdown className=\"apps\" title={<Grid />}>\n        <ListItem key=\"chat\">\n          <Button\n            key=\"chat\"\n            className={`${order.get(WindowTypes.CHAT) && order.get(WindowTypes.CHAT).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } })}\n          >\n            <Chat />\n          </Button>\n          <span>Chat</span>\n        </ListItem>\n        <ListItem key=\"news\">\n          <Button\n            key=\"news\"\n            className={`${order.get(WindowTypes.NEWS) && order.get(WindowTypes.NEWS).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS } })}\n          >\n            <News />\n          </Button>\n          <span>News</span>\n        </ListItem>\n        <ListItem key=\"docFile\">\n          <Button\n            key=\"docFile\"\n            className={`${order.get(WindowTypes.DOCFILE) && order.get(WindowTypes.DOCFILE).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.DOCFILE, value: { type: WindowTypes.DOCFILE } })}\n          >\n            <File />\n          </Button>\n          <span>Files</span>\n        </ListItem>\n        <ListItem key=\"worldMap\">\n          <Button\n            key=\"worldMap\"\n            className={`${order.get(WindowTypes.WORLDMAP) && order.get(WindowTypes.WORLDMAP).index === order.size ? 'active' : ''}`}\n            onClick={() => changeOrder({ id: WindowTypes.WORLDMAP, value: { type: WindowTypes.WORLDMAP } })}\n          >\n            <Map />\n          </Button>\n          <span>Map</span>\n        </ListItem>\n        {accessLevel >= AccessLevels.STANDARD && (\n          <ListItem key=\"wallet\">\n            <Button\n              key=\"wallet\"\n              className={`${order.get(WindowTypes.WALLET) && order.get(WindowTypes.WALLET).index === order.size ? 'active' : ''}`}\n              onClick={() => changeOrder({ id: WindowTypes.WALLET, value: { type: WindowTypes.WALLET } })}\n            >\n              <Wallet />\n            </Button>\n            <span>Wallet</span>\n          </ListItem>\n        )}\n      </List>\n      {otherWindows.length > 0 && (\n        <List\n          dropdown\n          className=\"otherWindows\"\n          title={<Layers />}\n        >\n          {otherWindows}\n        </List>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(OpenApps);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 10\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 17,\n  x2: 12.01,\n  y2: 17\n});\n\nvar SvgHelp = function SvgHelp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-help-circle\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHelp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/help.fdcad0d2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"15 18 9 12 15 6\"\n});\n\nvar SvgChevronLeft = function SvgChevronLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-left\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-left.cf72922c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"9 18 15 12 9 6\"\n});\n\nvar SvgChevronRight = function SvgChevronRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-right.600403ff.svg\";\nexport { ForwardRef as ReactComponent };","export const getInterfaceConfig = (state) => state.interfaceConfig;\n\nexport const getHideMenu = (state) => state.interfaceConfig.hideMenu;\n","import { INTERFACECONFIG } from '../actionTypes';\n\nexport const changeInterfaceConfig = ({ hideMenu, toggleHideMenu }) => ({\n  type: INTERFACECONFIG,\n  payload: {\n    hideMenu,\n    toggleHideMenu,\n  },\n});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 7,\n  r: 4\n});\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-user\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user.1a85769b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { bool } from 'prop-types';\n\nimport { getCurrentUserIdentitiesNames } from '../../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../../redux/selectors/userId';\nimport List from '../List/List';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeAliasId } from '../../../../redux/actions/aliasId';\nimport { ReactComponent as User } from '../../../../icons/user.svg';\nimport { getAliasById } from '../../../../redux/selectors/aliases';\n\nimport './IdentityPicker.scss';\n\nconst IdentityPicker = ({ useIcon = false }) => {\n  const identities = useSelector(getCurrentUserIdentitiesNames);\n  const identityId = useSelector(getCurrentIdentityId);\n  const currentIdentity = identities.find((identity) => identity.objectId === identityId);\n\n  const items = (() => {\n    const filtered = useIcon ? identities : identities.filter((identity) => identity.objectId !== identityId);\n\n    return filtered.map((identity) => (\n      <ListItem\n        className={identity.objectId === identityId ? 'selected' : ''}\n        key={identity.objectId}\n        onClick={() => store.dispatch(changeAliasId({ aliasId: getAliasById(store.getState(), { id: identity.objectId }) ? identity.objectId : undefined }))}\n      >\n        {identity.name}\n      </ListItem>\n    ));\n  })();\n\n  const title = currentIdentity ? currentIdentity.name : '---';\n\n  return (\n    <List\n      dropdown\n      className=\"IdentityPicker\"\n      title={useIcon\n        ? <User />\n        : (\n          <>\n            <User />\n            <span>{title}</span>\n          </>\n        )}\n    >\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(IdentityPicker);\n\nIdentityPicker.propTypes = {\n  useIcon: bool,\n};\n\nIdentityPicker.defaultProps = {\n  useIcon: undefined,\n};\n","import React, { useCallback, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Clock from './sub-components/Clock/Clock';\nimport MainList from './lists/MainList';\nimport { isOnline } from '../../redux/selectors/online';\nimport OpenApps from './lists/OpenApps/OpenApps';\nimport Button from '../common/sub-components/Button/Button';\nimport { ReactComponent as Help } from '../../icons/help.svg';\nimport store from '../../redux/store';\nimport { changeMode, changeTarget } from '../../redux/actions/mode';\nimport { Modes } from '../../redux/reducers/mode';\nimport { getMode } from '../../redux/selectors/mode';\nimport { ReactComponent as Menu } from '../../icons/menu.svg';\nimport { ReactComponent as Wallet } from '../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../icons/chat.svg';\nimport { ReactComponent as Map } from '../../icons/map.svg';\nimport { ReactComponent as News } from '../../icons/news.svg';\nimport { ReactComponent as File } from '../../icons/file.svg';\nimport { ReactComponent as Layers } from '../../icons/layers.svg';\nimport { ReactComponent as ClockIcon } from '../../icons/clock.svg';\nimport { ReactComponent as ChevronLeft } from '../../icons/chevron-left.svg';\nimport { ReactComponent as ChevronRight } from '../../icons/chevron-right.svg';\nimport { ReactComponent as Grid } from '../../icons/grid.svg';\nimport { getCurrentAccessLevel, getSystemConfig } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\nimport { getHideMenu } from '../../redux/selectors/interfaceConfig';\nimport { reconnect } from '../../socket/SocketManager';\n\nimport './MenuBar.scss';\nimport { changeInterfaceConfig } from '../../redux/actions/interfaceConfig';\nimport IdentityPicker from '../common/lists/IdentityPicker/IdentityPicker';\n\nconst componentId = 'MenuBar';\n\nconst MenuBar = () => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const systemConfig = useSelector(getSystemConfig);\n  const hideMenu = useSelector(getHideMenu);\n  const mode = useSelector(getMode);\n  const online = useSelector(isOnline);\n  const classes = [];\n\n  if (!online) {\n    classes.push('warning');\n  }\n\n  useEffect(() => {\n    if (systemConfig.hideMenuBar) {\n      store.dispatch(changeInterfaceConfig({ hideMenu: true }));\n    } else {\n      store.dispatch(changeInterfaceConfig({ hideMenu: false }));\n    }\n  }, [systemConfig.hideMenuBar]);\n\n  const onHelp = useCallback(() => store.dispatch(changeMode({ mode: Modes.HELP, target: componentId })), []);\n\n  return (\n    <>\n      {\n        hideMenu\n          ? (\n            <div className=\"miniMenu\">\n              <Button\n                type=\"button\"\n                onClick={() => store.dispatch(changeInterfaceConfig({ toggleHideMenu: true }))}\n              >\n                <ChevronLeft />\n              </Button>\n            </div>\n          )\n          : (\n            <>\n              <div\n                key={componentId}\n                onClick={() => {\n                  if (!online) {\n                    reconnect();\n                  }\n\n                  if (mode.mode === Modes.HELP) {\n                    store.dispatch(changeTarget({ target: componentId }));\n                  }\n                }}\n                className={`${componentId} ${classes.join(' ')}`}\n                id={componentId}\n              >\n                <MainList key=\"mainList\" />\n                <OpenApps key=\"openApps\" />\n                <div className=\"rightAligned\">\n                  {!systemConfig.hideHelp && (\n                    <Button\n                      type=\"button\"\n                      className={`helpButton ${mode.mode === Modes.HELP && mode.target === componentId ? 'active' : ''}`}\n                      onClick={onHelp}\n                    >\n                      <Help />\n                    </Button>\n                  )}\n                  {accessLevel >= AccessLevels.STANDARD && (\n                    <IdentityPicker />\n                  )}\n                  <Clock />\n                </div>\n                {mode.mode === Modes.HELP && mode.target === componentId && (\n                  <div className=\"helpOverlay\">\n                    <ul>\n                      <li>\n                        <p>Overview of the app, that has everything from chat and news feed to digital currency and map.</p>\n                        <p>{'Don\\'t be afraid to experiment! You won\\'t break the system.'}</p>\n                        <p>\n                          {'There is a '}\n                          <Help />\n                          {' button in each app. The scroll is usually hidden, but you can still scroll (like in this pop-up!). Apps and menu:'}\n                        </p>\n                      </li>\n                      <li>\n                        <Grid />\n                        <span>APPS Shows all apps.</span>\n                      </li>\n                      <li>\n                        <Chat />\n                        <span>CHAT Read and send messages. You have access to read Public without logging in.</span>\n                      </li>\n                      <li>\n                        <News />\n                        <span>NEWS Read the latest news. You need access to be able to create news.</span>\n                      </li>\n                      <li>\n                        <File />\n                        <span>FILES Read and create documents. You have access to read documents without logging in.</span>\n                      </li>\n                      <li>\n                        <Map />\n                        <span>MAP See the local, world map, track users and add new locations.</span>\n                      </li>\n                      <li>\n                        <Wallet />\n                        <span>WALLET Send and receive currency. You need to login to access your wallet.</span>\n                      </li>\n                      <li>\n                        <Menu />\n                        <span>MENU You can create a user, login, check your info, change settings and more here.</span>\n                      </li>\n                      <li>\n                        <Layers />\n                        <span>WINDOWS Other windows you have open (like dialog windows) will be listed here.</span>\n                      </li>\n                      <li>\n                        <ClockIcon />\n                        <span>TIME Click it to reveal the current time.</span>\n                      </li>\n                    </ul>\n                  </div>\n                )}\n              </div>\n              {accessLevel >= AccessLevels.STANDARD && (\n                <div className={`miniMenu minimize ${systemConfig.hideMenuBar ? 'hideOn' : ''}`}>\n                  <Button\n                    type=\"button\"\n                    onClick={() => store.dispatch(changeInterfaceConfig({ toggleHideMenu: true }))}\n                  >\n                    <ChevronRight />\n                  </Button>\n                </div>\n              )}\n            </>\n          )\n      }\n    </>\n  );\n};\n\nexport default React.memo(MenuBar);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"15 3 21 3 21 9\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"9 21 3 21 3 15\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 21,\n  y1: 3,\n  x2: 14,\n  y2: 10\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 21,\n  x2: 10,\n  y2: 14\n});\n\nvar SvgMaximize = function SvgMaximize(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-maximize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMaximize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/maximize.392be9ed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"4 14 10 14 10 20\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"20 10 14 10 14 4\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 14,\n  y1: 10,\n  x2: 21,\n  y2: 3\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 3,\n  y1: 21,\n  x2: 10,\n  y2: 14\n});\n\nvar SvgMinimize = function SvgMinimize(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-minimize-2\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMinimize, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/minimize.ddbf3bc5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 18,\n  y1: 6,\n  x2: 6,\n  y2: 18\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 6,\n  y1: 6,\n  x2: 18,\n  y2: 18\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-x\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.f8019df0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 3\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"\n});\n\nvar SvgSettings = function SvgSettings(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-settings\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSettings, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/settings.2943c33c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport {\n  bool,\n  func,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { ReactComponent as Minimize } from '../../../../icons/minimize.svg';\nimport { ReactComponent as Close } from '../../../../icons/close.svg';\nimport { ReactComponent as Settings } from '../../../../icons/settings.svg';\nimport { ReactComponent as Help } from '../../../../icons/help.svg';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { changeMode, changeTarget } from '../../../../redux/actions/mode';\nimport { Modes } from '../../../../redux/reducers/mode';\nimport { getCurrentAccessLevel, getSystemConfig } from '../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { getMode } from '../../../../redux/selectors/mode';\n\nimport './TopBar.scss';\n\nconst TopBar = ({\n  onDoubleClick,\n  title,\n  done,\n  id,\n  onSettings,\n  maximized,\n}) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const systemConfig = useSelector(getSystemConfig);\n  const mode = useSelector(getMode);\n\n  const onHelp = useCallback(() => {\n    if (mode.mode === Modes.HELP && mode.target !== id) {\n      store.dispatch(changeTarget({ target: id }));\n    } else {\n      store.dispatch(changeMode({ mode: Modes.HELP, target: id }));\n    }\n  }, [mode, id]);\n\n  return (\n    <div\n      onDoubleClick={onDoubleClick}\n      className=\"TopBar\"\n    >\n      <div className=\"TopBarHandle\">\n        <span className=\"title\">{title}</span>\n      </div>\n      <div className=\"buttons\">\n        {!systemConfig.hideHelp && (\n          <Button\n            stopPropagation\n            key=\"help\"\n            className={`help ${mode.mode === Modes.HELP && mode.target === id ? 'active' : ''}`}\n            type=\"button\"\n            onClick={onHelp}\n          >\n            <Help />\n          </Button>\n        )}\n        {accessLevel >= AccessLevels.STANDARD && onSettings && (\n          <Button key=\"settings\" className=\"settings\" stopPropagation type=\"button\" onClick={onSettings}><Settings /></Button>\n        )}\n        {!systemConfig.alwaysMaximized && (\n          <Button type=\"button\" onClick={onDoubleClick}>\n            {\n              maximized\n                ? <Minimize />\n                : <Maximize />\n            }\n          </Button>\n        )}\n        <Button className=\"close\" stopPropagation type=\"button\" onClick={done}><Close /></Button>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(TopBar);\n\nTopBar.propTypes = {\n  done: func.isRequired,\n  title: string.isRequired,\n  onDoubleClick: func.isRequired,\n  id: string.isRequired,\n  onSettings: func,\n  maximized: bool,\n};\n\nTopBar.defaultProps = {\n  onSettings: undefined,\n  maximized: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { node, string } from 'prop-types';\n\nimport { Modes } from '../../../../redux/reducers/mode';\nimport { getMode } from '../../../../redux/selectors/mode';\n\nconst Help = ({ id, children }) => {\n  const mode = useSelector(getMode);\n\n  return (\n    <>\n      {mode.mode === Modes.HELP && mode.target === id && (\n        <div className=\"helpOverlay\">\n          {children}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default React.memo(Help);\n\nHelp.propTypes = {\n  id: string.isRequired,\n  children: node.isRequired,\n};\n","import React, {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { Rnd } from 'react-rnd';\nimport {\n  func,\n  string,\n  node, number,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport TopBar from './TopBar/TopBar';\nimport { getAlwaysMaximized, getHideTopBar } from '../../../redux/selectors/users';\nimport Help from '../sub-components/Help/Help';\n\nimport './Window.scss';\n\nconst Window = ({\n  onClick,\n  children,\n  menu,\n  done,\n  index,\n  id,\n  onSettings,\n  help,\n  type = 'window',\n  title = 'app',\n  className = '',\n}) => {\n  const rndRef = useRef();\n  const hideTopBar = useSelector(getHideTopBar);\n  const alwaysMaximized = useSelector(getAlwaysMaximized);\n  const defaultSize = type === 'window' ? { width: 380, height: 340 } : { width: 380, height: 340 };\n  const [size, setSize] = useState(defaultSize);\n  const [coordinates, setCoordinates] = useState({ x: 0, y: 0 });\n  const resizing = {\n    right: true,\n    bottom: true,\n    left: true,\n    bottomRight: true,\n    bottomLeft: true,\n  };\n  const style = { zIndex: index };\n\n  const maximize = useCallback(() => {\n    setCoordinates({ x: 0, y: 0 });\n    setSize({ width: '100%', height: '100%' });\n  }, []);\n\n  const onDoubleClick = useCallback(() => {\n    if (size.width === '100%' && size.height === '100%') {\n      setSize(defaultSize);\n    } else {\n      maximize();\n    }\n  }, [size, coordinates]);\n\n  useEffect(() => {\n    if (hideTopBar || alwaysMaximized) {\n      maximize();\n    }\n  }, [hideTopBar, alwaysMaximized]);\n\n  useEffect(() => {\n    const onOrientationChange = (event) => {\n      const windowStyle = rndRef.current.resizableElement.current.style;\n      const rndBounds = rndRef.current.resizableElement.current.getBoundingClientRect();\n      const mainBounds = rndRef.current.resizableElement.current.parentElement.getBoundingClientRect();\n      const orientation = event.target.screen.orientation ? event.target.screen.orientation.angle : event.target.orientation;\n\n      if (windowStyle.width === '100%' && windowStyle.height === '100%') {\n        return;\n      }\n\n      if (orientation === 0) {\n        if (rndBounds.left + 10 > mainBounds.width / 2) {\n          if (mainBounds.height > mainBounds.width) {\n            setCoordinates({ x: 0, y: mainBounds.height / 2 });\n          } else {\n            setCoordinates({ x: 0, y: (mainBounds.width - 36) / 2 });\n          }\n        } else {\n          setCoordinates({ y: 0, x: 0 });\n        }\n\n        setSize({ width: '100%', height: '50%' });\n      } else {\n        if (rndBounds.top + 10 > mainBounds.height / 2) {\n          if (mainBounds.width > mainBounds.height) {\n            setCoordinates({ y: 0, x: mainBounds.width / 2 });\n          } else {\n            setCoordinates({ y: 0, x: (mainBounds.height + 36) / 2 });\n          }\n        } else {\n          setCoordinates({ y: 0, x: 0 });\n        }\n\n        setSize({ width: '50%', height: '100%' });\n      }\n    };\n\n    window.addEventListener('orientationchange', onOrientationChange);\n\n    return () => window.removeEventListener('orientationchange', onOrientationChange);\n  }, []);\n\n  return (\n    <Rnd\n      ref={rndRef}\n      style={style}\n      onClick={onClick}\n      position={coordinates}\n      className=\"rnd\"\n      size={size}\n      minWidth={260}\n      minHeight={220}\n      maxWidth=\"100%\"\n      maxHeight=\"calc(100%)\"\n      bounds=\"#MainWindow\"\n      dragHandleClassName=\"TopBarHandle\"\n      enableResizing={resizing}\n      resizeHandleStyles={{\n        left: { left: 0, width: '10px' },\n        right: { right: 0, width: '10px' },\n        bottom: { bottom: 0, height: '5px' },\n        bottomLeft: {\n          bottom: 0,\n          left: 0,\n          width: '20px',\n          height: '15px',\n        },\n        bottomRight: {\n          bottom: 0,\n          right: 0,\n          width: '20px',\n          height: '15px',\n        },\n      }}\n      onDragStart={onClick}\n      onDragStop={(event, { node: element, x: newX, y: newY }) => {\n        if (coordinates && newX === coordinates.x && newY === coordinates.y) {\n          return;\n        }\n\n        const right = newX + element.offsetWidth >= window.innerWidth;\n        const left = newX === 0;\n        const up = newY === 0;\n        const down = newY + element.offsetHeight + 36 >= window.innerHeight;\n        const smallHeight = window.innerHeight < 450;\n        const smallWidth = window.innerWidth < 450;\n        const windowBounds = rndRef.current.resizableElement.current.parentElement.getBoundingClientRect();\n        const wider = windowBounds.width > windowBounds.height;\n\n        if (!smallHeight && !smallWidth && up && left && !right && !down) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: 0, y: 0 });\n        } else if (!smallHeight && !smallWidth && up && right && !left && !down) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: windowBounds.width / 2, y: 0 });\n        } else if (!smallHeight && !smallWidth && down && left && !right && !up) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: 0, y: (windowBounds.height / 2) });\n        } else if (!smallHeight && !smallWidth && down && right && !left && !up) {\n          setSize({ width: '50%', height: '50%' });\n          setCoordinates({ x: windowBounds.width / 2, y: (windowBounds.height / 2) });\n        } else if (!smallWidth && left && !right) { // Left\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: 0, y: 0 });\n        } else if (!smallWidth && right && !left) { // Right\n          setSize({ width: '50%', height: '100%' });\n          setCoordinates({ x: windowBounds.width / 2, y: 0 });\n        } else if (!smallHeight && up && !wider && !down) { // Up\n          setSize({ height: '50%', width: '100%' });\n          setCoordinates({ y: 0, x: 0 });\n        } else if (!smallHeight && down && !wider && !up) { // Down\n          setSize({ height: '50%', width: '100%' });\n          setCoordinates({ x: 0, y: windowBounds.height / 2 });\n        } else {\n          setCoordinates({ x: newX, y: newY });\n        }\n      }}\n      onResizeStart={onClick}\n      onResizeStop={(event, direction, element, _, position) => {\n        if (element.offsetWidth !== size.width || element.offsetHeight !== size.height) {\n          setSize({ width: element.offsetWidth, height: element.offsetHeight });\n          setCoordinates(position);\n        }\n      }}\n    >\n      <div\n        className={`Window ${className}`}\n      >\n        {\n          !hideTopBar\n            ? (\n              <TopBar\n                maximized={size.width === '100%' && size.height === '100%'}\n                onSettings={onSettings}\n                id={id}\n                done={done}\n                title={title}\n                onDoubleClick={onDoubleClick}\n              />\n            )\n            : (<div />)\n        }\n        <div className=\"windowBox\">\n          {\n            menu\n            && (\n              <div className=\"menu\">\n                {menu}\n              </div>\n            )\n          }\n          <div className=\"content\">\n            {children}\n            {help && (<Help id={id}>{help}</Help>)}\n          </div>\n        </div>\n      </div>\n    </Rnd>\n  );\n};\n\nexport default React.memo(Window);\n\nWindow.propTypes = {\n  onClick: func.isRequired,\n  children: node.isRequired,\n  menu: node,\n  title: string,\n  className: string,\n  done: func,\n  type: string,\n  index: number.isRequired,\n  id: string.isRequired,\n  onSettings: func,\n  help: node,\n};\n\nWindow.defaultProps = {\n  done: undefined,\n  className: undefined,\n  title: 'app',\n  menu: undefined,\n  type: 'window',\n  onSettings: undefined,\n  help: undefined,\n};\n","import createCachedSelector from 're-reselect';\n\nexport const SortBy = {\n  DATE: 'date',\n  AMOUNT: 'amount',\n};\n\nexport const getAllTransactions = (state) => state.transactions;\n\nexport const getTransactionById = (state, { id }) => state.transactions.get(id);\n\nexport const getTransactionIdsByWallets = createCachedSelector(\n  [\n    getAllTransactions,\n    (_, { ids }) => ids,\n  ],\n  (transactions, walletIds) => [...transactions.values()]\n    .filter(({ fromWalletId, toWalletId }) => walletIds.includes(fromWalletId) || walletIds.includes(toWalletId))\n    .map(({ objectId }) => objectId)\n    .reverse(),\n)((_, { ids }) => `transaction-ids-${ids.join(' ')}`);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getTransactionById } from '../../../../../redux/selectors/transactions';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nimport './TransactionItem.scss';\nimport { getDayModification, getSystemUser, getYearModification } from '../../../../../redux/selectors/config';\nimport store from '../../../../../redux/store';\nimport { getTimestamp } from '../../../../../TextTools';\n\nconst TransactionItem = ({ transactionId }) => {\n  const transaction = useSelector((state) => getTransactionById(state, { id: transactionId }));\n  const from = useSelector((state) => getIdentityOrTeamById(state, { id: transaction.fromWalletId }));\n  const to = useSelector((state) => getIdentityOrTeamById(state, { id: transaction.toWalletId })) || getSystemUser(store.getState());\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: transaction.customTimeCreated || transaction.timeCreated, dayModification, yearModification });\n\n  return (\n    <ListItem\n      className=\"TransactionItem\"\n    >\n      <p>{timestamp.fullStamp}</p>\n      <p>\n        {`${from.teamName || from.aliasName || from.username} -> ${to.teamName || to.aliasName || to.username}`}\n      </p>\n      <p>{`Amount: ${transaction.amount}`}</p>\n      {transaction.note && (\n        <p>{transaction.note}</p>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(TransactionItem);\n\nTransactionItem.propTypes = {\n  transactionId: string.isRequired,\n};\n","import React from 'react';\nimport { arrayOf, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport List from '../../../common/lists/List/List';\nimport TransactionItem from './Item/TransactionItem';\nimport { getTransactionIdsByWallets } from '../../../../redux/selectors/transactions';\n\nconst TransactionList = ({ walletIds }) => {\n  const transactionIds = useSelector((state) => getTransactionIdsByWallets(state, { ids: walletIds }));\n\n  const transactionMapper = () => transactionIds.map((transactionId) => <TransactionItem key={transactionId} transactionId={transactionId} />);\n\n  return (\n    <List>\n      {transactionMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(TransactionList);\n\nTransactionList.propTypes = {\n  walletIds: arrayOf(string).isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nimport { getCurrentUser } from './users';\n\nexport const getAllWallets = (state) => state.wallets;\n\nexport const getWalletById = (state, { id }) => state.wallets.get(id);\n\nexport const getWalletIds = createCachedSelector(\n  [getAllWallets],\n  (wallets) => [...wallets.values()].map((wallet) => wallet.objectId),\n)(() => 'wallet-ids');\n\nexport const getWalletIdsByCurrentUser = createCachedSelector(\n  [getAllWallets, getCurrentUser],\n  (wallets, currentUser) => [...wallets.values()]\n    .filter((wallet) => wallet.ownerId === currentUser.objectId || currentUser.aliases.includes(wallet.ownerAliasId))\n    .map((wallet) => wallet.objectId),\n)(() => 'wallet-ids-current-user');\n","import React, { useCallback } from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport ListItem from '../../List/Item/ListItem';\nimport { getIdentityName } from '../../../../../redux/selectors/users';\n\nconst IdentityItem = ({ identityId, onClick }) => {\n  const name = useSelector((state) => getIdentityName(state, { id: identityId }));\n\n  const onClickCall = useCallback(() => {\n    if (onClick) {\n      onClick();\n    }\n\n    store.dispatch(changeWindowOrder({\n      windows: [{\n        id: `${WindowTypes.DIALOGIDENTITY}-${identityId}`,\n        value: {\n          identityId,\n          type: WindowTypes.DIALOGIDENTITY,\n        },\n      }],\n    }));\n  }, [identityId]);\n\n  return (\n    <ListItem\n      stopPropagation\n      key={identityId}\n      onClick={onClickCall}\n    >\n      {name || '-'}\n    </ListItem>\n  );\n};\n\nexport default React.memo(IdentityItem);\n\nIdentityItem.propTypes = {\n  identityId: string.isRequired,\n  onClick: func,\n};\n\nIdentityItem.defaultProps = {\n  onClick: undefined,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  string,\n  bool,\n  func, number,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport './Input.scss';\n\nconst Input = ({\n  onChange,\n  name,\n  shouldEqual,\n  maxLength,\n  minLength,\n  checked,\n  type = 'text',\n  required = false,\n  placeholder = '',\n}) => {\n  const { register, getValues, unregister } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    if (hasFocus && required) {\n      setIsEmpty(!event.target.value || event.target.value === '');\n    }\n  };\n\n  useEffect(() => () => unregister(name), []);\n\n  return (\n    <input\n      defaultChecked={checked}\n      minLength={minLength}\n      maxLength={maxLength}\n      required={required}\n      name={name}\n      ref={register({\n        maxLength,\n        minLength,\n        validate: (value) => (!shouldEqual || value === getValues(shouldEqual)) || `Must match ${shouldEqual}`,\n      })}\n      type={type}\n      defaultValue=\"\"\n      className={`Input ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => {\n        if (!hasFocus) {\n          setHasFocus(true);\n        } else if (isEmpty) {\n          setIsEmpty(false);\n        }\n      }}\n      onBlur={checkEmpty}\n      onChange={(event) => {\n        if (onChange) {\n          onChange(event.target.value);\n        }\n      }}\n      placeholder={placeholder}\n    />\n  );\n};\n\nexport default React.memo(Input);\n\nInput.propTypes = {\n  onChange: func,\n  required: bool,\n  placeholder: string,\n  type: string,\n  name: string.isRequired,\n  shouldEqual: string,\n  maxLength: number,\n  minLength: number,\n  checked: bool,\n};\n\nInput.defaultProps = {\n  placeholder: '',\n  required: false,\n  type: 'text',\n  onChange: undefined,\n  shouldEqual: undefined,\n  maxLength: undefined,\n  minLength: undefined,\n  checked: undefined,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 18,\n  y1: 9,\n  x2: 12,\n  y2: 15\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 9,\n  x2: 18,\n  y2: 15\n});\n\nvar SvgDelete = function SvgDelete(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-delete\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDelete, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/delete.c0ae8b3f.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { FormProvider } from 'react-hook-form';\nimport { func, object, string } from 'prop-types';\n\nimport Input from '../../../sub-components/Input/Input';\nimport Button from '../../../sub-components/Button/Button';\nimport { ReactComponent as Delete } from '../../../../../icons/delete.svg';\nimport ListItem from '../Item/ListItem';\n\nimport './SearchItem.scss';\n\nconst SearchItem = ({ onSubmit, formMethods, placeholder = 'Search' }) => (\n  <ListItem className=\"SearchItem\">\n    <FormProvider {...formMethods}>\n      <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n        <Input name=\"search\" placeholder={placeholder} />\n        <Button stopPropagation onClick={() => formMethods.reset()}><Delete /></Button>\n      </form>\n    </FormProvider>\n  </ListItem>\n);\n\nexport default React.memo(SearchItem);\n\nSearchItem.propTypes = {\n  onSubmit: func.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  formMethods: object.isRequired,\n  placeholder: string,\n};\n\nSearchItem.defaultProps = {\n  placeholder: 'Search',\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 9,\n  cy: 7,\n  r: 4\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23 21v-2a4 4 0 0 0-3-3.87\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 3.13a4 4 0 0 1 0 7.75\"\n});\n\nvar SvgUsers = function SvgUsers(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-users\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUsers, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/users.487ace05.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useForm, useWatch } from 'react-hook-form';\n\nimport List from '../List/List';\nimport {\n  getCurrentAccessLevel,\n  getCurrentHasSeen,\n  getCurrentPartOfTeams,\n  getOtherIdentities,\n} from '../../../../redux/selectors/users';\nimport IdentityItem from './Item/IdentityItem';\nimport ListItem from '../List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getAllowPartialSearch, getOnlySeen } from '../../../../redux/selectors/config';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport SearchItem from '../List/Search/SearchItem';\nimport { ReactComponent as Users } from '../../../../icons/users.svg';\n\nimport './IdentityList.scss';\n\nconst IdentityList = () => {\n  const formMethods = useForm();\n  const partialName = useWatch({ control: formMethods.control, name: 'search' });\n  const onlySeen = useSelector(getOnlySeen);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const hasSeen = useSelector(getCurrentHasSeen);\n  const partOfTeams = useSelector(getCurrentPartOfTeams);\n  const identities = useSelector(getOtherIdentities);\n  const allowPartialSearch = useSelector(getAllowPartialSearch);\n\n  const onClick = useCallback(() => {\n    formMethods.reset();\n  }, []);\n\n  const userItems = (() => {\n    let filtered = identities;\n\n    if (partialName && partialName.length > 0) {\n      filtered = filtered\n        .filter((identity) => {\n          if (allowPartialSearch || accessLevel >= AccessLevels.ADMIN || hasSeen.includes(identity.objectId) || partOfTeams.some((teamId) => identity.partOfTeams.includes(teamId))) {\n            return identity.name.toLowerCase().includes(partialName.toLowerCase());\n          }\n\n          return identity.name.toLowerCase() === partialName.toLowerCase();\n        });\n    } else if (onlySeen && accessLevel < AccessLevels.ADMIN) {\n      filtered = filtered\n        .filter((identity) => hasSeen.includes(identity.objectId) || partOfTeams.some((teamId) => identity.partOfTeams.includes(teamId)));\n    }\n\n    return filtered.map(({ objectId: identityId }) => <IdentityItem key={identityId} identityId={identityId} onClick={onClick} />);\n  })();\n\n  const onSubmit = () => {\n    if (userItems.length === 0) {\n      formMethods.reset();\n    } else if (userItems.length === 1) {\n      store.dispatch(changeWindowOrder({\n        windows: [{\n          id: `${WindowTypes.DIALOGIDENTITY}-${userItems[0].key}`,\n          value: {\n            identityId: userItems[0].key,\n            type: WindowTypes.DIALOGIDENTITY,\n          },\n        }],\n      }));\n\n      formMethods.reset();\n    }\n  };\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      className=\"IdentityList\"\n      title={<Users />}\n    >\n      <SearchItem onSubmit={onSubmit} formMethods={formMethods} placeholder=\"Search by name\" />\n      {\n        partialName && userItems.length === 0\n          ? ([<ListItem key=\"noMatch\">No match found</ListItem>])\n          : (userItems)\n      }\n    </List>\n  );\n};\n\nexport default React.memo(IdentityList);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWalletById } from '../../../../../redux/selectors/wallets';\nimport { getIdentityOrTeamById } from '../../../../../redux/selectors/users';\n\nconst WalletItem = ({ walletId, onChange, className = '' }) => {\n  const wallet = useSelector((state) => getWalletById(state, { id: walletId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n\n  return (\n    <ListItem\n      className={`WalletItem ${className}`}\n      onClick={() => onChange(walletId)}\n    >\n      {identity ? `${identity.teamName || identity.aliasName || identity.username}: ${wallet.amount}` : 'Show all'}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WalletItem);\n\nWalletItem.propTypes = {\n  walletId: string.isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nWalletItem.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getWalletIdsByCurrentUser } from '../../../../redux/selectors/wallets';\nimport WalletItem from './Item/WalletItem';\n\nconst WalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      className={walletId === id ? 'selected' : ''}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title=\"Wallets\"\n      className=\"WalletList\"\n    >\n      <WalletItem\n        className={walletId === 'showAll' ? 'selected' : ''}\n        key=\"showAll\"\n        onChange={onChange}\n        walletId=\"showAll\"\n      />\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(WalletList);\n\nWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 8,\n  r: 7\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"8.21 13.89 7 23 12 20 17 23 15.79 13.88\"\n});\n\nvar SvgAdmin = function SvgAdmin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-award\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdmin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/admin.dc5ca15e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\n\nimport { getWalletIds } from '../../../../redux/selectors/wallets';\nimport WalletItem from '../Wallet/Item/WalletItem';\nimport List from '../../../common/lists/List/List';\nimport { ReactComponent as Admin } from '../../../../icons/admin.svg';\n\nconst AdminWalletList = ({ onChange, walletId }) => {\n  const walletIds = useSelector(getWalletIds);\n\n  const itemMapper = () => walletIds.map((id) => (\n    <WalletItem\n      key={id}\n      walletId={id}\n      onChange={onChange}\n      className={walletId === id ? 'selected' : ''}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      title={(\n        <span>\n          <Admin />\n          WALLETS\n        </span>\n      )}\n      className=\"WalletList\"\n    >\n      {itemMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(AdminWalletList);\n\nAdminWalletList.propTypes = {\n  onChange: func.isRequired,\n  walletId: string.isRequired,\n};\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport TransactionList from './lists/Transaction/TransactionList';\nimport { getWalletIdsByCurrentUser } from '../../redux/selectors/wallets';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport IdentityList from '../common/lists/IdentityList/IdentityList';\nimport WalletList from './lists/Wallet/WalletList';\nimport { getCurrentAccessLevel, getIdentityOrTeamById } from '../../redux/selectors/users';\nimport { AccessLevels } from '../../AccessCentral';\nimport AdminWalletList from './lists/AdminWallet/AdminWalletList';\n\nimport './Wallet.scss';\n\nconst Wallet = ({ id, index }) => {\n  const [walletId, setWalletId] = useState('showAll');\n  const currentWalletIds = useSelector(getWalletIdsByCurrentUser);\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: walletId }));\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WALLET } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newWalletId) => setWalletId(newWalletId), []);\n\n  return (\n    <Window\n      id={id}\n      className=\"Wallet\"\n      index={index}\n      done={onDone}\n      title={`Wallet${identity ? `: ${identity.teamName || identity.aliasName || identity.username}` : ''}`}\n      onClick={onClick}\n      menu={(\n        <>\n          <WalletList key=\"walletList\" onChange={onChange} walletId={walletId} />\n          <IdentityList key=\"identityList\" />\n          {accessLevel >= AccessLevels.MODERATOR && (\n            <AdminWalletList key=\"adminWalletList\" onChange={onChange} walletId={walletId} />\n          )}\n        </>\n      )}\n    >\n      <TransactionList\n        key=\"transactionList\"\n        walletIds={walletId !== 'showAll' ? [walletId] : currentWalletIds}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Wallet);\n\nWallet.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useRef, useState } from 'react';\n\nimport './MapView.scss';\n\nconst MapView = () => {\n  const [map, setMap] = useState();\n  const mapRef = useRef();\n\n  const createMap = () => {\n    if (typeof window.google === 'undefined' || typeof window.MarkerClusterer === 'undefined' || typeof window.MapLabel === 'undefined') {\n      setTimeout(createMap, 1000);\n\n      return;\n    }\n\n    const worldMap = new window.google.maps.Map(mapRef.current, {\n      disableDefaultUI: true,\n      fullscreenControl: false,\n      keyboardShortcuts: false,\n      mapTypeControl: false,\n      noClear: true,\n      zoomControl: false,\n      panControl: false,\n      overviewMapControl: false,\n      rotateControl: false,\n      scaleControl: false,\n      streetViewControl: false,\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 8,\n      styles: [{\n        elementType: 'geometry',\n        stylers: [\n          { color: '#13002d' },\n        ],\n      }, {\n        elementType: 'labels',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'poi',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'administrative',\n        stylers: [\n          { color: '#370087' },\n        ],\n      }, {\n        featureType: 'landscape.natural.terrain',\n        stylers: [\n          { color: '#44003a' },\n        ],\n      }, {\n        featureType: 'road',\n        stylers: [\n          { color: '#6e6c6d' },\n          { weight: 0.5 },\n        ],\n      }, {\n        featureType: 'transit',\n        stylers: [\n          { visibility: 'off' },\n        ],\n      }, {\n        featureType: 'water',\n        stylers: [\n          { color: '#7d006c' },\n        ],\n      }],\n    });\n\n    setMap(worldMap);\n  };\n\n  useEffect(() => {\n    createMap();\n  }, []);\n\n  return (\n    <div\n      ref={mapRef}\n      className=\"MapView\"\n    />\n  );\n};\n\nexport default MapView;\n","import { createSelector } from 'reselect';\n\nexport const getAllPositions = (state) => state.positions;\n\nexport const getPositionNamesByType = (type) => createSelector(\n  [getAllPositions],\n  (positions) => [...positions.values()]\n    .filter(({ positionType }) => type === positionType)\n    .map(({ positionName, objectId }) => ({ positionName, objectId })),\n);\n","import React, { useMemo } from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from '../../../common/lists/List/List';\nimport { getPositionNamesByType } from '../../../../redux/selectors/positions';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst PositionList = ({ title, positionType }) => {\n  const positionsSelector = useMemo(getPositionNamesByType, []);\n  const positions = useSelector((state) => positionsSelector(state, positionType));\n\n  const positionMapper = () => positions.map((position) => (\n    <ListItem\n      key={position.objectId}\n      onClick={() => { console.log(position.objectId); }}\n    >\n      {position.positionName}\n    </ListItem>\n  ));\n\n  return (\n    <div\n      key=\"positionsList\"\n      className=\"PositionsList\"\n    >\n      <List\n        title={title}\n      >\n        {positionMapper()}\n      </List>\n    </div>\n  );\n};\n\nexport default React.memo(PositionList);\n\nPositionList.propTypes = {\n  title: string,\n  positionType: string.isRequired,\n};\n\nPositionList.defaultProps = {\n  title: undefined,\n};\n","import React from 'react';\nimport PositionList from '../lists/Position/PositionList';\n\nconst Positions = ({ positionTypes = [] }) => {\n  const listMapper = () => positionTypes.map((positionType) => (\n    <PositionList\n      title={positionType}\n      positionType={positionType}\n    />\n  ));\n\n  return (\n    <div className=\"lists Positions\">\n      {listMapper()}\n    </div>\n  );\n};\n\nexport default Positions;\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport Window from '../common/Window/Window';\nimport MapView from './views/MapView';\nimport Positions from './views/Positions';\n\nimport './WorldMap.scss';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nconst WorldMap = ({ id, index }) => {\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.WORLDMAP } }] }));\n  }, []);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={() => store.dispatch(removeWindow({ id }))}\n      className=\"WorldMap\"\n      title=\"map\"\n      onClick={onClick}\n      menu={(\n        <>\n          <Positions />\n        </>\n      )}\n    >\n      <MapView />\n    </Window>\n  );\n};\n\nexport default React.memo(WorldMap);\n\nWorldMap.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\nimport { getCurrentUserIdentities, getCurrentUserRooms, getIdentitiesByIds } from './users';\n\nexport const getAllRooms = (state) => state.rooms;\n\nexport const getRoomById = (state, { id }) => state.rooms.get(id);\n\nconst getRooms = createCachedSelector(\n  [getAllRooms],\n  (rooms) => [...rooms.values()].filter((room) => !room.isWhisper && !room.isUser),\n)(() => 'normalRooms');\n\nexport const getWhisperRooms = createCachedSelector(\n  [\n    getAllRooms,\n    (_, { spyMode }) => spyMode,\n  ],\n  (rooms, spyMode) => [...rooms.values()]\n    .filter((room) => room.isWhisper && ((typeof room.spyMode !== 'boolean' && !spyMode) || spyMode === room.spyMode))\n    .map(({ objectId, participantIds }) => ({ objectId, participantIds })),\n)(() => 'whisperRooms');\n\nexport const getUnfollowedRoomIds = createCachedSelector(\n  [getRooms, getCurrentUserRooms],\n  (rooms, followingRooms) => rooms\n    .filter((room) => !followingRooms.includes(room.objectId)).map(({ roomName, objectId }) => ({ roomName, objectId }))\n    .sort((roomA, roomB) => {\n      const a = roomA.roomName.toLowerCase();\n      const b = roomB.roomName.toLowerCase();\n\n      if (a > b) {\n        return 1;\n      }\n\n      if (b < a) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .map(({ objectId }) => objectId),\n)(() => 'unfollowedRooms');\n\nexport const getFollowedRoomsIds = createCachedSelector(\n  [getRooms, getCurrentUserRooms],\n  (rooms, followingRooms) => rooms\n    .filter((room) => followingRooms.includes(room.objectId))\n    .map(({ objectId }) => objectId),\n)(() => 'followedRooms');\n\nexport const getWhisperRoom = createCachedSelector(\n  [\n    getWhisperRooms,\n    (_, { identityId, currentIdentityId }) => ({ identityId, currentIdentityId }),\n    (state, { identityId }) => getRoomById(state, { id: identityId }),\n  ],\n  (rooms, { currentIdentityId, identityId }, identityRoom) => rooms\n    .find((room) => room.participantIds.includes(currentIdentityId) && room.participantIds.includes(identityId)) || identityRoom,\n)((_, { currentIdentityId, identityId }) => `whisper-${currentIdentityId}-${identityId}`);\n\nexport const getWhisperRoomName = createCachedSelector(\n  [\n    getIdentitiesByIds,\n    getCurrentUserIdentities,\n    (_, { ids: participantIds }) => participantIds,\n  ],\n  (identities, currentIdentities, participantIds) => {\n    const participant = identities.get(participantIds[0]);\n    const secondParticipant = identities.get(participantIds[1]);\n\n    if (!participant || !secondParticipant) {\n      return '';\n    }\n\n    const name = currentIdentities\n      .find(({ objectId }) => participant.objectId === objectId || participant.ownerId === objectId || participant.userIds.includes(objectId))\n      ? `${participant.username || participant.aliasName} > ${secondParticipant.username || participant.aliasName}`\n      : `${secondParticipant.username || participant.aliasName} > ${participant.username || participant.aliasName}`;\n\n    return name;\n  },\n)((_, { ids }) => `w-name-${ids.join(' ')}`);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 11,\n  width: 18,\n  height: 11,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n});\n\nvar SvgLock = function SvgLock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-lock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/lock.5b8f2ff4.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\n\nimport './RoomItem.scss';\n\nconst RoomItem = ({ roomId }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id: `${WindowTypes.DIALOGJOINROOM}-${roomId}`, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }));\n  }, [roomId]);\n\n  return (\n    <ListItem\n      className=\"RoomItem\"\n      key={roomId}\n      onClick={onClick}\n    >\n      {room.roomName}\n      {room.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(RoomItem);\n\nRoomItem.propTypes = {\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getUnfollowedRoomIds } from '../../../../redux/selectors/rooms';\nimport RoomItem from './Item/RoomItem';\n\nconst RoomList = ({ onChange }) => {\n  const roomIds = useSelector(getUnfollowedRoomIds);\n\n  const roomMapper = () => roomIds.map((roomId) => (\n    <RoomItem\n      key={roomId}\n      roomId={roomId}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"roomList\"\n      className=\"RoomList\"\n      title=\"Rooms\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(RoomList);\n\nRoomList.propTypes = {\n  onChange: func.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 12,\n  r: 3\n});\n\nvar SvgEye = function SvgEye(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-eye\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEye, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/eye.f2d9887b.svg\";\nexport { ForwardRef as ReactComponent };","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport store from '../../redux/store';\nimport { getCurrentIdentityId } from '../../redux/selectors/userId';\nimport { createMessages, createNewsMessage } from '../../redux/actions/messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport { MessageType } from '../../redux/reducers/messages';\n\nexport const sendMessage = async ({ text, roomId, image }) => {\n  const room = getRoomById(store.getState(), { id: roomId });\n  const participantIds = room.isWhisper\n    ? room.participantIds\n    : [];\n  const message = {\n    roomId,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: text.split('\\n'),\n  };\n\n  if (room.isUser) {\n    message.messageType = MessageType.WHISPER;\n    participantIds.push(getCurrentIdentityId(store.getState()));\n    participantIds.push(roomId);\n  } else if (room.isWhisper) {\n    message.messageType = MessageType.WHISPER;\n  } else {\n    message.messageType = MessageType.CHAT;\n  }\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n    participantIds,\n  });\n\n  store.dispatch(createMessages({ messages: [result.message] }));\n\n  return { message: result.message, switchRoom: true };\n};\n\nexport const sendNewsMessage = async ({ title, text, image }) => {\n  const message = {\n    messageType: MessageType.NEWS,\n    text: [title].concat(text.split('\\n')),\n    roomId: getNewsRoomId(store.getState()),\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.MESSAGE, {\n    message,\n    image,\n  });\n\n  store.dispatch(createNewsMessage(result));\n\n  return { message: result.message };\n};\n\nexport const getMessagesByRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.GETMSGBYROOM, { roomId });\n\n  store.dispatch(createMessages({ messages: result.messages }));\n\n  return true;\n};\n","import { SendEvents, emitSocketEvent } from '../SocketManager';\nimport store from '../../redux/store';\nimport { followRoom as followRoomAction, removeRooms } from '../../redux/actions/rooms';\nimport { getMessagesByRoom } from './messages';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createRoom = async ({ room }) => {\n  const roomToCreate = {\n    ...room,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.ROOM, { room: roomToCreate });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room };\n};\n\nexport const followRoom = async ({ roomId, password }) => {\n  const params = {\n    roomId,\n    password,\n    aliasId: getAliasId(store.getState()) || undefined,\n  };\n\n  const result = await emitSocketEvent(SendEvents.FOLLOW, params);\n\n  await getMessagesByRoom({ roomId });\n\n  await store.dispatch(followRoomAction({ room: result.room, user: result.user }));\n\n  return { room: result.room, user: result.user };\n};\n\nexport const removeRoom = async ({ roomId }) => {\n  const result = await emitSocketEvent(SendEvents.REMOVEROOM, { roomId });\n\n  await store.dispatch(removeRooms({ rooms: [{ objectId: roomId }] }));\n\n  return { room: result.room };\n};\n","import React, { useCallback } from 'react';\nimport { batch, useSelector } from 'react-redux';\nimport {\n  arrayOf,\n  func, shape,\n  string,\n} from 'prop-types';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getWhisperRoomName } from '../../../../../redux/selectors/rooms';\nimport { ReactComponent as Eye } from '../../../../../icons/eye.svg';\nimport { followRoom } from '../../../../../socket/actions/rooms';\nimport { getCurrentUser } from '../../../../../redux/selectors/users';\nimport store from '../../../../../redux/store';\n\nimport './WhisperItem.scss';\n\nconst WhisperItem = ({ room, onChange, className }) => {\n  const roomName = useSelector((state) => getWhisperRoomName(state, { ids: room.participantIds }));\n\n  const onClick = () => {\n    const currentUser = getCurrentUser(store.getState());\n\n    if (!room.participantIds.some((id) => currentUser.objectId === id || currentUser.aliases.includes(id))) {\n      followRoom({ roomId: room.objectId })\n        .then(() => {\n          onChange({ roomId: room.objectId, spyMode: room.spyMode });\n        })\n        .catch((followError) => console.log(followError));\n\n      return;\n    }\n\n    onChange({ roomId: room.objectId, spyMode: room.spyMode });\n  };\n\n  return (\n    <ListItem\n      className={className}\n      key={room.objectId}\n      onClick={onClick}\n    >\n      {roomName}\n      {room.spyMode && (<div className=\"spy\"><Eye /></div>)}\n    </ListItem>\n  );\n};\n\nexport default React.memo(WhisperItem, (prevProps, newProps) => {\n  const prevRoom = prevProps.room;\n  const newRoom = newProps.room;\n\n  if (prevProps.className !== newProps.className) {\n    return false;\n  }\n\n  if (!Object.keys(newRoom).every((key) => prevRoom[key] && newRoom[key])) {\n    return false;\n  }\n\n  if (!newRoom.participantIds.every((id) => prevRoom.participantIds.includes(id))) {\n    return false;\n  }\n\n  return true;\n});\n\nWhisperItem.propTypes = {\n  room: shape({\n    participantIds: arrayOf(string),\n  }).isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nWhisperItem.defaultProps = {\n  className: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { getWhisperRooms } from '../../../../redux/selectors/rooms';\nimport List from '../../../common/lists/List/List';\nimport WhisperItem from './Item/WhisperItem';\n\nconst WhisperList = ({ onChange, roomId }) => {\n  const whisperRooms = useSelector((state) => getWhisperRooms(state, { spyMode: false }));\n\n  const rooms = (() => whisperRooms\n    .map((room) => (\n      <WhisperItem key={room.objectId} room={room} onChange={onChange} className={`${room.objectId === roomId ? 'selected' : ''}`} />\n    ))\n  )();\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"whisperList\"\n      className=\"WhisperList\"\n      title=\"PM\"\n    >\n      {rooms}\n    </List>\n  );\n};\n\nexport default React.memo(WhisperList);\n\nWhisperList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string,\n};\n\nWhisperList.defaultProps = {\n  roomId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getRoomById } from '../../../../../redux/selectors/rooms';\n\nconst FollowingItem = ({ roomId, onChange, className = '' }) => {\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onClick = useCallback(() => onChange({ roomId }), [roomId]);\n\n  return (\n    <ListItem\n      className={`FollowingItem ${className}`}\n      key={roomId}\n      onClick={onClick}\n    >\n      {room.roomName}\n    </ListItem>\n  );\n};\n\nexport default React.memo(FollowingItem);\n\nFollowingItem.propTypes = {\n  roomId: string.isRequired,\n  onChange: func.isRequired,\n  className: string,\n};\n\nFollowingItem.defaultProps = {\n  className: '',\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport List from '../../../common/lists/List/List';\nimport { getFollowedRoomsIds } from '../../../../redux/selectors/rooms';\nimport FollowingItem from './Item/FollowingItem';\n\nconst FollowingList = ({ onChange, roomId }) => {\n  const roomIds = useSelector(getFollowedRoomsIds);\n\n  const roomMapper = () => roomIds.map((id) => (\n    <FollowingItem\n      className={`${id === roomId ? 'selected' : ''}`}\n      key={id}\n      roomId={id}\n      onChange={onChange}\n    />\n  ));\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      key=\"followingList\"\n      className=\"FollowingList\"\n      title=\"Joined\"\n    >\n      {roomMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(FollowingList);\n\nFollowingList.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../AccessCentral';\nimport UserList from '../../common/lists/IdentityList/IdentityList';\nimport RoomList from '../lists/Room/RoomList';\nimport WhisperList from '../lists/Whisper/WhisperList';\nimport FollowingList from '../lists/Following/FollowingList';\nimport { getCurrentAccessLevel } from '../../../redux/selectors/users';\n\nconst Rooms = ({ onChange, roomId }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <>\n      <FollowingList\n        roomId={roomId}\n        key=\"following\"\n        onChange={onChange}\n      />\n      {\n        accessLevel >= AccessLevels.STANDARD && (\n          <>\n            <WhisperList\n              roomId={roomId}\n              key=\"whisper\"\n              onChange={onChange}\n            />\n            <RoomList\n              key=\"room\"\n              onChange={onChange}\n            />\n          </>\n        )\n      }\n      <UserList\n        onDone={onChange}\n        key=\"user\"\n      />\n    </>\n  );\n};\n\nexport default React.memo(Rooms);\n\nRooms.propTypes = {\n  onChange: func.isRequired,\n  roomId: string.isRequired,\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  bool,\n  func,\n  number,\n  string,\n} from 'prop-types';\n\nimport { ReactComponent as Maximize } from '../../../../icons/maximize.svg';\nimport { ReactComponent as Minimize } from '../../../../icons/minimize.svg';\n\nimport './Image.scss';\n\nconst Image = React.forwardRef(({\n  image,\n  onRemove,\n  width,\n  height,\n  scrollTo = false,\n  className = '',\n  altText = '',\n  fullImage,\n  fullWidth,\n  fullHeight,\n} = {}, ref) => {\n  const containerRef = useRef(null);\n  const [showFull, setShowFull] = useState(false);\n\n  useEffect(() => {\n    if (scrollTo && !showFull && containerRef.current) {\n      containerRef.current.scrollIntoView({ block: 'nearest' });\n    }\n  }, [showFull]);\n\n  const onClick = (event) => {\n    if (fullImage) {\n      setShowFull(!showFull);\n\n      event.stopPropagation();\n    }\n  };\n\n  return (\n    <div\n      role=\"complementary\"\n      ref={containerRef}\n      className={`Image ${showFull ? 'full' : ''} ${className}`}\n      onClick={onClick}\n    >\n      {onRemove && (\n        <div\n          className=\"remove clickable\"\n          role=\"complementary\"\n          onClick={(event) => {\n            onRemove();\n\n            event.stopPropagation();\n          }}\n        >\n          X\n        </div>\n      )}\n      {fullImage && (\n        <div\n          onClick={onClick}\n          className=\"zoom clickable\"\n          role=\"complementary\"\n        >\n          {showFull ? <Minimize /> : <Maximize />}\n        </div>\n      )}\n      <img\n        className={fullImage ? 'clickable' : ''}\n        onClick={onClick}\n        width={showFull ? fullWidth : width}\n        height={showFull ? fullHeight : height}\n        ref={ref}\n        src={showFull ? fullImage : image}\n        alt={altText}\n      />\n    </div>\n  );\n});\n\nexport default Image;\n\nImage.propTypes = {\n  image: string.isRequired,\n  altText: string,\n  className: string,\n  onRemove: func,\n  width: number,\n  height: number,\n  fullImage: string,\n  fullWidth: number,\n  fullHeight: number,\n  scrollTo: bool,\n};\n\nImage.defaultProps = {\n  altText: '',\n  className: '',\n  onRemove: undefined,\n  width: undefined,\n  height: undefined,\n  fullImage: undefined,\n  fullWidth: undefined,\n  fullHeight: undefined,\n  scrollTo: false,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 3,\n  width: 18,\n  height: 18,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 8.5,\n  cy: 8.5,\n  r: 1.5\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"21 15 16 10 5 21\"\n});\n\nvar SvgImage = function SvgImage(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-image\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgImage, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/image.2b3c9c2e.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport Image from '../Image/Image';\nimport Button from '../Button/Button';\n\nimport { ReactComponent as ImageIcon } from '../../../../icons/image.svg';\n\nimport './ImageUpload.scss';\n\nconst ImageUpload = ({ useIcon = false }) => {\n  const { register, setValue } = useFormContext();\n  const inputRef = useRef(null);\n  const [previewImage, setPreviewImage] = useState();\n  const watchImage = useWatch({ name: 'image' });\n\n  useEffect(() => {\n    register('image');\n  }, []);\n\n  useEffect(() => {\n    if (previewImage) {\n      setValue('image', previewImage);\n    } else {\n      setValue('image', undefined);\n    }\n  }, [previewImage]);\n\n  useEffect(() => {\n    if (!watchImage) {\n      setPreviewImage();\n    }\n  }, [watchImage]);\n\n  const onChangeFunc = ({ target }) => {\n    const files = target.files || [];\n    const file = files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.addEventListener('load', () => {\n        if (reader.result) {\n          const image = {\n            imageName: file.name,\n            source: reader.result,\n          };\n\n          setPreviewImage(image);\n        }\n      });\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div\n      className=\"ImageUpload\"\n    >\n      <input\n        key=\"uploadInput\"\n        className=\"hide\"\n        ref={inputRef}\n        type=\"file\"\n        accept=\"image/png, image/jpeg, image/pjpeg\"\n        onChange={onChangeFunc}\n      />\n      <Image\n        onRemove={() => setPreviewImage()}\n        className={`previewImage ${!previewImage ? 'hide' : ''}`}\n        image={previewImage ? previewImage.source : ''}\n        altText=\"Image preview\"\n      />\n      <Button\n        type=\"button\"\n        onClick={() => { inputRef.current.click(); }}\n      >\n        <ImageIcon />\n        {!useIcon && (<span>Upload image</span>)}\n      </Button>\n    </div>\n  );\n};\n\nexport default React.memo(ImageUpload);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 12,\n  cy: 10,\n  r: 3\n});\n\nvar SvgPin = function SvgPin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-map-pin\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/pin.03aed5b7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 7,\n  y1: 7,\n  x2: 7.01,\n  y2: 7\n});\n\nvar SvgTag = function SvgTag(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-tag\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTag, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/tag.6b837a8d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"14 2 14 8 20 8\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 12,\n  y1: 18,\n  x2: 12,\n  y2: 12\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 9,\n  y1: 15,\n  x2: 15,\n  y2: 15\n});\n\nvar SvgFilePlus = function SvgFilePlus(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-file-plus\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFilePlus, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/file-plus.4abe03d8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22.61 16.95A5 5 0 0 0 18 10h-1.26a8 8 0 0 0-7.05-6M5 5a8 8 0 0 0 4 15h9a5 5 0 0 0 1.7-.3\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 1,\n  y1: 1,\n  x2: 23,\n  y2: 23\n});\n\nvar SvgCloudOff = function SvgCloudOff(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-cloud-off\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCloudOff, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cloud-off.60e73c4a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  bool,\n  func, number,\n  string,\n} from 'prop-types';\nimport { useFormContext, useWatch } from 'react-hook-form';\n\nimport './Textarea.scss';\n\nconst Textarea = ({\n  name,\n  maxLength,\n  onKeyDown,\n  required = false,\n  placeholder = '',\n}) => {\n  const { register, control } = useFormContext();\n  const text = useWatch({ control, name });\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n  const inputRef = useRef(null);\n\n  const resize = () => {\n    if (inputRef.current) {\n      const textarea = inputRef.current;\n\n      if (!textarea.style.height || (textarea.scrollHeight.toString() !== textarea.style.height.split('px')[0])) {\n        textarea.style.height = 'auto';\n        textarea.style.height = `${textarea.scrollHeight}px`;\n        inputRef.current.scrollIntoView();\n      }\n    }\n  };\n\n  useEffect(() => {\n    resize();\n  }, [text]);\n\n  const checkEmpty = (event) => {\n    const value = event.target.value.trim();\n\n    if (hasFocus && required) {\n      setIsEmpty(value !== '');\n    }\n  };\n\n  return (\n    <textarea\n      onKeyDown={onKeyDown}\n      rows={1}\n      maxLength={maxLength}\n      required={required}\n      name={name}\n      ref={(element) => {\n        inputRef.current = element;\n        register(element, {\n          maxLength,\n        });\n      }}\n      defaultValue=\"\"\n      className={`Textarea ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => setHasFocus(true)}\n      onBlur={checkEmpty}\n      placeholder={placeholder}\n    />\n  );\n};\n\nexport default Textarea;\n\nTextarea.propTypes = {\n  placeholder: string,\n  required: bool,\n  name: string.isRequired,\n  maxLength: number,\n  onKeyDown: func,\n};\n\nTextarea.defaultProps = {\n  placeholder: '',\n  required: false,\n  maxLength: undefined,\n  onKeyDown: undefined,\n};\n","import React, { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport ImageUpload from '../../../common/sub-components/ImageUpload/ImageUpload';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport { isOnline } from '../../../../redux/selectors/online';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\nimport { getAllowedImages, getGpsTracking } from '../../../../redux/selectors/config';\nimport Button from '../../../common/sub-components/Button/Button';\nimport { sendMessage } from '../../../../socket/actions/messages';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\n\nimport { ReactComponent as Pin } from '../../../../icons/pin.svg';\nimport { ReactComponent as Tag } from '../../../../icons/tag.svg';\nimport { ReactComponent as File } from '../../../../icons/file-plus.svg';\nimport { ReactComponent as CloudOff } from '../../../../icons/cloud-off.svg';\n\nimport './InputArea.scss';\nimport Textarea from '../../../common/sub-components/Textarea/Textarea';\n\nconst InputArea = ({\n  roomId,\n  onSend,\n  minAccessLevel = AccessLevels.STANDARD,\n}) => {\n  const [isSending, setIsSending] = useState(false);\n  const formMethods = useForm();\n  const buttonRef = useRef(null);\n  const online = useSelector(isOnline);\n  const accessLevel = useSelector(getCurrentAccessLevel);\n  const allowedImages = useSelector(getAllowedImages);\n  const gpsTracking = useSelector(getGpsTracking);\n\n  const onSubmit = ({\n    text,\n    image,\n  }) => {\n    setIsSending(true);\n\n    sendMessage({\n      roomId,\n      image,\n      text,\n    }).then(({ message, switchRoom }) => {\n      formMethods.setValue('text', '');\n      formMethods.setValue('image', undefined);\n\n      if (switchRoom) {\n        onSend({ roomId: message.roomId });\n      }\n\n      setIsSending(false);\n    }).catch((error) => {\n      console.log('error', error);\n\n      setIsSending(false);\n    });\n  };\n\n  return (\n    <div className=\"InputArea\">\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {accessLevel >= minAccessLevel && (\n            <div\n              key=\"buttonBox\"\n              className=\"buttonBox\"\n            >\n              {\n                allowedImages.CHAT\n                && (\n                  <ImageUpload useIcon />\n                )\n              }\n              <Button onClick={() => {}}><Tag /></Button>\n              <Button onClick={() => {}}><File /></Button>\n              {\n                gpsTracking\n                && (\n                  <Button onClick={() => {}}><Pin /></Button>\n                )\n              }\n              <IdentityPicker />\n            </div>\n          )}\n          <div className=\"input\">\n            <Textarea\n              key=\"input\"\n              name=\"text\"\n              onKeyDown={(event) => {\n                const { key, altKey } = event;\n\n                if (altKey && key === 'Enter' && buttonRef.current) {\n                  buttonRef.current.click();\n                }\n              }}\n              placeholder={online ? 'Alt+Enter to send message' : 'Offline. Reconnecting to server...'}\n            />\n            <Button\n              ref={buttonRef}\n              disabled={!online || isSending}\n              key=\"send\"\n              type=\"submit\"\n              className=\"sendButton\"\n              onClick={() => {}}\n            >\n              {online\n                ? (\n                  <span>Send</span>\n                )\n                : (\n                  <CloudOff />\n                )}\n            </Button>\n          </div>\n        </form>\n      </FormProvider>\n    </div>\n  );\n};\n\nexport default React.memo(InputArea);\n\nInputArea.propTypes = {\n  minAccessLevel: number,\n  roomId: string.isRequired,\n  onSend: func.isRequired,\n};\n\nInputArea.defaultProps = {\n  minAccessLevel: AccessLevels.STANDARD,\n};\n","import createCachedSelector from 're-reselect';\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\nimport { MessageType } from '../reducers/messages';\n\nexport const getMessageById = (state, { id }) => state.messages.get(id);\n\nexport const getAllMessages = (state) => state.messages;\n\nexport const getMessagesByRoom = createCachedSelector(\n  [\n    getAllMessages,\n    (_, { roomId }) => roomId,\n  ],\n  (messages, roomId) => [...messages.values()].filter((message) => message.roomId === roomId),\n)((_, { roomId }) => roomId);\n\nexport const getNews = createCachedSelector(\n  [getAllMessages],\n  (messages) => [...messages.values()]\n    .filter((message) => message.messageType === MessageType.NEWS)\n    .reverse(),\n)(() => 'news');\n\nexport const getMessageIdsByRoom = createCachedSelector(\n  [getMessagesByRoom],\n  (messages) => messages.map(({ objectId }) => objectId),\n)((_, { roomId }) => `id-${roomId}`);\n\nexport const getNewsIdsPoints = createCachedSelector(\n  [getNews],\n  (messages) => messages\n    .map(({ objectId, points }) => ({ objectId, points })),\n)({\n  keySelector: () => 'news-ids',\n  selectorCreator: createSelectorCreator(\n    defaultMemoize,\n    (a, b) => a.length === b.length && b.every((message, index) => {\n      const otherMessage = a[index];\n\n      return otherMessage && otherMessage.objectId === message.objectId;\n    }),\n  ),\n});\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getIdentityName } from '../../../../../../redux/selectors/users';\nimport { getDayModification, getYearModification } from '../../../../../../redux/selectors/config';\nimport store from '../../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../../redux/reducers/windowOrder';\nimport { getTimestamp } from '../../../../../../TextTools';\n\nimport './MessageInfo.scss';\n\nconst MessageInfo = ({ identityId, timeCreated }) => {\n  const name = useSelector((state) => getIdentityName(state, { id: identityId }));\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: timeCreated, dayModification, yearModification });\n\n  return (\n    <p className=\"MessageInfo\">\n      <span\n        role=\"button\"\n        tabIndex={0}\n        className=\"clickable username\"\n        onClick={(event) => {\n          if (name) {\n            store.dispatch(changeWindowOrder({\n              windows: [{\n                id: `${WindowTypes.DIALOGIDENTITY}-${identityId}`,\n                value: {\n                  identityId,\n                  type: WindowTypes.DIALOGIDENTITY,\n                },\n              }],\n            }));\n          }\n\n          event.stopPropagation();\n        }}\n      >\n        {name || '-'}\n      </span>\n      <span className=\"time\">\n        {timestamp.fullStamp}\n      </span>\n    </p>\n  );\n};\n\nexport default React.memo(MessageInfo);\n\nMessageInfo.propTypes = {\n  identityId: string.isRequired,\n  timeCreated: string.isRequired,\n};\n","import React, { useRef } from 'react';\nimport {\n  bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport MessageInfo from './MessageInfo/MessageInfo';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport { hasAccessTo } from '../../../../../AccessCentral';\nimport { getCurrentUser } from '../../../../../redux/selectors/users';\nimport store from '../../../../../redux/store';\nimport Image from '../../../../common/sub-components/Image/Image';\n\nimport './MessageItem.scss';\n\nconst MessageItem = ({\n  previousMessageId,\n  messageId,\n  isLatest = false,\n  selected = false,\n}) => {\n  const itemRef = useRef();\n  const previousMessage = useSelector((state) => getMessageById(state, { id: previousMessageId }));\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: message,\n    toAuth: getCurrentUser(store.getState()),\n  });\n\n  const shouldCollapse = () => {\n    if (!previousMessage) {\n      return false;\n    }\n\n    if (new Date(message.lastUpdated).getTime() - 900000 > new Date(previousMessage.lastUpdated).getTime()) {\n      return false;\n    }\n\n    if ((previousMessage.ownerAliasId && message.ownerAliasId) && previousMessage.ownerAliasId === message.ownerAliasId) {\n      return true;\n    }\n\n    return (!previousMessage.ownerAliasId && !message.ownerAliasId) && previousMessage.ownerId === message.ownerId;\n  };\n\n  return (\n    <ListItem\n      scrollTo={selected || isLatest}\n      ref={itemRef}\n      className={`MessageItem ${hasFullAccess ? 'clickable' : ''}`}\n      key={messageId}\n    >\n      {!shouldCollapse() && (\n        <MessageInfo\n          key=\"msgInfo\"\n          identityId={message.ownerAliasId || message.ownerId}\n          timeCreated={message.customTimeCreated || message.timeCreated}\n        />\n      )}\n      <div className=\"text\">\n        {/* eslint-disable-next-line react/no-array-index-key */}\n        {message.text.map((line, index) => <p key={index}>{line}</p>)}\n        {message.image && message.image.thumbFileName && (\n          <Image\n            scrollTo\n            key={message.image.thumbFileName}\n            image={`/upload/images/${message.image.thumbFileName}`}\n            altText=\"pic\"\n            width={message.image.thumbWidth}\n            height={message.image.thumbHeight}\n            fullImage={`/upload/images/${message.image.fileName}`}\n            fullWidth={message.image.width}\n            fullHeight={message.image.height}\n          />\n        )}\n      </div>\n    </ListItem>\n  );\n};\n\nexport default React.memo(MessageItem);\n\nMessageItem.propTypes = {\n  previousMessageId: string,\n  messageId: string.isRequired,\n  selected: bool,\n  isLatest: bool,\n};\n\nMessageItem.defaultProps = {\n  previousMessageId: undefined,\n  selected: false,\n  isLatest: false,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport { getMessageIdsByRoom } from '../../../../redux/selectors/messages';\nimport List from '../../../common/lists/List/List';\nimport MessageItem from './Item/MessageItem';\n\nimport './MessageList.scss';\n\nconst MessageList = ({ roomId, messageId }) => {\n  const messageIds = useSelector((state) => getMessageIdsByRoom(state, { roomId }));\n  const latestMessageId = useRef('');\n\n  if (messageIds[messageIds.length - 1] !== latestMessageId) {\n    latestMessageId.current = messageIds[messageIds.length - 1];\n  }\n\n  const messageMapper = () => messageIds.map((id, index, array) => (\n    <MessageItem\n      isLatest={id === latestMessageId.current}\n      selected={messageId && messageId === id}\n      key={id}\n      previousMessageId={array[index - 1]}\n      messageId={id}\n    />\n  ));\n\n  return (\n    <List\n      observe=\"lower\"\n      key=\"messageList\"\n      className=\"MessageList\"\n    >\n      {messageMapper()}\n    </List>\n  );\n};\n\nexport default React.memo(MessageList);\n\nMessageList.propTypes = {\n  roomId: string,\n  messageId: string,\n};\n\nMessageList.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { func, string } from 'prop-types';\nimport { AccessLevels } from '../../../../AccessCentral';\nimport InputArea from '../../sub-components/InputArea/InputArea';\nimport MessagesList from '../../lists/Message/MessageList';\nimport { getCurrentAccessLevel } from '../../../../redux/selectors/users';\n\nimport './Messages.scss';\n\nconst Messages = ({ roomId, onSend, messageId }) => {\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <div className=\"Messages\">\n      <div className=\"spacer\" />\n      <MessagesList\n        key=\"messagesList\"\n        roomId={roomId}\n        messageId={messageId}\n      />\n      {accessLevel >= AccessLevels.STANDARD && (\n        <InputArea\n          onSend={onSend}\n          roomId={roomId}\n          key=\"inputArea\"\n        />\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Messages);\n\nMessages.propTypes = {\n  roomId: string,\n  onSend: func.isRequired,\n  messageId: string,\n};\n\nMessages.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","import React from 'react';\nimport { node, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport List from './List/List';\nimport ListItem from './List/Item/ListItem';\nimport store from '../../../redux/store';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport { removeWindow } from '../../../redux/actions/windowOrder';\nimport { ReactComponent as Menu } from '../../../icons/menu.svg';\n\nconst FileMenu = ({ id, children }) => {\n  const { systemConfig = {} } = useSelector(getCurrentUser);\n\n  return (\n    <List\n      dropdown\n      checkWidth\n      className=\"FileMenu\"\n      title={<Menu />}\n    >\n      {children}\n      {!systemConfig.hideTopRow && (\n        <>\n          <ListItem\n            stopPropagation\n            key=\"settings\"\n            onClick={() => {}}\n          >\n            Settings\n          </ListItem>\n          <ListItem\n            stopPropagation\n            key=\"quit\"\n            onClick={() => store.dispatch(removeWindow({ id }))}\n          >\n            Quit\n          </ListItem>\n        </>\n      )}\n    </List>\n  );\n};\n\nexport default React.memo(FileMenu);\n\nFileMenu.propTypes = {\n  children: node,\n  id: string.isRequired,\n};\n\nFileMenu.defaultProps = {\n  children: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport FileMenu from '../../../common/lists/FileMenu';\nimport { getRoomById } from '../../../../redux/selectors/rooms';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport { hasAccessTo } from '../../../../AccessCentral';\n\nconst ChatFileMenu = ({ id, roomId }) => {\n  const currentUser = useSelector(getCurrentUser);\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onCreateRoom = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEROOM, value: { type: WindowTypes.DIALOGCREATEROOM } }] })), []);\n\n  const { hasFullAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: currentUser,\n  });\n\n  return (\n    <FileMenu key=\"fileMenu\" id={id}>\n      <ListItem\n        stopPropagation\n        key=\"createRoom\"\n        onClick={onCreateRoom}\n      >\n        New room\n      </ListItem>\n      {hasFullAccess && (\n        <ListItem\n          stopPropagation\n          key=\"configRoom\"\n          onClick={() => {}}\n        >\n          Config room\n        </ListItem>\n      )}\n      {hasFullAccess && !room.isWhisper && !room.isUser && !room.isSystemRoom && !room.isTeam && (\n        <ListItem\n          stopPropagation\n          key=\"removeRoom\"\n          onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGREMOVEROOM, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId } }] }))}\n        >\n          Delete room\n        </ListItem>\n      )}\n    </FileMenu>\n  );\n};\n\nexport default ChatFileMenu;\n\nChatFileMenu.propTypes = {\n  id: string.isRequired,\n  roomId: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Rooms from './views/Rooms';\nimport Messages from './views/Messages/Messages';\nimport Window from '../common/Window/Window';\nimport { getRoomById, getWhisperRoomName } from '../../redux/selectors/rooms';\nimport { getPublicRoomId } from '../../redux/selectors/config';\nimport store from '../../redux/store';\nimport { getIdentityById, getIsAnonymous } from '../../redux/selectors/users';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport { ReactComponent as Close } from '../../icons/close.svg';\nimport { ReactComponent as Maximize } from '../../icons/maximize.svg';\nimport { ReactComponent as Settings } from '../../icons/settings.svg';\nimport { ReactComponent as Image } from '../../icons/image.svg';\nimport { ReactComponent as User } from '../../icons/user.svg';\nimport { ReactComponent as Lock } from '../../icons/lock.svg';\nimport { ReactComponent as ChatIcon } from '../../icons/chat.svg';\nimport ChatFileMenu from './lists/FileMenu/ChatFileMenu';\n\nimport './Chat.scss';\n\nconst Chat = ({ id, index, roomId, messageId }) => {\n  const [currentRoomId, setRoomId] = useState(roomId || getPublicRoomId(store.getState()));\n  const room = useSelector((state) => getRoomById(state, { id: currentRoomId }));\n  const isAnonymous = useSelector(getIsAnonymous);\n\n  useEffect(() => {\n    if ((isAnonymous || !room) && currentRoomId !== getPublicRoomId(store.getState())) {\n      setRoomId(getPublicRoomId(store.getState()));\n    }\n  }, [room, isAnonymous]);\n\n  useEffect(() => {\n    if (roomId && currentRoomId !== roomId) {\n      setRoomId(roomId);\n    }\n  }, [roomId]);\n\n  const title = (() => {\n    if (!room) {\n      return 'Chat';\n    }\n\n    if (room.isUser) {\n      const identity = getIdentityById(store.getState(), { id: currentRoomId });\n\n      return `PM: ${identity.aliasName || identity.username}`;\n    }\n\n    if (room.isWhisper) {\n      return `PM: ${getWhisperRoomName(store.getState(), { ids: room.participantIds })}`;\n    }\n\n    return `Chat: ${room.roomName}`;\n  })();\n\n  const onChange = useCallback(({ roomId: newRoomId } = {}) => {\n    setRoomId(newRoomId);\n  }, []);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.CHAT } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"Chat\"\n      title={title}\n      onClick={onClick}\n      menu={(\n        <>\n          <ChatFileMenu roomId={currentRoomId} id={id} />\n          <Rooms\n            roomId={currentRoomId}\n            key=\"rooms\"\n            onChange={onChange}\n          />\n        </>\n      )}\n      help={(\n        <ul>\n          <li>\n            <p>\n              <ChatIcon />\n              <span>CHAT APP Read and send messages, to users or rooms.</span>\n            </p>\n            <p>You can only read the Public chat without logging in.</p>\n            <p>Menus are on the left (or top in smaller windows). Messages from the current room are to the right (or below).</p>\n            <p>Your current room is shown in the title (CHAT: public) and in JOINED.</p>\n          </li>\n          <li>\n            <p>SEND The message input is shown on the bottom when you are logged in. You can send the message with either alt+Enter or clicking Send.</p>\n            <p>\n              <Image />\n              <span>IMAGE Attach an image. You can send a message with just an image.</span>\n            </p>\n            <p>\n              <User />\n              <span>YOU Your name. Click it to switch identities.</span>\n            </p>\n          </li>\n          <li>\n            <p>\n              FILE You can create a room, change settings (like changing password or name) or remove the room you are in.\n            </p>\n            <p>JOINED Shows you the rooms you joined. Click one to switch to it.</p>\n            <p>PM All private conversations are shown here. It always shows your name on the left.</p>\n            <p>\n              <span>{'ROOMS All available rooms that you haven\\'t joined yet.'}</span>\n              <Lock />\n              <span> means that the room is password-protected.</span>\n            </p>\n            <p>\n              <span>USERS All users. Send a private message to a user by clicking them and choosing </span>\n              <ChatIcon />\n              <span> in the pop-up.</span>\n            </p>\n          </li>\n          <li>\n            <Settings />\n            <span>APP SETTINGS Change settings for this app. You have to be logged in to access it.</span>\n          </li>\n          <li>\n            <Maximize />\n            <span>MAXIMIZE Make the window expand and take up all available space. Clicking it again will shrink the window.</span>\n          </li>\n          <li>\n            <Close />\n            <span>CLOSE Close the window</span>\n          </li>\n        </ul>\n      )}\n    >\n      <Messages\n        key=\"messages\"\n        messageId={messageId}\n        roomId={currentRoomId}\n        onSend={onChange}\n      />\n    </Window>\n  );\n};\n\nexport default React.memo(Chat);\n\nChat.propTypes = {\n  id: string.isRequired,\n  roomId: string,\n  index: number.isRequired,\n  messageId: string,\n};\n\nChat.defaultProps = {\n  roomId: undefined,\n  messageId: undefined,\n};\n","import React from 'react';\nimport {\n  func,\n  arrayOf,\n  string,\n  shape,\n  node, number,\n} from 'prop-types';\nimport Window from '../../Window/Window';\n\nimport './Dialog.scss';\nimport Button from '../../sub-components/Button/Button';\nimport store from '../../../../redux/store';\nimport { removeWindow } from '../../../../redux/actions/windowOrder';\n\nconst Dialog = ({\n  children,\n  title,\n  error,\n  text,\n  done,\n  onClick,\n  index,\n  id,\n  buttons,\n  className = '',\n}) => (\n  <Window\n    id={id}\n    index={index}\n    type=\"dialog\"\n    done={done}\n    title={title}\n    className={`Dialog ${className}`}\n    onClick={onClick}\n  >\n    {error && (\n      <div className=\"error\">\n        <span>{error.message}</span>\n      </div>\n    )}\n    {text && (\n      <div>{text}</div>\n    )}\n    {children}\n    {buttons.length > 0 && (\n      <div className=\"buttons\">\n        <Button stopPropagation type=\"button\" onClick={() => store.dispatch(removeWindow({ id }))}>\n          Cancel\n        </Button>\n        {buttons}\n      </div>\n    )}\n  </Window>\n);\n\nexport default React.memo(Dialog);\n\nDialog.propTypes = {\n  done: func.isRequired,\n  children: node,\n  error: shape({\n    type: string.isRequired,\n    text: arrayOf(string).isRequired,\n  }),\n  title: string,\n  text: string,\n  className: string,\n  onClick: func.isRequired,\n  index: number.isRequired,\n  id: string.isRequired,\n  buttons: arrayOf(node),\n};\n\nDialog.defaultProps = {\n  children: undefined,\n  error: undefined,\n  title: undefined,\n  text: undefined,\n  className: '',\n  buttons: undefined,\n};\n","import React, { useCallback, useEffect } from 'react';\nimport { batch, useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport Dialog from './Dialog/Dialog';\nimport { getCurrentUser, getIdentityById } from '../../../redux/selectors/users';\nimport Button from '../sub-components/Button/Button';\nimport { getWhisperRoom } from '../../../redux/selectors/rooms';\nimport store from '../../../redux/store';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { ReactComponent as Wallet } from '../../../icons/wallet.svg';\nimport { ReactComponent as Chat } from '../../../icons/chat.svg';\nimport { ReactComponent as Pin } from '../../../icons/pin.svg';\nimport { getTeamsByIds } from '../../../redux/selectors/teams';\nimport Image from '../sub-components/Image/Image';\nimport { updateUser } from '../../../socket/actions/users';\n\nconst IdentityDialog = ({ id, identityId, index }) => {\n  const identity = useSelector((state) => getIdentityById(state, { id: identityId }));\n  const currentIdentityId = useSelector(getCurrentIdentityId);\n  const { objectId: userId, hasSeen = [], isAnonymous } = useSelector(getCurrentUser);\n  const teams = useSelector((state) => getTeamsByIds(state, { ids: identity.partOfTeams }));\n\n  useEffect(() => {\n    if (!isAnonymous && !hasSeen.includes(identity.objectId)) {\n      updateUser({\n        userId,\n        user: {\n          hasSeen: hasSeen.concat([identity.objectId]),\n        },\n      })\n        .catch((error) => console.log(error));\n    }\n  }, [hasSeen, identity]);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGIDENTITY, identityId } }] }));\n  }, [id, identityId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const transferCall = useCallback(() => batch(() => {\n    store.dispatch(changeWindowOrder({\n      windows: [{\n        id: `${WindowTypes.DIALOGCREATETRANSACTION}-${identityId}`,\n        value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId: identityId },\n      }],\n    }));\n    store.dispatch(removeWindow({ id }));\n  }), [identityId, id]);\n\n  const whisperCall = useCallback(() => {\n    const room = getWhisperRoom(store.getState(), { identityId, currentIdentityId });\n\n    batch(() => {\n      store.dispatch(changeWindowOrder({\n        windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: room.objectId } }],\n      }));\n      store.dispatch(removeWindow({ id }));\n    });\n  }, [identityId, currentIdentityId, id]);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title={`User: ${identity.aliasName || identity.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={currentIdentityId !== '-1' && [\n        <Button\n          stopPropagation\n          key=\"transfer\"\n          type=\"button\"\n          onClick={transferCall}\n        >\n          <Wallet />\n        </Button>,\n        <Button\n          stopPropagation\n          key=\"whisper\"\n          type=\"button\"\n          onClick={whisperCall}\n        >\n          <Chat />\n        </Button>,\n        <Button\n          stopPropagation\n          key=\"gps\"\n          type=\"button\"\n          onClick={() => {}}\n        >\n          <Pin />\n        </Button>,\n      ]}\n    >\n      {identity.image && (\n        <Image\n          scrollTo\n          image={`/upload/images/${identity.image.thumbFileName}`}\n          altText=\"pic\"\n          width={identity.image.thumbWidth}\n          height={identity.image.thumbHeight}\n          fullImage={`/upload/images/${identity.image.fileName}`}\n          fullWidth={identity.image.width}\n          fullHeight={identity.image.height}\n        />\n      )}\n      <p>{`Name: ${identity.aliasName || identity.username}`}</p>\n      {teams.size > 0 && (<p>{`Affiliations: ${[...teams.values()].map((team) => team.teamName).join(', ')}`}</p>)}\n      {identity.description && identity.description.length > 0 && (\n        <div className=\"description\">\n          {identity.description.map((line, lineIndex) => <p key={lineIndex}>{line}</p>)}\n        </div>\n      )}\n    </Dialog>\n  );\n};\n\nexport default React.memo(IdentityDialog);\n\nIdentityDialog.propTypes = {\n  identityId: string.isRequired,\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { createRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\n\nconst CreateRoomDialog = ({ id, index }) => {\n  const methods = useForm();\n\n  const onSubmit = ({\n    roomName,\n    password,\n    topic,\n  }) => {\n    const room = {\n      roomName,\n      password,\n      topic,\n    };\n\n    createRoom({ room })\n      .then(({ room: newRoom }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId: newRoom.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  if (methods.errors.repeatPassword) {\n    methods.setValue('repeatPassword', '');\n  }\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateRoomDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEROOM } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title=\"New room\"\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={() => methods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <Input\n            required\n            maxLength={20}\n            name=\"roomName\"\n            placeholder=\"Name of the room\"\n          />\n          <Input\n            maxLength={300}\n            name=\"topic\"\n            placeholder=\"(opt) Topic (shown when joining the room)\"\n          />\n          <Input\n            minLength={4}\n            maxLength={100}\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"(opt) Password\"\n          />\n          <Input\n            minLength={4}\n            maxLength={100}\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            type=\"password\"\n            placeholder={`${methods.errors.repeatPassword ? 'Error. Passwords must match!' : '(opt) Repeat password'}`}\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateRoomDialog);\n\nCreateRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport Button from '../../common/sub-components/Button/Button';\nimport { removeRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RemoveRoomDialog = ({ id, roomId, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n\n  const onSubmit = () => {\n    removeRoom({ roomId })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((removeError) => setError(removeError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"RemoveRoomDialog\"\n      error={error}\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREMOVEROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={`Delete room ${room ? room.roomName : ''}`}\n      text={`Are you sure you want to delete ${room ? room.roomName : ''}?`}\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={onSubmit}\n        >\n          Yes\n        </Button>,\n      ]}\n    />\n  );\n};\n\nexport default React.memo(RemoveRoomDialog);\n\nRemoveRoomDialog.propTypes = {\n  id: string.isRequired,\n  roomId: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Input from '../sub-components/Input/Input';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst LoginDialog = ({ id, index }) => {\n  const methods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = async ({\n    username,\n    password,\n  }) => {\n    login(username, password)\n      .then(() => {\n        // TODO Notification: You are logged in\n        store.dispatch(removeWindow({ id }));\n      })\n      .catch((loginError) => {\n        setError(loginError);\n      });\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGLOGIN } }] }));\n  }, [id]);\n\n  const onSubmitCall = useCallback(() => methods.handleSubmit(onSubmit)(), []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"LoginDialog\"\n      onClick={onClick}\n      done={onDone}\n      error={error}\n      title=\"Login\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Login\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <Input\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Input\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(LoginDialog);\n\nLoginDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  arrayOf,\n  bool,\n  element,\n  func, oneOfType,\n  string,\n} from 'prop-types';\nimport { useFormContext } from 'react-hook-form';\n\nimport './Select.scss';\n\nconst Select = ({\n  onChange,\n  children,\n  name,\n  defaultValue,\n  required = false,\n  placeholder = '',\n  multiple = false,\n}) => {\n  const { register, unregister } = useFormContext();\n  const [hasFocus, setHasFocus] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  const checkEmpty = (event) => {\n    const selectedOptions = Array\n      .from(event.target.selectedOptions)\n      .filter((option) => option.value !== '');\n\n    if (hasFocus && required) {\n      setIsEmpty(selectedOptions.length === 0);\n    }\n  };\n\n  const onChangeFunc = (event) => {\n    checkEmpty(event);\n\n    if (onChange) {\n      onChange(Array\n        .from(event.target.selectedOptions)\n        .map((option) => option.value)\n        .filter((value) => value !== ''));\n    }\n  };\n\n  useEffect(() => () => unregister(name), []);\n\n  return (\n    <select\n      defaultValue={defaultValue}\n      required={required}\n      name={name}\n      ref={register}\n      className={`Select ${isEmpty ? 'empty' : ''}`}\n      onFocus={() => setHasFocus(true)}\n      onBlur={checkEmpty}\n      onChange={onChangeFunc}\n      placeholder={placeholder}\n      multiple={multiple}\n    >\n      {children}\n    </select>\n  );\n};\n\nexport default Select;\n\nSelect.propTypes = {\n  multiple: bool,\n  children: arrayOf(element),\n  placeholder: string,\n  onChange: func,\n  required: bool,\n  name: string.isRequired,\n  defaultValue: oneOfType([string, arrayOf(string)]),\n};\n\nSelect.defaultProps = {\n  multiple: false,\n  children: undefined,\n  placeholder: '',\n  required: false,\n  onChange: undefined,\n  defaultValue: undefined,\n};\n","import React, { useCallback, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport { login } from '../../../socket/actions/auth';\nimport Select from '../sub-components/Select/Select';\nimport Input from '../sub-components/Input/Input';\nimport Textarea from '../sub-components/Textarea/Textarea';\nimport { getRequireOffName } from '../../../redux/selectors/config';\nimport Button from '../sub-components/Button/Button';\nimport { createUser } from '../../../socket/actions/users';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\n\nconst RegisterDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n  const [error, setError] = useState();\n  const requireOffName = useSelector(getRequireOffName);\n\n  const onSubmit = async ({\n    offName,\n    username,\n    password,\n    repeatPassword,\n    pronouns,\n    description,\n  }) => {\n    if ((requireOffName && !offName) || !username || !password || !repeatPassword || !pronouns) {\n      return;\n    }\n\n    if (password !== repeatPassword) {\n      return;\n    }\n\n    const params = {\n      image,\n      user: {\n        offName,\n        username,\n        password,\n        pronouns,\n        description: description ? description.split('\\n') : undefined,\n      },\n    };\n\n    try {\n      await createUser(params);\n\n      // TODO If no auto-login, Notification: User registered\n\n      await login(username, password);\n\n      // TODO Notification: You are logged in as user\n\n      store.dispatch(removeWindow({ id }));\n    } catch (registerError) {\n      setError(registerError);\n    }\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGREGISTER } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      error={error}\n      onClick={onClick}\n      done={onDone}\n      title=\"Register user\"\n      buttons={[\n        <Button\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Register\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          {\n            requireOffName && (\n              <Input\n                required\n                name=\"offName\"\n                placeholder=\"Out-of-game name\"\n              />\n            )\n          }\n          <Input\n            required\n            name=\"username\"\n            placeholder=\"Username\"\n          />\n          <Select\n            multiple\n            required\n            name=\"pronouns\"\n          >\n            <option value=\"\">---Choose pronouns---</option>\n            <option value=\"they\">They/Them</option>\n            <option value=\"she\">She/Her</option>\n            <option value=\"he\">He/Him</option>\n            <option value=\"it\">It</option>\n          </Select>\n          <Input\n            required\n            name=\"password\"\n            placeholder=\"Password\"\n            type=\"password\"\n          />\n          <Input\n            required\n            shouldEqual=\"password\"\n            name=\"repeatPassword\"\n            placeholder=\"Repeat password\"\n            type=\"password\"\n          />\n          <Textarea\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(RegisterDialog);\n\nRegisterDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createNewAlias } from '../../redux/actions/aliases';\n\nexport const createAlias = async (params) => {\n  const result = await emitSocketEvent(SendEvents.ALIAS, params);\n\n  await store.dispatch(createNewAlias(result));\n\n  return result;\n};\n","import React, { useCallback, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input/Input';\nimport Select from '../sub-components/Select/Select';\nimport Textarea from '../sub-components/Textarea/Textarea';\nimport { createAlias } from '../../../socket/actions/aliases';\n\nconst CreateAliasDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    aliasName,\n    pronouns,\n    description,\n  }) => {\n    const params = {\n      image,\n      alias: {\n        aliasName,\n        pronouns,\n        description,\n      },\n    };\n\n    createAlias(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEALIAS } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title=\"New alias\"\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <Input\n            required\n            name=\"aliasName\"\n            placeholder=\"Alias name\"\n          />\n          <Select\n            multiple\n            required\n            name=\"pronouns\"\n          >\n            <option value=\"\">---Choose pronouns---</option>\n            <option value=\"they\">They/Them</option>\n            <option value=\"she\">She/Her</option>\n            <option value=\"he\">He/Him</option>\n            <option value=\"it\">It</option>\n          </Select>\n          <Textarea\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateAliasDialog);\n\nCreateAliasDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import { emitSocketEvent, SendEvents } from '../SocketManager';\nimport store from '../../redux/store';\nimport { doTransaction } from '../../redux/actions/transactions';\nimport { getAliasId } from '../../redux/selectors/aliasId';\n\nexport const createTransaction = async ({ transaction }) => {\n  const transactionToCreate = {\n    ...transaction,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n  };\n  const result = await emitSocketEvent(SendEvents.TRANSACTION, { transaction: transactionToCreate });\n\n  await store.dispatch(doTransaction(result));\n\n  return result;\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\n\nimport Dialog from './Dialog/Dialog';\nimport Button from '../sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport Input from '../sub-components/Input/Input';\nimport Select from '../sub-components/Select/Select';\nimport { createTransaction } from '../../../socket/actions/transactions';\nimport { getWalletIdsByCurrentUser } from '../../../redux/selectors/wallets';\nimport { getIdentitiesOrTeamsByIds, getIdentityOrTeamById } from '../../../redux/selectors/users';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\n\nconst CreateTransactionDialog = ({ id, toWalletId, index }) => {\n  const formMethods = useForm();\n  const identityId = useSelector(getCurrentIdentityId);\n  const walletIds = useSelector(getWalletIdsByCurrentUser);\n  const identities = useSelector((state) => getIdentitiesOrTeamsByIds(state, { ids: walletIds }));\n  const toIdentity = useSelector((state) => getIdentityOrTeamById(state, { id: toWalletId }));\n  const walletOptions = [];\n\n  const onSubmit = async ({\n    note,\n    amount,\n    fromWalletId,\n  }) => {\n    const transaction = {\n      note,\n      amount,\n      fromWalletId,\n      toWalletId,\n    };\n\n    createTransaction({ transaction })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  identities.forEach((identity) => {\n    walletOptions.push((\n      <option\n        key={identity.objectId}\n        value={identity.objectId}\n      >\n        {identity.teamName || identity.aliasName || identity.username}\n      </option>\n    ));\n  });\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATETRANSACTION, toWalletId } }] }));\n  }, [id, toWalletId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onSubmitCall = useCallback(() => formMethods.handleSubmit(onSubmit)(), []);\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      title={`Transfer to ${toIdentity.teamName || toIdentity.aliasName || toIdentity.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={onSubmitCall}\n        >\n          Transfer\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <p>{`You are making a transfer to ${toIdentity.teamName || toIdentity.aliasName || toIdentity.username}`}</p>\n          <div>\n            <span>From your wallet: </span>\n            <Select\n              required\n              defaultValue={identityId}\n              name=\"fromWalletId\"\n            >\n              <option value=\"\">---Choose wallet---</option>\n              <>{walletOptions}</>\n            </Select>\n          </div>\n          <Input\n            required\n            name=\"amount\"\n            placeholder=\"Amount\"\n          />\n          <Input\n            name=\"note\"\n            placeholder=\"Note\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateTransactionDialog);\n\nCreateTransactionDialog.propTypes = {\n  id: string.isRequired,\n  toWalletId: string.isRequired,\n  index: number.isRequired,\n};\n","import createCachedSelector from 're-reselect';\n\nexport const getAllDocFiles = (state) => state.docFiles;\n\nexport const getDocFileById = (state, { id }) => state.docFiles.get(id);\n\nexport const getDocFileIdsNames = createCachedSelector(\n  [getAllDocFiles],\n  (docFiles) => [...docFiles.values()].map(({ objectId, title }) => ({ objectId, title })),\n)(() => 'docFile-ids-names');\n","import {\n  SendEvents,\n  emitSocketEvent,\n} from '../SocketManager';\nimport store from '../../redux/store';\nimport { createDocFiles, updateDocFiles } from '../../redux/actions/docFiles';\nimport { getAliasId } from '../../redux/selectors/aliasId';\nimport { getDocFileById } from '../../redux/selectors/docFiles';\nimport { getCurrentUser } from '../../redux/selectors/users';\nimport { hasAccessTo } from '../../AccessCentral';\n\nexport const createDocFile = async ({ docFile, images }) => {\n  const docFileToCreate = {\n    ...docFile,\n    code: docFile.code !== '' ? docFile.code : undefined,\n    ownerAliasId: getAliasId(store.getState()) || undefined,\n    text: docFile.text.split('\\n'),\n  };\n\n  const result = await emitSocketEvent(SendEvents.DOCFILE, { docFile: docFileToCreate, images });\n\n  await store.dispatch(createDocFiles({ docFiles: [result.docFile] }));\n\n  return result;\n};\n\nexport const unlockDocFile = async ({ docFileId, code }) => {\n  const data = {\n    docFileId,\n    code,\n    aliasId: getAliasId(store.getState()) || undefined,\n  };\n  const currentUser = getCurrentUser(store.getState());\n  const storedDocFile = getDocFileById(store.getState(), { id: docFileId });\n\n  if (currentUser.isAnonymous && storedDocFile.isPublic) {\n    return { docFile: storedDocFile };\n  }\n\n  const { hasAccess, adminAccess } = hasAccessTo({\n    toAuth: currentUser,\n    objectToAccess: {\n      ...storedDocFile,\n      isPublic: false,\n    },\n  });\n\n  if (hasAccess && !adminAccess) {\n    return { docFile: storedDocFile };\n  }\n\n  const result = await emitSocketEvent(SendEvents.UNLOCKDOCFILE, data);\n\n  await store.dispatch(updateDocFiles({ docFiles: [result.docFile] }));\n\n  return result;\n};\n","import React from 'react';\nimport { func, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getDocFileById } from '../../../../../redux/selectors/docFiles';\nimport { ReactComponent as Lock } from '../../../../../icons/lock.svg';\nimport store from '../../../../../redux/store';\nimport { changeWindowOrder } from '../../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../../redux/reducers/windowOrder';\nimport { getCurrentAccessLevel } from '../../../../../redux/selectors/users';\nimport { AccessLevels } from '../../../../../AccessCentral';\nimport { unlockDocFile } from '../../../../../socket/actions/docFiles';\n\nimport './DocFileItem.scss';\n\nconst DocFileItem = ({ docFileId, onChange }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const accessLevel = useSelector(getCurrentAccessLevel);\n\n  return (\n    <ListItem\n      stopPropagation\n      elementId={`docFile-${docFileId}`}\n      className=\"DocFileItem\"\n      key={docFile.objectId}\n      onClick={() => {\n        if (docFile.isLocked && accessLevel < AccessLevels.ADMIN) {\n          store.dispatch(changeWindowOrder({\n            windows: [{\n              id: `${WindowTypes.DIALOGUNLOCKROOM}-${docFileId}`,\n              value: {\n                docFileId,\n                type: WindowTypes.DIALOGUNLOCKROOM,\n              },\n            }],\n          }));\n\n          return;\n        }\n\n        unlockDocFile({ docFileId })\n          .then(() => onChange(docFileId))\n          .catch((error) => console.log(error));\n      }}\n    >\n      {docFile.title}\n      {docFile.isLocked && (\n        <div className=\"lock\"><Lock /></div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(DocFileItem);\n\nDocFileItem.propTypes = {\n  docFileId: string.isRequired,\n  onChange: func.isRequired,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { func } from 'prop-types';\nimport { useForm, useWatch } from 'react-hook-form';\n\nimport List from '../../../common/lists/List/List';\nimport { getDocFileIdsNames } from '../../../../redux/selectors/docFiles';\nimport DocFileItem from './Item/DocFileItem';\nimport SearchItem from '../../../common/lists/List/Search/SearchItem';\n\nconst DocFileList = ({ onChange }) => {\n  const listRef = useRef();\n  const formMethods = useForm();\n  const partial = useWatch({ control: formMethods.control, name: 'search' });\n  const docFiles = useSelector(getDocFileIdsNames);\n\n  const items = (() => {\n    let files = docFiles\n      .sort((a, b) => {\n        const valueA = a.title.toLowerCase();\n        const valueB = b.title.toLowerCase();\n\n        if (valueA > valueB) {\n          return 1;\n        }\n\n        if (valueA < valueB) {\n          return -1;\n        }\n\n        return 0;\n      });\n\n    if (partial && partial.length > 0) {\n      files = files.filter((file) => file.title.toLowerCase().includes(partial.toLowerCase()) || (file.tags || []).includes(partial.toLowerCase()));\n    }\n\n    return files.map(({ objectId }) => <DocFileItem key={objectId} docFileId={objectId} onChange={onChange} />);\n  })();\n\n  const onSubmit = () => {\n    if (items.length === 0) {\n      formMethods.reset();\n    } else if (items.length === 1) {\n      const docFileItem = listRef.current.querySelector(`#docFile-${items[0].key}`);\n\n      if (docFileItem) {\n        docFileItem.click();\n\n        formMethods.reset();\n      }\n    }\n  };\n\n  return (\n    <List\n      alwaysExpanded\n      ref={listRef}\n    >\n      <SearchItem onSubmit={onSubmit} formMethods={formMethods} placeholder=\"Search by tile/tags\" />\n      {items}\n    </List>\n  );\n};\n\nexport default React.memo(DocFileList);\n\nDocFileList.propTypes = {\n  onChange: func.isRequired,\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\nimport { getDocFileById } from '../../../redux/selectors/docFiles';\nimport { getIdentityOrTeamById } from '../../../redux/selectors/users';\nimport { ReactComponent as Close } from '../../../icons/close.svg';\n\nimport './DocFileViewer.scss';\n\nconst DocFileViewer = ({ docFileId }) => {\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const identity = useSelector((state) => getIdentityOrTeamById(state, { id: docFile.ownerAliasId || docFile.ownerId }));\n\n  return (\n    <div className=\"DocFileViewer\">\n      <div className=\"close\"></div>\n      <h1 className=\"title\">{docFile.title}</h1>\n      <div className=\"info\">\n        <p className=\"author\">{`Author: ${identity.teamName || identity.aliasName || identity.username}`}</p>\n        <p className=\"code\">{`Code: ${docFile.code}`}</p>\n        <p className=\"public\">{`Public: ${docFile.isPublic ? 'Yes' : 'No'}`}</p>\n      </div>\n      <div className=\"text\">{docFile.text.join('\\n')}</div>\n    </div>\n  );\n};\n\nexport default React.memo(DocFileViewer);\n\nDocFileViewer.propTypes = {\n  docFileId: string.isRequired,\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\n\nimport './DocFile.scss';\nimport FileMenu from '../common/lists/FileMenu';\nimport ListItem from '../common/lists/List/Item/ListItem';\nimport DocFileList from './lists/DocFile/DocFileList';\nimport DocFileViewer from './Viewer/DocFileViewer';\nimport { getDocFileById } from '../../redux/selectors/docFiles';\n\nconst DocFile = ({ id, docFileId, index }) => {\n  const [currentDocFileId, setDocFileId] = useState();\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n\n  useEffect(() => {\n    if (docFileId && currentDocFileId !== docFileId) {\n      setDocFileId(docFileId);\n    }\n  }, [docFileId]);\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DOCFILE } }] }));\n  }, []);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onChange = useCallback((newDocFileId) => setDocFileId(newDocFileId), []);\n\n  const onCreate = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATEDOCFILE, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] })));\n\n  return (\n    <Window\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"DocFile\"\n      title={`${docFile ? `Document: ${docFile.title}` : 'Documents'}`}\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu id={id}>\n            <ListItem\n              stopPropagation\n              onClick={onCreate}\n              key=\"createDocFile\"\n            >\n              New document\n            </ListItem>\n          </FileMenu>\n        </>\n      )}\n    >\n      <DocFileList onChange={onChange} />\n      {currentDocFileId && (\n        <DocFileViewer key=\"viewer\" docFileId={currentDocFileId} onChange={onChange} />\n      )}\n    </Window>\n  );\n};\n\nexport default React.memo(DocFile);\n\nDocFile.propTypes = {\n  id: string.isRequired,\n  docFileId: string,\n  index: number.isRequired,\n};\n\nDocFile.defaultProps = {\n  docFileId: undefined,\n}\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useForm, FormProvider } from 'react-hook-form';\nimport { createDocFile } from '../../../../socket/actions/docFiles';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport Dialog from '../../../common/dialogs/Dialog/Dialog';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport Input from '../../../common/sub-components/Input/Input';\nimport IdentityPicker from '../../../common/lists/IdentityPicker/IdentityPicker';\nimport Textarea from '../../../common/sub-components/Textarea/Textarea';\nimport Button from '../../../common/sub-components/Button/Button';\n\nimport './CreateDocFileDialog.scss';\n\nconst CreateDocFileDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const [image, setImage] = useState();\n\n  const onSubmit = async ({\n    title,\n    text,\n    code,\n    isPublic,\n  }) => {\n    const params = {\n      images: image ? [image] : undefined,\n      docFile: {\n        title,\n        text,\n        code,\n        isPublic,\n      },\n    };\n\n    createDocFile(params)\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateDocFileDialog\"\n      title=\"New document\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATEDOCFILE } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are:</span>\n            <IdentityPicker />\n          </div>\n          <div className=\"public\">\n            <Input\n              type=\"checkbox\"\n              name=\"isPublic\"\n            />\n            <span>Do you want it to be available to the public? (A user with the right code can always access the document)</span>\n          </div>\n          <Input\n            required\n            maxLength={40}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <Input\n            name=\"code\"\n            placeholder=\"Code\"\n          />\n          <Textarea\n            required\n            maxLength={3500}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateDocFileDialog);\n\nCreateDocFileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"line\", {\n  x1: 5,\n  y1: 12,\n  x2: 19,\n  y2: 12\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"12 5 19 12 12 19\"\n});\n\nvar SvgArrowRight = function SvgArrowRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-arrow-right\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-right.ac022e1b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport store from '../../../../redux/store';\nimport { changeWindowOrder } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { ReactComponent as Arrow } from '../../../../icons/arrow-right.svg';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\nimport { getMessageById } from '../../../../redux/selectors/messages';\n\nimport './NewsItem.scss';\n\nconst NewsItem = ({ messageId }) => {\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n\n  return (\n    <ListItem\n      className=\"DashNewsItem\"\n      key={message.objectId}\n      onClick={() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }))}\n    >\n      <p>\n        {message.text[0]}\n        <Arrow />\n      </p>\n    </ListItem>\n  );\n};\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  messageId: string.isRequired,\n};\n","import React from 'react';\n\nimport { useSelector } from 'react-redux';\nimport { getIdentityName, getIsAnonymous } from '../../../redux/selectors/users';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getNews, getNewsIdsPoints } from '../../../redux/selectors/messages';\nimport List from '../../common/lists/List/List';\nimport ListItem from '../../common/lists/List/Item/ListItem';\nimport NewsItem from './Item/NewsItem';\nimport { getHideMenu } from '../../../redux/selectors/interfaceConfig';\nimport OpenApps from '../../MenuBar/lists/OpenApps/OpenApps';\nimport MainList from '../../MenuBar/lists/MainList';\nimport Clock from '../../MenuBar/sub-components/Clock/Clock';\nimport { getTimestamp } from '../../../TextTools';\nimport { getDayModification, getYearModification } from '../../../redux/selectors/config';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\n\nimport './Dashboard.scss';\n\nconst Dashboard = () => {\n  const identityId = useSelector(getCurrentIdentityId);\n  const isAnonymous = useSelector(getIsAnonymous);\n  const name = useSelector((state) => getIdentityName(state, { id: identityId }));\n  const wallet = useSelector((state) => getWalletById(state, { id: identityId }));\n  const news = useSelector(getNewsIdsPoints);\n  const hideMenu = useSelector(getHideMenu);\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: new Date(), dayModification, yearModification });\n\n  const newsMapper = () => {\n    if (!news || news.length === 0) {\n      return [<ListItem key=\"noNews\">There are no news.</ListItem>];\n    }\n\n    return news\n      .sort((a, b) => {\n        const valueA = a.points;\n        const valueB = b.points;\n\n        if (valueA > valueB) {\n          return -1;\n        }\n\n        if (valueA < valueB) {\n          return 1;\n        }\n\n        return 0;\n      })\n      .slice(0, 5)\n      .map((message) => (\n        <NewsItem key={message.objectId} messageId={message.objectId} />\n      ));\n  };\n\n  return (\n    <div className=\"Dashboard\">\n      {hideMenu && (\n        <div className=\"nav\">\n          <MainList />\n          <OpenApps />\n          <Clock />\n        </div>\n      )}\n      {isAnonymous && (\n        <>\n          <p>Welcome!</p>\n          <p>{timestamp.fullDate}</p>\n          <List\n            alwaysExpanded\n            title=\"Top News\"\n            className=\"news\"\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n      {!isAnonymous && (\n        <>\n          <p>{`Welcome, ${name}!`}</p>\n          <p>{`Today's date is ${timestamp.fullDate}`}</p>\n          {wallet && (\n            <p>{`You have ${wallet.amount} in your wallet.`}</p>\n          )}\n          <List\n            alwaysExpanded\n            title=\"News\"\n            className=\"news\"\n          >\n            {newsMapper()}\n          </List>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Dashboard);\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"6 9 12 15 18 9\"\n});\n\nvar SvgChevronDown = function SvgChevronDown(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-down\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronDown, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-down.8eb39ce4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polyline\", {\n  points: \"18 15 12 9 6 15\"\n});\n\nvar SvgChevronUp = function SvgChevronUp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-chevron-up\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChevronUp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chevron-up.a17a631c.svg\";\nexport { ForwardRef as ReactComponent };","import React, {\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  bool,\n  string,\n} from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport { getMessageById } from '../../../../../redux/selectors/messages';\nimport ListItem from '../../../../common/lists/List/Item/ListItem';\nimport { getIdentityName } from '../../../../../redux/selectors/users';\nimport Image from '../../../../common/sub-components/Image/Image';\nimport { ReactComponent as ChevronDown } from '../../../../../icons/chevron-down.svg';\nimport { ReactComponent as ChevronUp } from '../../../../../icons/chevron-up.svg';\nimport { getDayModification, getYearModification } from '../../../../../redux/selectors/config';\nimport { getTimestamp } from '../../../../../TextTools';\n\nimport './NewsItem.scss';\n\nconst NewsItem = ({\n  messageId,\n  expand = false,\n  className = '',\n}) => {\n  const itemRef = useRef();\n  const [showText, setShowText] = useState(false);\n  const message = useSelector((state) => getMessageById(state, { id: messageId }));\n  const name = useSelector((state) => getIdentityName(state, { id: message.ownerAliasId || message.ownerId }));\n  const dayModification = useSelector(getDayModification);\n  const yearModification = useSelector(getYearModification);\n  const timestamp = getTimestamp({ date: message.customTimeCreated || message.timeCreated, dayModification, yearModification });\n\n  useEffect(() => {\n    setShowText(expand);\n  }, [expand]);\n\n  return (\n    <ListItem\n      scrollTo={showText}\n      ref={itemRef}\n      elementId={`news-${messageId}`}\n      onClick={() => setShowText(!showText)}\n      className={`NewsItem ${showText ? 'expanded' : ''} ${className}`}\n    >\n      <div className=\"title\">\n        <p>{message.text[0]}</p>\n        <p className=\"info\">\n          <span>\n            {`${timestamp.halfDate} `}\n            {timestamp.halfTime}\n          </span>\n          <span>{` By: ${name}`}</span>\n          {!showText && <ChevronDown />}\n          {showText && <ChevronUp />}\n        </p>\n      </div>\n      {showText && (\n        <div className=\"newsContent\">\n          {message.image && message.image.thumbFileName && (\n            <Image\n              image={`/upload/images/${message.image.thumbFileName}`}\n              fullImage={`/upload/images/${message.image.fileName}`}\n              altText=\"pic\"\n              width={message.image.thumbWidth}\n              height={message.image.thumbHeight}\n              fullWidth={message.image.width}\n              fullHeight={message.image.height}\n            />\n          )}\n          <div className=\"text\">\n            {message.text.slice(1).map((line, index) => <p key={index}>{line}</p>)}\n          </div>\n        </div>\n      )}\n    </ListItem>\n  );\n};\n\nexport default React.memo(NewsItem);\n\nNewsItem.propTypes = {\n  className: string,\n  messageId: string.isRequired,\n  expand: bool,\n};\n\nNewsItem.defaultProps = {\n  className: '',\n  expand: false,\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport { string } from 'prop-types';\n\nimport List from '../../../common/lists/List/List';\nimport { getNewsIdsPoints } from '../../../../redux/selectors/messages';\nimport NewsItem from './item/NewsItem';\n\nimport './NewsList.scss';\nimport ListItem from '../../../common/lists/List/Item/ListItem';\n\nconst NewsList = ({ messageId }) => {\n  const listRef = useRef(null);\n  const news = useSelector(getNewsIdsPoints);\n\n  const itemMapper = () => [...news]\n    .map((newsMessage) => (\n      <NewsItem\n        expand={newsMessage.objectId === messageId}\n        key={newsMessage.objectId}\n        messageId={newsMessage.objectId}\n      />\n    ));\n  const topMapper = () => [...news]\n    .filter((message) => message.points && message.points > 0)\n    .sort((a, b) => {\n      const valueA = a.points;\n      const valueB = b.points;\n\n      if (valueA > valueB) {\n        return -1;\n      }\n\n      if (valueA < valueB) {\n        return 1;\n      }\n\n      return 0;\n    })\n    .slice(0, 3)\n    .map((newsMessage) => (\n      <NewsItem\n        key={`top-${newsMessage.objectId}`}\n        messageId={newsMessage.objectId}\n        className=\"topNews\"\n      />\n    ));\n\n  return (\n    <List\n      observe=\"upper\"\n      ref={listRef}\n      className=\"NewsList\"\n    >\n      {news.length === 0 && (\n        [<ListItem key=\"noNews\"><p>There are no news</p></ListItem>]\n      )}\n      {topMapper().concat(itemMapper())}\n    </List>\n  );\n};\n\nexport default React.memo(NewsList);\n\nNewsList.propTypes = {\n  messageId: string,\n};\n\nNewsList.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useCallback } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nimport Window from '../common/Window/Window';\nimport store from '../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport NewsList from './lists/News/NewsList';\nimport FileMenu from '../common/lists/FileMenu';\nimport { getRoomById } from '../../redux/selectors/rooms';\nimport { getNewsRoomId } from '../../redux/selectors/config';\nimport ListItem from '../common/lists/List/Item/ListItem';\n\nimport './News.scss';\n\nconst News = ({ id, messageId, index }) => {\n  const newsRoom = useSelector((state) => getRoomById(state, { id: getNewsRoomId(state) }));\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.NEWS, messageId } }] }));\n  }, [messageId]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  const onCreateNews = useCallback(() => store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGCREATENEWS, value: { type: WindowTypes.DIALOGCREATENEWS } }] })), []);\n\n  const onSettings = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DIALOGSETTINGSNEWS, value: { type: WindowTypes.DIALOGSETTINGSNEWS } }] }));\n  }, [id]);\n\n  return (\n    <Window\n      onSettings={onSettings}\n      id={id}\n      index={index}\n      done={onDone}\n      className=\"News\"\n      title=\"News\"\n      onClick={onClick}\n      menu={(\n        <>\n          <FileMenu key=\"fileMenu\" id={id}>\n            {newsRoom && (\n              <ListItem\n                stopPropagation\n                key=\"createNews\"\n                onClick={onCreateNews}\n              >\n                New article\n              </ListItem>\n            )}\n          </FileMenu>\n        </>\n      )}\n    >\n      <NewsList messageId={messageId} />\n    </Window>\n  );\n};\n\nexport default React.memo(News);\n\nNews.propTypes = {\n  id: string.isRequired,\n  messageId: string,\n  index: number.isRequired,\n};\n\nNews.defaultProps = {\n  messageId: undefined,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport Textarea from '../../common/sub-components/Textarea/Textarea';\nimport { sendNewsMessage } from '../../../socket/actions/messages';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport ImageUpload from '../../common/sub-components/ImageUpload/ImageUpload';\nimport { getWalletById } from '../../../redux/selectors/wallets';\nimport { getCurrentIdentityId } from '../../../redux/selectors/userId';\nimport { getNewsCost } from '../../../redux/selectors/config';\n\nconst CreateNewsDialog = ({ id, index }) => {\n  const newsCost = useSelector(getNewsCost);\n  const identityId = useSelector(getCurrentIdentityId);\n  const wallet = useSelector((state) => getWalletById(state, { id: identityId }));\n  const formMethods = useForm();\n  const [error, setError] = useState();\n\n  const onSubmit = ({\n    title,\n    text,\n    image,\n  }) => {\n    sendNewsMessage({ title, text, image })\n      .then(({ message }) => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.NEWS, value: { type: WindowTypes.NEWS, messageId: message.objectId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((createError) => console.log(createError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"CreateNewsDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCREATENEWS } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title=\"New article\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Create\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are:</span>\n            <IdentityPicker />\n          </div>\n          <div>\n            <p>{`The article fee is: ${newsCost}`}</p>\n            <p>{`You have ${wallet.amount} in your wallet`}</p>\n          </div>\n          <Input\n            required\n            maxLength={200}\n            name=\"title\"\n            placeholder=\"Title\"\n          />\n          <ImageUpload />\n          <Textarea\n            required\n            maxLength={800}\n            name=\"text\"\n            placeholder=\"Text\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(CreateNewsDialog);\n\nCreateNewsDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 3,\n  y: 11,\n  width: 18,\n  height: 11,\n  rx: 2,\n  ry: 2\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 11V7a5 5 0 0 1 9.9-1\"\n});\n\nvar SvgUnlock = function SvgUnlock(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 3,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: \"feather feather-unlock\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUnlock, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unlock.35f7faf1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport { followRoom } from '../../../socket/actions/rooms';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport { getRoomById } from '../../../redux/selectors/rooms';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport { hasAccessTo } from '../../../AccessCentral';\n\nimport { ReactComponent as Unlock } from '../../../icons/unlock.svg';\n\nconst JoinRoomDialog = ({ roomId, id, index }) => {\n  const [error, setError] = useState();\n  const room = useSelector((state) => getRoomById(state, { id: roomId }));\n  const user = useSelector(getCurrentUser);\n  const methods = useForm();\n\n  const { hasAccess } = hasAccessTo({\n    objectToAccess: room,\n    toAuth: user,\n  });\n\n  const onSubmit = ({\n    password,\n  } = {}) => {\n    followRoom({ roomId, password })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.CHAT, value: { type: WindowTypes.CHAT, roomId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((followError) => {\n        const newError = {\n          ...followError,\n        };\n\n        console.log(followError);\n\n        if (followError.type === 'not allowed') {\n          newError.message = 'Incorrect password';\n        }\n\n        setError(newError);\n      });\n  };\n\n  return (\n    <Dialog\n      id={id}\n      error={error}\n      index={index}\n      className=\"JoinRoomDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGJOINROOM, roomId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={!hasAccess ? `Unlock room ${room.roomName}` : `Join room ${room.roomName}`}\n      buttons={[\n        <Button\n          stopPropagation\n          type=\"submit\"\n          onClick={() => methods.handleSubmit(onSubmit)()}\n        >\n          {!hasAccess && (\n            <Unlock />\n          )}\n          <span>{!hasAccess ? 'Unlock' : 'Join'}</span>\n        </Button>,\n      ]}\n    >\n      <FormProvider {...methods}>\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <div>\n            {hasAccess && (\n              <p>{`Do you want to join room ${room.roomName}?`}</p>\n            )}\n            {hasAccess && room.topic && (\n              <p>{`Topic: ${room.topic}`}</p>\n            )}\n            {!hasAccess && (\n              <>\n                <p>The room is locked.</p>\n                <p>Enter the password to continue:</p>\n              </>\n            )}\n          </div>\n          {!hasAccess && (\n            <Input\n              required={!hasAccess}\n              minLength={4}\n              maxLength={100}\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          )}\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(JoinRoomDialog);\n\nJoinRoomDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  roomId: string.isRequired,\n};\n","import React, { useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { number, string } from 'prop-types';\nimport { FormProvider, useForm, useWatch } from 'react-hook-form';\n\nimport Dialog from '../Dialog/Dialog';\nimport store from '../../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../../redux/reducers/windowOrder';\nimport { getCurrentUser } from '../../../../redux/selectors/users';\nimport Input from '../../sub-components/Input/Input';\nimport { updateUser } from '../../../../socket/actions/users';\nimport Button from '../../sub-components/Button/Button';\nimport Select from '../../sub-components/Select/Select';\nimport { getDeviceId } from '../../../../StorageManager';\n\nimport './ConfigSystemDialog.scss';\n\nconst ConfigSystemDialog = ({ id, index }) => {\n  const formMethods = useForm();\n  const currentUser = useSelector(getCurrentUser);\n  const onDevice = useWatch({ control: formMethods.control, name: 'onDevice', defaultValue: '' });\n  const systemConfig = onDevice === 'this' && currentUser.systemConfig ? (currentUser.systemConfig[getDeviceId()] || {}) : currentUser.systemConfig || {};\n\n  console.log(onDevice);\n\n  const onSubmit = ({\n    hideHelp,\n    hideTopBar,\n    alwaysMaximized,\n    hideMenuBar,\n    openApps,\n    removeDeviceConfig,\n  }) => {\n    let config;\n\n    if (!removeDeviceConfig) {\n      const deviceConfig = systemConfig[getDeviceId()] || {};\n      config = onDevice === 'this'\n        ? {\n          ...systemConfig,\n          [getDeviceId()]: {\n            ...deviceConfig,\n            hideHelp,\n            hideTopBar,\n            alwaysMaximized,\n            hideMenuBar,\n            openApps: openApps.map((type) => ({ id: type, value: { type } })),\n          },\n        }\n        : {\n          ...systemConfig,\n          hideHelp,\n          hideTopBar,\n          alwaysMaximized,\n          hideMenuBar,\n          openApps: openApps.map((type) => ({ id: type, value: { type } })),\n        };\n    } else {\n      const { [getDeviceId()]: deviceConfig, ...newConfig } = currentUser.systemConfig;\n\n      config = newConfig;\n\n      formMethods.setValue('onDevice', '');\n    }\n\n    updateUser({\n      userId: currentUser.objectId,\n      user: {\n        systemConfig: config,\n      },\n    })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((error) => console.log(error));\n  };\n\n  const onClick = useCallback(() => {\n    store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGCONFIGSYSTEM } }] }));\n  }, [id]);\n\n  const onDone = useCallback(() => store.dispatch(removeWindow({ id })), [id]);\n\n  return (\n    <Dialog\n      className=\"ConfigSystemDialog configDialog\"\n      id={id}\n      index={index}\n      title={`System config: ${currentUser.username}`}\n      onClick={onClick}\n      done={onDone}\n      buttons={[\n        <>\n          {onDevice === 'this' && currentUser.systemConfig[getDeviceId()] && (\n            <Button\n              stopPropagation\n              key=\"removeConfig\"\n              type=\"button\"\n              onClick={() => onSubmit({ removeDeviceConfig: true })}\n            >\n              Remove\n            </Button>\n          )}\n        </>,\n        <Button\n          stopPropagation\n          key=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n          type=\"submit\"\n        >\n          Update\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div>\n            <p>{`Changes made here will only affect your user (${currentUser.username}) and only when you are logged in.`}</p>\n          </div>\n          <div>\n            <span>Do you want to change settings for when you login on any device or a specific device? The device specific settings will override any global settings</span>\n            <Select\n              key=\"onDevice\"\n              name=\"onDevice\"\n              defaultValue=\"\"\n            >\n              <option value=\"\">Any device (default)</option>\n              <option value=\"this\">This device</option>\n            </Select>\n          </div>\n          <div>\n            <span>Select apps to auto-open when you log in (you can choose how they are expanded and placed in Settings for each app):</span>\n            <Select\n              multiple\n              key={`openApps-${onDevice}`}\n              defaultValue={(systemConfig.openApps || ['']).map((app) => (app.value ? app.value.type : ''))}\n              name=\"openApps\"\n            >\n              <option value=\"\">No app</option>\n              <option value={WindowTypes.CHAT}>Chat</option>\n              <option value={WindowTypes.WALLET}>Wallet</option>\n              <option value={WindowTypes.WORLDMAP}>Map</option>\n              <option value={WindowTypes.DOCFILE}>Files</option>\n              <option value={WindowTypes.NEWS}>News</option>\n            </Select>\n          </div>\n          <div>\n            <span>Automatically maximize windows?</span>\n            <Input\n              key={`alwaysMaximized-${onDevice}`}\n              type=\"checkbox\"\n              name=\"alwaysMaximized\"\n              checked={systemConfig.alwaysMaximized}\n            />\n          </div>\n          <div>\n            <span>Minimize main menu?</span>\n            <Input\n              key={`hideMenuBar-${onDevice}`}\n              type=\"checkbox\"\n              name=\"hideMenuBar\"\n              checked={systemConfig.hideMenuBar}\n            />\n          </div>\n          <div>\n            <span>Hide top row in windows? (Windows will be auto-maximized)?</span>\n            <Input\n              key={`hideTopBar-${onDevice}`}\n              type=\"checkbox\"\n              name=\"hideTopBar\"\n              checked={systemConfig.hideTopBar}\n            />\n          </div>\n          <div>\n            <span>Hide help buttons?</span>\n            <Input\n              key={`hideHelp-${onDevice}`}\n              type=\"checkbox\"\n              name=\"hideHelp\"\n              checked={systemConfig.hideHelp}\n            />\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(ConfigSystemDialog);\n\nConfigSystemDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { batch, useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\n\nimport { ReactComponent as Unlock } from '../../../icons/unlock.svg';\nimport { getDocFileById } from '../../../redux/selectors/docFiles';\nimport { unlockDocFile } from '../../../socket/actions/docFiles';\n\nconst UnlockDocFileDialog = ({ docFileId, id, index }) => {\n  const [error, setError] = useState();\n  const docFile = useSelector((state) => getDocFileById(state, { id: docFileId }));\n  const formMethods = useForm();\n\n  const onSubmit = ({\n    code,\n  } = {}) => {\n    unlockDocFile({ docFileId, code })\n      .then(() => {\n        batch(() => {\n          store.dispatch(changeWindowOrder({ windows: [{ id: WindowTypes.DOCFILE, value: { type: WindowTypes.DOCFILE, docFileId } }] }));\n          store.dispatch(removeWindow({ id }));\n        });\n      })\n      .catch((unlockError) => {\n        const newError = {\n          ...unlockError,\n        };\n\n        console.log(unlockError);\n\n        if (unlockError.type === 'not allowed') {\n          newError.message = 'Incorrect code';\n        }\n\n        setError(newError);\n      });\n  };\n\n  return (\n    <Dialog\n      id={id}\n      error={error}\n      index={index}\n      className=\"UnlockDocFileDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGUNLOCKROOM, docFileId } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      title={`Unlock file ${docFile.title}`}\n      buttons={[\n        <Button\n          stopPropagation\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          <Unlock />\n          <span>Unlock</span>\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div className=\"identity\">\n            <span>You are: </span>\n            <IdentityPicker />\n          </div>\n          <div>\n            <p>The file is locked.</p>\n            <p>Enter the code to continue:</p>\n          </div>\n          <Input\n            required\n            name=\"code\"\n            type=\"text\"\n            placeholder=\"Code\"\n          />\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(UnlockDocFileDialog);\n\nUnlockDocFileDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n  docFileId: string.isRequired,\n};\n","import React, { useState } from 'react';\nimport { number, string } from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useForm, FormProvider } from 'react-hook-form';\n\nimport Dialog from '../../common/dialogs/Dialog/Dialog';\nimport Input from '../../common/sub-components/Input/Input';\nimport Button from '../../common/sub-components/Button/Button';\nimport store from '../../../redux/store';\nimport { changeWindowOrder, removeWindow } from '../../../redux/actions/windowOrder';\nimport Textarea from '../../common/sub-components/Textarea/Textarea';\nimport { WindowTypes } from '../../../redux/reducers/windowOrder';\nimport IdentityPicker from '../../common/lists/IdentityPicker/IdentityPicker';\nimport ImageUpload from '../../common/sub-components/ImageUpload/ImageUpload';\nimport { updateUser } from '../../../socket/actions/users';\nimport { getCurrentUser } from '../../../redux/selectors/users';\nimport Select from '../../common/sub-components/Select/Select';\n\nconst SettingsNewsDialog = ({ id, index }) => {\n  const currentUser = useSelector(getCurrentUser);\n  const formMethods = useForm();\n  const [error, setError] = useState();\n  const { systemConfig = { [WindowTypes.NEWS]: {} } } = currentUser;\n\n  const onSubmit = ({\n    expand,\n    hideTopBar,\n  }) => {\n    updateUser({\n      userId: currentUser.objectId,\n      user: {\n        systemConfig: {\n          ...systemConfig,\n          [WindowTypes.NEWS]: {\n            ...systemConfig[WindowTypes.NEWS],\n            expand,\n            hideTopBar,\n          },\n        },\n      },\n    })\n      .then(() => store.dispatch(removeWindow({ id })))\n      .catch((updateError) => console.log(updateError));\n  };\n\n  return (\n    <Dialog\n      id={id}\n      index={index}\n      className=\"SettingsNewsDialog configDialog\"\n      onClick={() => {\n        store.dispatch(changeWindowOrder({ windows: [{ id, value: { type: WindowTypes.DIALOGSETTINGSNEWS } }] }));\n      }}\n      done={() => store.dispatch(removeWindow({ id }))}\n      error={error}\n      title=\"Settings: News App\"\n      buttons={[\n        <Button\n          key=\"submit\"\n          type=\"submit\"\n          onClick={() => formMethods.handleSubmit(onSubmit)()}\n        >\n          Update\n        </Button>,\n      ]}\n    >\n      <FormProvider {...formMethods}>\n        <form onSubmit={formMethods.handleSubmit(onSubmit)}>\n          <div>\n            <span>Hide top row? (Window will be auto-maximized. You can close and change settings for the window under File)?</span>\n            <Input type=\"checkbox\" name=\"hideTopBar\" checked={systemConfig.hideTopBar} />\n          </div>\n          <div>\n            <span>Automatically expand and place window?</span>\n            <Select\n              defaultValue={systemConfig[WindowTypes.NEWS].expand}\n              name=\"expand\"\n            >\n              <option value=\"\">No</option>\n              <option value=\"maximize\">Maximize</option>\n              <option value=\"left\">Left half</option>\n              <option value=\"right\">Right half</option>\n            </Select>\n          </div>\n        </form>\n      </FormProvider>\n    </Dialog>\n  );\n};\n\nexport default React.memo(SettingsNewsDialog);\n\nSettingsNewsDialog.propTypes = {\n  id: string.isRequired,\n  index: number.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport Wallet from '../Wallet/Wallet';\nimport WorldMap from '../WorldMap/WorldMap';\nimport Chat from '../Chat/Chat';\nimport { getOrder } from '../../redux/selectors/windowOrder';\nimport { WindowTypes } from '../../redux/reducers/windowOrder';\nimport IdentityDialog from '../common/dialogs/IdentityDialog';\nimport CreateRoomDialog from '../Chat/dialogs/CreateRoomDialog';\nimport RemoveRoomDialog from '../Chat/dialogs/RemoveRoomDialog';\nimport LoginDialog from '../common/dialogs/LoginDialog';\nimport RegisterDialog from '../common/dialogs/RegisterDialog';\nimport CreateAliasDialog from '../common/dialogs/CreateAliasDialog';\nimport CreateTransactionDialog from '../common/dialogs/CreateTransactionDialog';\nimport DocFile from '../DocFile/DocFile';\nimport CreateDocFileDialog from '../DocFile/dialogs/CreateDocFile/CreateDocFileDialog';\nimport Dashboard from './Dashboard/Dashboard';\nimport News from '../News/News';\nimport CreateNewsDialog from '../News/dialogs/CreateNewsDialog';\nimport JoinRoomDialog from '../Chat/dialogs/JoinRoomDialog';\nimport ConfigSystemDialog from '../common/dialogs/ConfigSystem/ConfigSystemDialog';\nimport { getSystemConfig } from '../../redux/selectors/users';\nimport store from '../../redux/store';\nimport { changeWindowOrder } from '../../redux/actions/windowOrder';\nimport UnlockDocFileDialog from '../DocFile/dialogs/UnlockDocFileDialog';\nimport SettingsNewsDialog from '../News/dialogs/SettingsNewsDialog';\n\nimport './MainWindow.scss';\n\nconst MainWindow = () => {\n  const systemConfig = useSelector(getSystemConfig);\n  const order = useSelector(getOrder);\n  const windows = [];\n\n  useEffect(() => {\n    if (systemConfig.openApps && systemConfig.openApps.length > 0) {\n      store.dispatch(changeWindowOrder({ windows: systemConfig.openApps.map(({ id, value }) => ({ id, value })) }));\n    }\n  }, [systemConfig.openApps]);\n\n  order.forEach((value, key) => {\n    const { type } = value;\n\n    switch (type) {\n      case WindowTypes.CHAT: {\n        windows.push(<Chat key={key} id={key} roomId={value.roomId} messageId={value.messageId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.WALLET: {\n        windows.push(<Wallet key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.WORLDMAP: {\n        windows.push(<WorldMap key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DOCFILE: {\n        windows.push(<DocFile key={key} id={key} docFileId={value.docFileId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.NEWS: {\n        windows.push(<News key={key} id={key} messageId={value.messageId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGIDENTITY: {\n        windows.push(<IdentityDialog key={key} id={key} identityId={value.identityId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATEROOM: {\n        windows.push(<CreateRoomDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGLOGIN: {\n        windows.push(<LoginDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGREGISTER: {\n        windows.push(<RegisterDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGREMOVEROOM: {\n        windows.push(<RemoveRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATEALIAS: {\n        windows.push(<CreateAliasDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATETRANSACTION: {\n        windows.push(<CreateTransactionDialog key={key} id={key} toWalletId={value.toWalletId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATEDOCFILE: {\n        windows.push(<CreateDocFileDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCREATENEWS: {\n        windows.push(<CreateNewsDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGJOINROOM: {\n        windows.push(<JoinRoomDialog key={key} id={key} roomId={value.roomId} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGCONFIGSYSTEM: {\n        windows.push(<ConfigSystemDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGUNLOCKROOM: {\n        windows.push(<UnlockDocFileDialog key={key} id={key} index={value.index} docFileId={value.docFileId} />);\n\n        break;\n      }\n      case WindowTypes.DIALOGSETTINGSNEWS: {\n        windows.push(<SettingsNewsDialog key={key} id={key} index={value.index} />);\n\n        break;\n      }\n      default: {\n        console.error('Unknown window type', type);\n\n        break;\n      }\n    }\n  });\n\n  return (\n    <div\n      key=\"mainWindow\"\n      id=\"MainWindow\"\n    >\n      <Dashboard />\n      {windows}\n    </div>\n  );\n};\n\nexport default React.memo(MainWindow);\n","import React from 'react';\n\nimport MenuBar from './library/components/MenuBar/MenuBar';\nimport MainWindow from './library/components/MainWindow/MainWindow';\n\nfunction App() {\n  return (\n    <>\n      <React.StrictMode>\n        <MenuBar />\n        <MainWindow />\n      </React.StrictMode>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { polyfill } from 'seamless-scroll-polyfill';\n\nimport App from './App';\nimport store from './library/redux/store';\n\nimport './index.scss';\n\nconst ElementQueries = require('css-element-queries');\n\npolyfill();\nElementQueries.ElementQueries.listen();\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}